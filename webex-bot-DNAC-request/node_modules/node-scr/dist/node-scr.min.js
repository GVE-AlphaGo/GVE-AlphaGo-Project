!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){(function(e){/**!
	 * lib/index.js -- SCR Implementation
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t){t.loc=t.loc||void 0,t.tag=t.tag||void 0,Object.defineProperty(this,"enc",{get:function(){return t.enc},enumerable:!0}),Object.defineProperty(this,"key",{get:function(){return t.key},enumerable:!0}),Object.defineProperty(this,"iv",{get:function(){return t.iv},enumerable:!0}),Object.defineProperty(this,"aad",{get:function(){return t.aad},enumerable:!0}),Object.defineProperty(this,"loc",{get:function(){return t.loc},set:function(e){t.loc=e},enumerable:!0}),Object.defineProperty(this,"tag",{get:function(){return t.tag},enumerable:!0}),Object.defineProperty(this,"toJSON",{value:function(){var e=t.key.get("k",!0),r={};return r.enc=t.enc,r.key=a.util.base64url.encode(e),r.iv=a.util.base64url.encode(t.iv),r.aad=t.aad,t.loc&&(r.loc=t.loc),t.tag&&(r.tag=a.util.base64url.encode(t.tag)),r}}),Object.defineProperty(this,"toJWE",{value:function(e){var r,n=this;return r=a.JWK.asKey(e),r=r.then(function(e){var r={header:{alg:"dir"},key:e,reference:!1},i={compact:!0,contentAlg:t.enc},o=n.toJSON();return o=JSON.stringify(o),a.JWE.createEncrypt(i,r)["final"](o,"utf8")})}}),Object.defineProperty(this,"encrypt",{value:function(r){var n={iv:t.iv,adata:new e(t.aad,"utf8")};return r=a.util.asBuffer(r),t.key.encrypt(t.enc,r,n).then(function(e){var r=e.data;return t.tag=e.tag,r})}}),Object.defineProperty(this,"decrypt",{value:function(r){var n={iv:t.iv,adata:new e(t.aad,"utf8"),mac:t.tag};return r=a.util.asBuffer(r),t.key.decrypt(t.enc,r,n).then(function(t){return t})}})}var i=r(5),a=r(18),o={create:function(){var t=a.util.randomBytes(12),e=(new Date).toISOString(),r=a.JWK.createKeyStore(),i=r.generate("oct",256);return i=i.then(function(r){return new n({enc:"A256GCM",key:r,iv:t,aad:e})})},fromJWE:function(t,e){var r;return r=a.JWK.asKey(t),r=r.then(function(t){return a.JWE.createDecrypt(t).decrypt(e)}),r=r.then(function(t){return t=t.plaintext.toString("utf8"),t=JSON.parse(t),o.fromJSON(t)})},fromJSON:function(t){var r,o=i(t);return r=t.key?a.JWK.asKey({kty:"oct",k:t.key}):Promise.resolve(),r=r.then(function(t){return t&&(o.key=t),"iv"in o&&(o.iv=e.isBuffer(o.iv)?o.iv:a.util.base64url.decode(o.iv)),"tag"in o&&(o.tag=e.isBuffer(o.tag)?o.tag:a.util.base64url.decode(o.tag)),new n(o)})}};t.exports=o}).call(e,r(1).Buffer)},function(t,e,r){(function(t,n){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function a(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,r){if(a()<r)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(r),e.__proto__=t.prototype):(null===e&&(e=new t(r)),e.length=r),e}function t(e,r,n){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,r,n);if("number"==typeof e){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return s(this,e,r,n)}function s(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?p(t,e,r,n):"string"==typeof e?l(t,e,r):d(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,r,n){return u(e),e<=0?o(t,e):void 0!==r?"string"==typeof n?o(t,e).fill(r,n):o(t,e).fill(r):o(t,e)}function f(e,r){if(u(r),e=o(e,r<0?0:0|y(r)),!t.TYPED_ARRAY_SUPPORT)for(var n=0;n<r;++n)e[n]=0;return e}function l(e,r,n){if("string"==typeof n&&""!==n||(n="utf8"),!t.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|v(r,n);e=o(e,i);var a=e.write(r,n);return a!==i&&(e=e.slice(0,a)),e}function h(t,e){var r=e.length<0?0:0|y(e.length);t=o(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(e,r,n,i){if(r.byteLength,n<0||r.byteLength<n)throw new RangeError("'offset' is out of bounds");if(r.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");return r=void 0===n&&void 0===i?new Uint8Array(r):void 0===i?new Uint8Array(r,n):new Uint8Array(r,n,i),t.TYPED_ARRAY_SUPPORT?(e=r,e.__proto__=t.prototype):e=h(e,r),e}function d(e,r){if(t.isBuffer(r)){var n=0|y(r.length);return e=o(e,n),0===e.length?e:(r.copy(e,0,0,n),e)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||Y(r.length)?o(e,0):h(e,r);if("Buffer"===r.type&&X(r.data))return h(e,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function g(e){return+e!=e&&(e=0),t.alloc(+e)}function v(e,r){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Z(e).length;default:if(i)return z(e).length;r=(""+r).toLowerCase(),i=!0}}function m(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return k(this,e,r);case"ascii":return N(this,e,r);case"latin1":case"binary":return F(this,e,r);case"base64":return I(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function b(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function E(e,r,n,i,a){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"==typeof r&&(r=t.from(r,i)),t.isBuffer(r))return 0===r.length?-1:w(e,r,n,i,a);if("number"==typeof r)return r=255&r,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,r,n):Uint8Array.prototype.lastIndexOf.call(e,r,n):w(e,[r],n,i,a);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,i){function a(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}var o=1,s=t.length,u=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,r/=2}var c;if(i){var f=-1;for(c=r;c<s;c++)if(a(t,c)===a(e,f===-1?0:c-f)){if(f===-1&&(f=c),c-f+1===u)return f*o}else f!==-1&&(c-=c-f),f=-1}else for(r+u>s&&(r=s-u),c=r;c>=0;c--){for(var l=!0,h=0;h<u;h++)if(a(t,c+h)!==a(e,h)){l=!1;break}if(l)return c}return-1}function _(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=e.length;if(a%2!==0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[r+o]=s}return o}function C(t,e,r,n){return Q(z(e,t.length-r),t,r,n)}function S(t,e,r,n){return Q(G(e),t,r,n)}function A(t,e,r,n){return S(t,e,r,n)}function T(t,e,r,n){return Q(Z(e),t,r,n)}function B(t,e,r,n){return Q(W(e,t.length-r),t,r,n)}function I(t,e,r){return 0===e&&r===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,r))}function k(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a=t[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){var u,c,f,l;switch(s){case 1:a<128&&(o=a);break;case 2:u=t[i+1],128===(192&u)&&(l=(31&a)<<6|63&u,l>127&&(o=l));break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(l=(15&a)<<12|(63&u)<<6|63&c,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:u=t[i+1],c=t[i+2],f=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&f)&&(l=(15&a)<<18|(63&u)<<12|(63&c)<<6|63&f,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return R(n)}function R(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return r}function N(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function F(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function P(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=q(t[a]);return i}function O(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function L(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function x(e,r,n,i,a,o){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>a||r<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function D(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function U(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function j(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(t,e,r,n,i){return i||j(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,r,n,23,4),r+4}function K(t,e,r,n,i){return i||j(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,r,n,52,8),r+8}function V(t){if(t=H(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function H(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function q(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){e=e||1/0;for(var r,n=t.length,i=null,a=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function G(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function W(t,e){for(var r,n,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function Z(t){return J.toByteArray(V(t))}function Q(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Y(t){return t!==t}var J=r(2),$=r(3),X=r(4);e.Buffer=t,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=a(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,r){return s(null,t,e,r)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,r){return c(null,t,e,r)},t.allocUnsafe=function(t){return f(null,t)},t.allocUnsafeSlow=function(t){return f(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,r){if(!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var n=e.length,i=r.length,a=0,o=Math.min(n,i);a<o;++a)if(e[a]!==r[a]){n=e[a],i=r[a];break}return n<i?-1:i<n?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!X(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=t.allocUnsafe(r),a=0;for(n=0;n<e.length;++n){var o=e[n];if(!t.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i},t.byteLength=v,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?k(this,0,t):m.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,r,n,i,a){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===a&&(a=this.length),r<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;for(var o=a-i,s=n-r,u=Math.min(o,s),c=this.slice(i,a),f=e.slice(r,n),l=0;l<u;++l)if(c[l]!==f[l]){o=c[l],s=f[l];break}return o<s?-1:s<o?1:0},t.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},t.prototype.indexOf=function(t,e,r){return E(this,t,e,r,!0)},t.prototype.lastIndexOf=function(t,e,r){return E(this,t,e,r,!1)},t.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return C(this,t,e,r);case"ascii":return S(this,t,e,r);case"latin1":case"binary":return A(this,t,e,r);case"base64":return T(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(e,r){var n=this.length;e=~~e,r=void 0===r?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(e,r),i.__proto__=t.prototype;else{var a=r-e;i=new t(a,(void 0));for(var o=0;o<a;++o)i[o]=this[o+e]}return i},t.prototype.readUIntLE=function(t,e,r){t=0|t,e=0|e,r||L(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},t.prototype.readUIntBE=function(t,e,r){t=0|t,e=0|e,r||L(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},t.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,r){t=0|t,e=0|e,r||L(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},t.prototype.readIntBE=function(t,e,r){t=0|t,e=0|e,r||L(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},t.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},t.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),$.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),$.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),$.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),$.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e=0|e,r=0|r,!n){var i=Math.pow(2,8*r)-1;x(this,t,e,r,i,0)}var a=1,o=0;for(this[e]=255&t;++o<r&&(a*=256);)this[e+o]=t/a&255;return e+r},t.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e=0|e,r=0|r,!n){var i=Math.pow(2,8*r)-1;x(this,t,e,r,i,0)}var a=r-1,o=1;for(this[e+a]=255&t;--a>=0&&(o*=256);)this[e+a]=t/o&255;return e+r},t.prototype.writeUInt8=function(e,r,n){return e=+e,r=0|r,n||x(this,e,r,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=255&e,r+1},t.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=0|r,n||x(this,e,r,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):D(this,e,r,!0),r+2},t.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=0|r,n||x(this,e,r,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):D(this,e,r,!1),r+2},t.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=0|r,n||x(this,e,r,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=255&e):U(this,e,r,!0),r+4},t.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=0|r,n||x(this,e,r,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):U(this,e,r,!1),r+4},t.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);x(this,t,e,r,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&t;++a<r&&(o*=256);)t<0&&0===s&&0!==this[e+a-1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},t.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=0|e,!n){var i=Math.pow(2,8*r-1);x(this,t,e,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[e+a]=255&t;--a>=0&&(o*=256);)t<0&&0===s&&0!==this[e+a+1]&&(s=1),this[e+a]=(t/o>>0)-s&255;return e+r},t.prototype.writeInt8=function(e,r,n){return e=+e,r=0|r,n||x(this,e,r,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=255&e,r+1},t.prototype.writeInt16LE=function(e,r,n){return e=+e,r=0|r,n||x(this,e,r,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):D(this,e,r,!0),r+2},t.prototype.writeInt16BE=function(e,r,n){return e=+e,r=0|r,n||x(this,e,r,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):D(this,e,r,!1),r+2},t.prototype.writeInt32LE=function(e,r,n){return e=+e,r=0|r,n||x(this,e,r,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):U(this,e,r,!0),r+4},t.prototype.writeInt32BE=function(e,r,n){return e=+e,r=0|r,n||x(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):U(this,e,r,!1),r+4},t.prototype.writeFloatLE=function(t,e,r){return M(this,t,e,!0,r)},t.prototype.writeFloatBE=function(t,e,r){return M(this,t,e,!1,r)},t.prototype.writeDoubleLE=function(t,e,r){return K(this,t,e,!0,r)},t.prototype.writeDoubleBE=function(t,e,r){return K(this,t,e,!1,r)},t.prototype.copy=function(e,r,n,i){if(n||(n=0),i||0===i||(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var a,o=i-n;if(this===e&&n<r&&r<i)for(a=o-1;a>=0;--a)e[a+r]=this[a+n];else if(o<1e3||!t.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)e[a+r]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),r);return o},t.prototype.fill=function(e,r,n,i){if("string"==typeof e){if("string"==typeof r?(i=r,r=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e=255&e);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var o;if("number"==typeof e)for(o=r;o<n;++o)this[o]=e;else{var s=t.isBuffer(e)?e:z(new t(e,i).toString()),u=s.length;for(o=0;o<n-r;++o)this[o+r]=s[o%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,r(1).Buffer,function(){return this}())},function(t,e){"use strict";function r(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)s[e]=t[e],u[t.charCodeAt(e)]=e;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63}function n(t){var e,r,n,i,a,o,s=t.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");a="="===t[s-2]?2:"="===t[s-1]?1:0,o=new c(3*s/4-a),n=a>0?s-4:s;var f=0;for(e=0,r=0;e<n;e+=4,r+=3)i=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],o[f++]=i>>16&255,o[f++]=i>>8&255,o[f++]=255&i;return 2===a?(i=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,o[f++]=255&i):1===a&&(i=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,o[f++]=i>>8&255,o[f++]=255&i),o}function i(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function a(t,e,r){for(var n,a=[],o=e;o<r;o+=3)n=(t[o]<<16)+(t[o+1]<<8)+t[o+2],a.push(i(n));return a.join("")}function o(t){for(var e,r=t.length,n=r%3,i="",o=[],u=16383,c=0,f=r-n;c<f;c+=u)o.push(a(t,c,c+u>f?f:c+u));return 1===n?(e=t[r-1],i+=s[e>>2],i+=s[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=s[e>>10],i+=s[e>>4&63],i+=s[e<<2&63],i+="="),o.push(i),o.join("")}e.toByteArray=n,e.fromByteArray=o;var s=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array;r()},function(t,e){e.read=function(t,e,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,p=t[e+l];for(l+=h,a=p&(1<<-f)-1,p>>=-f,f+=s;f>0;a=256*a+t[e+l],l+=h,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;f>0;o=256*o+t[e+l],l+=h,f-=8);if(0===a)a=1-c;else{if(a===u)return o?NaN:(p?-1:1)*(1/0);o+=Math.pow(2,n),a-=c}return(p?-1:1)*o*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var o,s,u,c=8*a-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),e+=o+l>=1?h/u:h*Math.pow(2,1-l),e*u>=2&&(o++,u/=2),o+l>=f?(s=0,o=f):o+l>=1?(s=(e*u-1)*Math.pow(2,i),o+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;t[r+p]=255&o,p+=d,o/=256,c-=8);t[r+p-d]|=128*y}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){function n(t,e,r,n){return e&&"boolean"!=typeof e&&o(t,e,r)?e=!1:"function"==typeof e&&(n=r,r=e,e=!1),"function"==typeof r?i(t,e,a(r,n,3)):i(t,e)}var i=r(6),a=r(16),o=r(17);t.exports=n},function(t,e,r){(function(e){function n(t,e,r,a,p,y,v){var m;if(r&&(m=p?r(t,a,p):r(t)),void 0!==m)return m;if(!c(t))return t;var b=d(t);if(b){if(m=o(t),!e)return f(t,m)}else{var E=H.call(t),_=E==w;if(E!=S&&E!=g&&(!_||p))return M[E]?u(t,E,e):p?t:{};if(m=s(_?{}:t),!e)return h(m,t)}y||(y=[]),v||(v=[]);for(var C=y.length;C--;)if(y[C]==t)return v[C];return y.push(t),v.push(m),(b?l:i)(t,function(i,a){m[a]=n(i,e,r,a,t,y,v)}),m}function i(t,e){return p(t,e,y)}function a(t){var e=new q(t.byteLength),r=new z(e);return r.set(new z(t)),e}function o(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&V.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function s(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}function u(t,e,r){var n=t.constructor;switch(e){case k:return a(t);case m:case b:return new n((+t));case R:case N:case F:case P:case O:case L:case x:case D:case U:var i=t.buffer;return new n(r?a(i):i,t.byteOffset,t.length);case C:case B:return new n(t);case A:var o=new n(t.source,j.exec(t));o.lastIndex=t.lastIndex}return o}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var f=r(7),l=r(8),h=r(9),p=r(15),d=r(14),y=r(11),g="[object Arguments]",v="[object Array]",m="[object Boolean]",b="[object Date]",E="[object Error]",w="[object Function]",_="[object Map]",C="[object Number]",S="[object Object]",A="[object RegExp]",T="[object Set]",B="[object String]",I="[object WeakMap]",k="[object ArrayBuffer]",R="[object Float32Array]",N="[object Float64Array]",F="[object Int8Array]",P="[object Int16Array]",O="[object Int32Array]",L="[object Uint8Array]",x="[object Uint8ClampedArray]",D="[object Uint16Array]",U="[object Uint32Array]",j=/\w*$/,M={};M[g]=M[v]=M[k]=M[m]=M[b]=M[R]=M[N]=M[F]=M[P]=M[O]=M[C]=M[S]=M[A]=M[B]=M[L]=M[x]=M[D]=M[U]=!0,M[E]=M[w]=M[_]=M[T]=M[I]=!1;var K=Object.prototype,V=K.hasOwnProperty,H=K.toString,q=e.ArrayBuffer,z=e.Uint8Array;t.exports=n}).call(e,function(){return this}())},function(t,e){function r(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}t.exports=r},function(t,e){function r(t,e){for(var r=-1,n=t.length;++r<n&&e(t[r],r,t)!==!1;);return t}t.exports=r},function(t,e,r){function n(t,e){return null==e?t:i(e,a(e),t)}var i=r(10),a=r(11);t.exports=n},function(t,e){function r(t,e,r){r||(r={});for(var n=-1,i=e.length;++n<i;){var a=e[n];r[a]=t[a]}return r}t.exports=r},function(t,e,r){function n(t){return function(e){return null==e?void 0:e[t]}}function i(t){return null!=t&&o(m(t))}function a(t,e){return t="number"==typeof t||p.test(t)?+t:-1,e=null==e?v:e,t>-1&&t%1==0&&t<e}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function s(t){for(var e=c(t),r=e.length,n=r&&t.length,i=!!n&&o(n)&&(h(t)||l(t)),s=-1,u=[];++s<r;){var f=e[s];(i&&a(f,n)||y.call(t,f))&&u.push(f)}return u}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function c(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&o(e)&&(h(t)||l(t))&&e||0;for(var r=t.constructor,n=-1,i="function"==typeof r&&r.prototype===t,s=Array(e),c=e>0;++n<e;)s[n]=n+"";for(var f in t)c&&a(f,e)||"constructor"==f&&(i||!y.call(t,f))||s.push(f);return s}var f=r(12),l=r(13),h=r(14),p=/^\d+$/,d=Object.prototype,y=d.hasOwnProperty,g=f(Object,"keys"),v=9007199254740991,m=n("length"),b=g?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&i(t)?s(t):u(t)?g(t):[]}:s;t.exports=b},function(t,e){function r(t){return!!t&&"object"==typeof t}function n(t,e){var r=null==t?void 0:t[e];return o(r)?r:void 0}function i(t){return a(t)&&h.call(t)==s}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){return null!=t&&(i(t)?p.test(f.call(t)):r(t)&&u.test(t))}var s="[object Function]",u=/^\[object .+?Constructor\]$/,c=Object.prototype,f=Function.prototype.toString,l=c.hasOwnProperty,h=c.toString,p=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=n},function(t,e){function r(t){return i(t)&&d.call(t,"callee")&&(!g.call(t,"callee")||y.call(t)==f)}function n(t){return null!=t&&o(t.length)&&!a(t)}function i(t){return u(t)&&n(t)}function a(t){var e=s(t)?y.call(t):"";return e==l||e==h}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return!!t&&"object"==typeof t}var c=9007199254740991,f="[object Arguments]",l="[object Function]",h="[object GeneratorFunction]",p=Object.prototype,d=p.hasOwnProperty,y=p.toString,g=p.propertyIsEnumerable;t.exports=r},function(t,e){function r(t){return!!t&&"object"==typeof t}function n(t,e){var r=null==t?void 0:t[e];return s(r)?r:void 0}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function a(t){return o(t)&&d.call(t)==c}function o(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function s(t){return null!=t&&(a(t)?y.test(h.call(t)):r(t)&&f.test(t))}var u="[object Array]",c="[object Function]",f=/^\[object .+?Constructor\]$/,l=Object.prototype,h=Function.prototype.toString,p=l.hasOwnProperty,d=l.toString,y=RegExp("^"+h.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),g=n(Array,"isArray"),v=9007199254740991,m=g||function(t){return r(t)&&i(t.length)&&d.call(t)==u};t.exports=m},function(t,e){function r(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var u=o[t?s:++i];if(r(a[u],u,a)===!1)break}return e}}var n=r();t.exports=n},function(t,e){function r(t,e,r){if("function"!=typeof t)return n;if(void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,i){return t.call(e,r,n,i)};case 4:return function(r,n,i,a){return t.call(e,r,n,i,a)};case 5:return function(r,n,i,a,o){return t.call(e,r,n,i,a,o)}}return function(){return t.apply(e,arguments)}}function n(t){return t}t.exports=r},function(t,e){function r(t){return function(e){return null==e?void 0:e[t]}}function n(t){return null!=t&&o(f(t))}function i(t,e){return t="number"==typeof t||u.test(t)?+t:-1,e=null==e?c:e,t>-1&&t%1==0&&t<e}function a(t,e,r){if(!s(r))return!1;var a=typeof e;if("number"==a?n(r)&&i(e,r.length):"string"==a&&e in r){var o=r[e];return t===t?t===o:o!==o}return!1}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var u=/^\d+$/,c=9007199254740991,f=r("length");t.exports=a},function(t,e,r){/*!
	 * index.js - Main Entry Point
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";"undefined"==typeof Promise&&r(19).polyfill(),t.exports={JWA:r(24),JWE:r(101),JWK:r(105),JWS:r(153),util:r(70),parse:r(158)}},function(t,e,r){var n;(function(t,i,a){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.2.1
	 */
(function(){"use strict";function o(t){return"function"==typeof t||"object"==typeof t&&null!==t}function s(t){return"function"==typeof t}function u(t){Y=t}function c(t){tt=t}function f(){return function(){t.nextTick(y)}}function l(){return function(){Q(y)}}function h(){var t=0,e=new nt(y),r=document.createTextNode("");return e.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}function p(){var t=new MessageChannel;return t.port1.onmessage=y,function(){t.port2.postMessage(0)}}function d(){return function(){setTimeout(y,1)}}function y(){for(var t=0;t<X;t+=2){var e=ot[t],r=ot[t+1];e(r),ot[t]=void 0,ot[t+1]=void 0}X=0}function g(){try{var t=r(22);return Q=t.runOnLoop||t.runOnContext,l()}catch(e){return d()}}function v(t,e){var r=this,n=new this.constructor(b);void 0===n[ct]&&U(n);var i=r._state;if(i){var a=arguments[i-1];tt(function(){L(i,n,a,r._result)})}else N(r,n,t,e);return n}function m(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var r=new e(b);return B(r,t),r}function b(){}function E(){return new TypeError("You cannot resolve a promise with itself")}function w(){return new TypeError("A promises callback cannot return that same promise.")}function _(t){try{return t.then}catch(e){return pt.error=e,pt}}function C(t,e,r,n){try{t.call(e,r,n)}catch(i){return i}}function S(t,e,r){tt(function(t){var n=!1,i=C(r,e,function(r){n||(n=!0,e!==r?B(t,r):k(t,r))},function(e){n||(n=!0,R(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&i&&(n=!0,R(t,i))},t)}function A(t,e){e._state===lt?k(t,e._result):e._state===ht?R(t,e._result):N(e,void 0,function(e){B(t,e)},function(e){R(t,e)})}function T(t,e,r){e.constructor===t.constructor&&r===st&&constructor.resolve===ut?A(t,e):r===pt?R(t,pt.error):void 0===r?k(t,e):s(r)?S(t,e,r):k(t,e)}function B(t,e){t===e?R(t,E()):o(e)?T(t,e,_(e)):k(t,e)}function I(t){t._onerror&&t._onerror(t._result),F(t)}function k(t,e){t._state===ft&&(t._result=e,t._state=lt,0!==t._subscribers.length&&tt(F,t))}function R(t,e){t._state===ft&&(t._state=ht,t._result=e,tt(I,t))}function N(t,e,r,n){var i=t._subscribers,a=i.length;t._onerror=null,i[a]=e,i[a+lt]=r,i[a+ht]=n,0===a&&t._state&&tt(F,t)}function F(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n,i,a=t._result,o=0;o<e.length;o+=3)n=e[o],i=e[o+r],n?L(r,n,i,a):i(a);t._subscribers.length=0}}function P(){this.error=null}function O(t,e){try{return t(e)}catch(r){return dt.error=r,dt}}function L(t,e,r,n){var i,a,o,u,c=s(r);if(c){if(i=O(r,n),i===dt?(u=!0,a=i.error,i=null):o=!0,e===i)return void R(e,w())}else i=n,o=!0;e._state!==ft||(c&&o?B(e,i):u?R(e,a):t===lt?k(e,i):t===ht&&R(e,i))}function x(t,e){try{e(function(e){B(t,e)},function(e){R(t,e)})}catch(r){R(t,r)}}function D(){return yt++}function U(t){t[ct]=yt++,t._state=void 0,t._result=void 0,t._subscribers=[]}function j(t){return new Et(this,t).promise}function M(t){var e=this;return new e($(t)?function(r,n){for(var i=t.length,a=0;a<i;a++)e.resolve(t[a]).then(r,n)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function K(t){var e=this,r=new e(b);return R(r,t),r}function V(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function q(t){this[ct]=D(),this._result=this._state=void 0,this._subscribers=[],b!==t&&("function"!=typeof t&&V(),this instanceof q?x(this,t):H())}function z(t,e){this._instanceConstructor=t,this.promise=new t(b),this.promise[ct]||U(this.promise),$(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&k(this.promise,this._result))):R(this.promise,G())}function G(){return new Error("Array Methods must be provided an Array")}function W(){var t;if("undefined"!=typeof i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=t.Promise;r&&"[object Promise]"===Object.prototype.toString.call(r.resolve())&&!r.cast||(t.Promise=bt)}var Z;Z=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var Q,Y,J,$=Z,X=0,tt=function(t,e){ot[X]=t,ot[X+1]=e,X+=2,2===X&&(Y?Y(y):J())},et="undefined"!=typeof window?window:void 0,rt=et||{},nt=rt.MutationObserver||rt.WebKitMutationObserver,it="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),at="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ot=new Array(1e3);J=it?f():nt?h():at?p():void 0===et?g():d();var st=v,ut=m,ct=Math.random().toString(36).substring(16),ft=void 0,lt=1,ht=2,pt=new P,dt=new P,yt=0,gt=j,vt=M,mt=K,bt=q;q.all=gt,q.race=vt,q.resolve=ut,q.reject=mt,q._setScheduler=u,q._setAsap=c,q._asap=tt,q.prototype={constructor:q,then:st,"catch":function(t){return this.then(null,t)}};var Et=z;z.prototype._enumerate=function(){for(var t=this.length,e=this._input,r=0;this._state===ft&&r<t;r++)this._eachEntry(e[r],r)},z.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===ut){var i=_(t);if(i===st&&t._state!==ft)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(r===bt){var a=new r(b);T(a,t,i),this._willSettleAt(a,e)}else this._willSettleAt(new r(function(e){e(t)}),e)}else this._willSettleAt(n(t),e)},z.prototype._settledAt=function(t,e,r){var n=this.promise;n._state===ft&&(this._remaining--,t===ht?R(n,r):this._result[e]=r),0===this._remaining&&k(n,this._result)},z.prototype._willSettleAt=function(t,e){var r=this;N(t,void 0,function(t){r._settledAt(lt,e,t)},function(t){r._settledAt(ht,e,t)})};var wt=W,_t={Promise:bt,polyfill:wt};r(23).amd?(n=function(){return _t}.call(e,r,e,a),!(void 0!==n&&(a.exports=n))):"undefined"!=typeof a&&a.exports?a.exports=_t:"undefined"!=typeof this&&(this.ES6Promise=_t),wt()}).call(this)}).call(e,r(20),function(){return this}(),r(21)(t))},function(t,e){function r(t){if(u===setTimeout)return setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function n(t){if(c===clearTimeout)return clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function i(){p&&l&&(p=!1,l.length?h=l.concat(h):d=-1,h.length&&a())}function a(){if(!p){var t=r(i);p=!0;for(var e=h.length;e;){for(l=h,h=[];++d<e;)l&&l[d].run();d=-1,e=h.length}l=null,p=!1,n(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var u,c,f=t.exports={};!function(){try{u=setTimeout}catch(t){u=function(){throw new Error("setTimeout is not defined")}}try{c=clearTimeout}catch(t){c=function(){throw new Error("clearTimeout is not defined")}}}();var l,h=[],p=!1,d=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new o(t,e)),1!==h.length||p||r(a)},o.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=s,f.addListener=s,f.once=s,f.off=s,f.removeListener=s,f.removeAllListeners=s,f.emit=s,f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,r){/*!
	 * algorithms/index.js - Cryptographic Algorithms Entry Point
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";var n=[r(25),r(72),r(80),r(81),r(82),r(83),r(96),r(95),r(28),r(97),r(98),r(100),r(69)],i={},a={},o={},s={},u={},c={};n.forEach(function(t){Object.keys(t).forEach(function(e){var r=t[e];"function"==typeof r.encrypt&&(u[e]=r.encrypt),"function"==typeof r.decrypt&&(c[e]=r.decrypt),"function"==typeof r.sign&&(o[e]=r.sign),"function"==typeof r.verify&&(s[e]=r.verify),"function"==typeof r.digest&&(i[e]=r.digest),"function"==typeof r.derive&&(a[e]=r.derive)})}),e.digest=function(t,e,r){var n=i[t];return n?n(e,r):Promise.reject(new Error("unsupported algorithm: "+t))},e.derive=function(t,e,r){var n=a[t];return n?n(e,r):Promise.reject(new Error("unsupported algorithm: "+t))},e.sign=function(t,e,r,n){var i=o[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.verify=function(t,e,r,n,i){var a=s[t];return a?a(e,r,n,i||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.encrypt=function(t,e,r,n){var i=u[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))},e.decrypt=function(t,e,r,n){var i=c[t];return i?i(e,r,n||{}):Promise.reject(new Error("unsupported algorithm: "+t))}},function(t,e,r){(function(e){/*!
	 * algorithms/aes-cbc-hmac-sha2.js - AES-CBC-HMAC-SHA2 Composited Encryption
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){if(16!==t.length)throw new Error("invalid iv")}function i(t){var r=function(t,e,r){try{n(r)}catch(i){return Promise.reject(i)}var a=Promise.resolve();return a=a.then(function(){var n=g.cipher.createCipher("AES-CBC",new v(t));if(n.start({iv:new v(r)}),n.update(new v(e)),!n.finish())return Promise.reject(new Error("encryption failed"));var i=n.output["native"]();return i})},i=function(t,r,i){try{n(i)}catch(a){return Promise.reject(a)}var o=Promise.resolve();return o=o.then(function(){var e={name:"AES-CBC"};return p.subtleCrypto.importKey("raw",t,e,!0,["encrypt"])}),o=o.then(function(t){var e={name:"AES-CBC",iv:i};return p.subtleCrypto.encrypt(e,t,r)}),o=o.then(function(t){return t=new e(t)})},a=function(r,i,a){try{n(a)}catch(o){return Promise.reject(o)}var s=Promise.resolve(i);return s=s.then(function(n){var i="AES-"+t+"-CBC",o=p.nodeCrypto.createCipheriv(i,r,a),s=e.concat([o.update(n),o["final"]()]);return s})};return p.setupFallback(a,i,r)}function a(t){var r=function(t,e,r){try{n(r)}catch(i){return Promise.reject(i)}var a=Promise.resolve();return a=a.then(function(){var n=g.cipher.createDecipher("AES-CBC",new v(t));if(n.start({iv:new v(r)}),n.update(new v(e)),!n.finish())return Promise.reject(new Error("encryption failed"));var i=n.output["native"]();return i})},i=function(t,r,i){try{n(i)}catch(a){return Promise.reject(a)}var o=Promise.resolve();return o=o.then(function(){var e={name:"AES-CBC"};return p.subtleCrypto.importKey("raw",t,e,!0,["decrypt"])}),o=o.then(function(t){var e={name:"AES-CBC",iv:i};return p.subtleCrypto.decrypt(e,t,r)}),o=o.then(function(t){return t=new e(t)})},a=function(r,i,a){try{n(a)}catch(o){return Promise.reject(o)}var s=Promise.resolve();return s=s.then(function(){var n="AES-"+t+"-CBC",o=p.nodeCrypto.createDecipheriv(n,r,a),s=e.concat([o.update(i),o["final"]()]);return s})};return p.setupFallback(a,i,r)}function o(t,e){if(e<<1!==t.length<<3)throw new Error("invalid encryption key size")}function s(t){var r=i(t);return function(n,i,a){try{o(n,t)}catch(s){return Promise.reject(s)}var u=n.slice(t/8),c=n.slice(0,t/8),f=a.iv||new e(0),l=a.aad||a.adata||new e(0),h=r(u,i,f);return h=h.then(function(r){var n,i=e.concat([l,f,r,p.int64ToBuffer(8*l.length)]);return n=d["HS"+2*t].sign(c,i,{loose:!0}),n=n.then(function(e){var n=e.mac.slice(0,t/8);return{data:r,tag:n}})})}}function u(t){var r=a(t);return function(n,i,a){try{o(n,t)}catch(s){return Promise.reject(s)}var u=n.slice(t/8),c=n.slice(0,t/8),f=a.iv||new e(0),l=a.aad||a.adata||new e(0),h=a.tag||a.mac||new e(0),y=Promise.resolve();return y=y.then(function(){var r,n=e.concat([l,f,i,p.int64ToBuffer(8*l.length)]);return r=d["HS"+2*t].verify(c,n,h,{loose:!0}),r=r.then(function(){return i},function(){throw new Error("mac check failed")})}),y=y.then(function(){return r(u,i,f)})}}function c(t,r,n,i){var a=8*t.length,o=a/2,s=Promise.resolve();return s=s.then(function(){var a=e.concat([p.int32ToBuffer(1),t,p.int32ToBuffer(o),new e(r,"utf8"),n,i,b]);return a}),s=s.then(function(t){return y["SHA-"+a].digest(t).then(function(t){return t.slice(0,o/8)})}),s=Promise.resolve(s)}function f(t,r,n,i){var a=8*t.length,o=a,s=Promise.resolve();return s=s.then(function(){var a=e.concat([p.int32ToBuffer(1),t,p.int32ToBuffer(o),new e(r,"utf8"),n,i,E]);return a}),s=s.then(function(t){return y["SHA-"+a].digest(t).then(function(t){return t.slice(0,o/8)})}),s=Promise.resolve(s)}function l(t,r){var n=i(t);return function(i,a,o){var s,u,l=o.epu||p.int32ToBuffer(0),h=o.epv||p.int32ToBuffer(0),y=o.iv||new e(0),g=o.aad||o.adata||new e(0),v=o.kdata||new e(0),b=[c(i,r,l,h),f(i,r,l,h)],E=Promise.all(b).then(function(t){s=t[0],u=t[1]});return E=E.then(function(){return n(s,a,y)}),E=E.then(function(r){var n=e.concat([g,w,new e(v),w,new e(m.base64url.encode(y),"utf8"),w,new e(m.base64url.encode(r),"utf8")]);return Promise.all([Promise.resolve(r),d["HS"+2*t].sign(u,n,{loose:!1})])}),E=E.then(function(t){return{data:t[0],tag:t[1].mac}})}}function h(t,r){var n=a(t);return function(i,a,o){var s,u,l=o.epu||p.int32ToBuffer(0),h=o.epv||p.int32ToBuffer(0),y=o.iv||new e(0),g=o.aad||o.adata||new e(0),v=o.kdata||new e(0),b=o.tag||o.mac||new e(0),E=[c(i,r,l,h),f(i,r,l,h)],_=Promise.all(E).then(function(t){s=t[0],u=t[1]});return _=_.then(function(){var r=e.concat([g,w,new e(v),w,new e(m.base64url.encode(y),"utf8"),w,new e(m.base64url.encode(a),"utf8")]);try{return d["HS"+2*t].verify(u,r,b,{loose:!1})}catch(n){throw new Error("mac check failed")}}),_=_.then(function(){return n(s,a,y)})}}var p=r(26),d=r(28),y=r(69),g=r(30),v=r(65),m=r(70),b=new e("Encryption","utf8"),E=new e("Integrity","utf8"),w=new e(".","utf8"),_={};["A128CBC-HS256","A192CBC-HS384","A256CBC-HS512"].forEach(function(t){var e=parseInt(/A(\d+)CBC-HS(\d+)?/g.exec(t)[1]);_[t]={encrypt:s(e),decrypt:u(e)}}),["A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"].forEach(function(t){var e=parseInt(/A(\d+)CBC\+HS(\d+)?/g.exec(t)[1]);_[t]={encrypt:l(e,t),decrypt:h(e,t)}}),t.exports=_}).call(e,r(1).Buffer)},function(t,e,r){(function(t){/*!
	 * algorithms/helpers.js - Internal functions and fields used in Cryptographic
	 * Algorithms
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(){if("undefined"!=typeof crypto){if("undefined"!=typeof crypto.subtle)return crypto.subtle;if("undefined"!=typeof crypto.webkitSubtle)return crypto.webkitSubtle}}function i(){var t;try{t=r(27)}catch(e){return}if(Object.keys(t).length)return t}"undefined"==typeof Promise&&r(19).polyfill(),e.int32ToBuffer=function(e,r){return r=r||new t(4),r[0]=e>>>24&255,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r};var a=Math.pow(2,32);e.int64ToBuffer=function(r,n){n=n||new t(8);var i=Math.floor(r/a),o=r%a;return i=e.int32ToBuffer(i),o=e.int32ToBuffer(o),n=t.concat([i,o])};var o={};Object.defineProperty(e,"subtleCrypto",{get:function(){var t;return t="subtleCrypto"in o?o.subtleCrypto:o.subtleCrypto=n()},enumerable:!0}),Object.defineProperty(e,"nodeCrypto",{get:function(){var t;return t="nodeCrypto"in o?o.nodeCrypto:o.nodeCrypto=i()},enumerable:!0}),e.setupFallback=function(t,r,n){var i;return i=t&&e.nodeCrypto?function(){function e(t){return 0===t.message.indexOf("unsupported algorithm:")?(i=n,i.apply(null,a)):Promise.reject(t)}var r,a=arguments;try{r=Promise.resolve(t.apply(null,a))}catch(o){r=e(o)}return r}:r&&e.subtleCrypto?function(){function t(t){return t.code!==DOMException.NOT_SUPPORTED_ERR&&"Only ArrayBuffer and ArrayBufferView objects can be passed as CryptoOperationData"!==t.message&&t instanceof Error?Promise.reject(t):(i=n,i.apply(null,a))}var e,a=arguments;try{e=r.apply(null,a),e=e["catch"](t)}catch(o){e=t(o)}return e}:n}}).call(e,r(1).Buffer)},function(t,e){},function(t,e,r){(function(e){/*!
	 * algorithms/hmac.js - HMAC-based "signatures"
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){var r=t.replace("HS","SHA").toLowerCase(),n=t.replace("HS","SHA-"),i=function(t,e,i){if(i=i||{},!i.loose&&a.HASHLENGTH[n]>t.length<<3)return Promise.reject(new Error("invalid key length"));var s=o.hmac.create();return s.start(r,t.toString("binary")),s.update(e),s=s.digest()["native"](),Promise.resolve({data:e,mac:s})},s=function(t,r,i){if(i=i||{},!i.loose&&a.HASHLENGTH[n]>t.length<<3)return Promise.reject(new Error("invalid key length"));var o,s={name:"HMAC",hash:{name:n}};return o=u.subtleCrypto.importKey("raw",t,s,!0,["sign"]),o=o.then(function(t){return u.subtleCrypto.sign(s,t,r)}),o=o.then(function(t){var n=new e(t);return{data:r,mac:n}})},c=function(t,e,i){if(i=i||{},!i.loose&&a.HASHLENGTH[n]>t.length<<3)return Promise.reject(new Error("invalid key length"));var o=u.nodeCrypto.createHmac(r,t);o.update(e);var s=o.digest();return{data:e,mac:s}};return u.setupFallback(c,s,i)}function i(t){function r(t,e,r){for(var n=t?e.length:a.HASHLENGTH[i]/8,o=!0,s=0;n>s;s++)o=o&&e[s]===r[s];return o}var n=t.replace("HS","SHA").toLowerCase(),i=t.replace("HS","SHA-"),c=function(t,e,u,c){if(c=c||{},!c.loose&&a.HASHLENGTH[i]>t.length<<3)return Promise.reject(new Error("invalid key length"));var f=o.hmac.create();return f.start(n,new s(t)),f.update(e),f=f.digest()["native"](),r(c.loose,u,f)?Promise.resolve({data:e,mac:u,valid:!0}):Promise.reject(new Error("verification failed"))},f=function(t,n,o,s){if(s=s||{},!s.loose&&a.HASHLENGTH[i]>t.length<<3)return Promise.reject(new Error("invalid key length"));var c,f={name:"HMAC",hash:{name:i}};return s.loose?(c=u.subtleCrypto.importKey("raw",t,f,!0,["sign"]),c=c.then(function(t){return u.subtleCrypto.sign(f,t,n)}),c=c.then(function(t){var n=new e(t);return r(!0,o,n)})):(c=u.subtleCrypto.importKey("raw",t,f,!0,["verify"]),c=c.then(function(t){return u.subtleCrypto.verify(f,t,o,n)})),c=c.then(function(t){return t?{data:n,mac:o,valid:!0}:Promise.reject(new Error("verifaction failed"))})},l=function(t,e,o,s){if(s=s||{},!s.loose&&a.HASHLENGTH[i]>t.length<<3)return Promise.reject(new Error("invalid key length"));var c=u.nodeCrypto.createHmac(n,t);c.update(e);var f=c.digest();if(!r(s.loose,o,f))throw new Error("verification failed");return{data:e,mac:f,valid:!0}};return u.setupFallback(l,f,c)}var a=r(29),o=r(30),s=r(65),u=r(26),c={};["HS1","HS256","HS384","HS512"].forEach(function(t){c[t]={sign:n(t),verify:i(t)}}),t.exports=c}).call(e,r(1).Buffer)},function(t,e){/*!
	 * algorithms/constants.js - Constants used in Cryptographic Algorithms
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";t.exports={CHUNK_SIZE:1024,HASHLENGTH:{"SHA-1":160,"SHA-256":256,"SHA-384":384,"SHA-512":512},ENCLENGTH:{"AES-128-CBC":128,"AES-192-CBC":192,"AES-256-CBC":256,"AES-128-KW":128,"AES-192-KW":192,"AES-256-KW":256},KEYLENGTH:{"A128CBC-HS256":256,"A192CBC-HS384":384,"A256CBC-HS512":512,"A128CBC+HS256":256,"A192CBC+HS384":384,"A256CBC+HS512":512,A128GCM:128,A192GCM:192,A256GCM:256,A128KW:128,A192KW:192,A256KW:256,"ECDH-ES+A128KW":128,"ECDH-ES+A192KW":192,"ECDH-ES+A256KW":256},NONCELENGTH:{"A128CBC-HS256":128,"A192CBC-HS384":128,"A256CBC-HS512":128,"A128CBC+HS256":128,"A192CBC+HS384":128,"A256CBC+HS512":128,A128GCM:96,A192GCM:96,A256GCM:96}}},function(t,e,r){(function(e){/*!
	 * deps/forge.js - Forge Package Customization
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){t=t||{},this.name="",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=new Array(this._blocks),this._outBlock=new Array(this._blocks)}var i={aes:r(32),asn1:r(36),cipher:r(33),hmac:r(40),jsbn:r(44),md:r(41),mgf:r(46),pem:r(38),pkcs1:r(48),pkcs5:r(53),pkcs7:r(55),pki:r(57),prime:r(60),prng:r(50),pss:r(58),random:r(49),util:r(34)};r(43),r(52),r(62),r(35),r(63),n.prototype.start=function(){},n.prototype.encrypt=function(t,e){var r;for(r=0;r<this._blocks;++r)this._inBlock[r]=t.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),r=0;r<this._blocks;++r)e.putInt32(this._outBlock[r])},n.prototype.decrypt=function(t,e){var r;for(r=0;r<this._blocks;++r)this._inBlock[r]=t.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),r=0;r<this._blocks;++r)e.putInt32(this._outBlock[r])},function(){var t,e="AES",r=n;t=function(){return new i.aes.Algorithm(e,r)},i.cipher.registerAlgorithm(e,t)}(),"function"==typeof e&&(i.util.setImmediate=i.util.nextTick=function(t){e(t)}),t.exports=i}).call(e,r(31).setImmediate)},function(t,e,r){(function(t,n){function i(t,e){this._id=t,this._clearFn=e}var a=r(20).nextTick,o=Function.prototype.apply,s=Array.prototype.slice,u={},c=0;e.setTimeout=function(){return new i(o.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var r=c++,n=!(arguments.length<2)&&s.call(arguments,1);return u[r]=!0,a(function(){u[r]&&(n?t.apply(null,n):t.call(null),e.clearImmediate(r))}),r},e.clearImmediate="function"==typeof n?n:function(t){delete u[t]}}).call(e,r(31).setImmediate,r(31).clearImmediate)},function(t,e,r){!function(){function e(t,e){var r=function(){return new s.aes.Algorithm(t,e)};s.cipher.registerAlgorithm(t,r)}function n(){p=!0,f=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;u=new Array(256),c=new Array(256),l=new Array(4),h=new Array(4);for(var e=0;e<4;++e)l[e]=new Array(256),h[e]=new Array(256);for(var r,n,i,a,o,s,d,y=0,g=0,e=0;e<256;++e){a=g^g<<1^g<<2^g<<3^g<<4,a=a>>8^255&a^99,u[y]=a,c[a]=y,o=t[a],r=t[y],n=t[r],i=t[n],s=o<<24^a<<16^a<<8^(a^o),d=(r^n^i)<<24^(y^i)<<16^(y^n^i)<<8^(y^r^i);for(var v=0;v<4;++v)l[v][y]=s,h[v][a]=d,s=s<<24|s>>>8,d=d<<24|d>>>8;0===y?y=g=1:(y=r^t[t[t[r^i]]],g^=t[t[g]])}}function i(t,e){for(var r,n=t.slice(0),i=1,a=n.length,o=a+6+1,s=d*o,c=a;c<s;++c)r=n[c-1],c%a===0?(r=u[r>>>16&255]<<24^u[r>>>8&255]<<16^u[255&r]<<8^u[r>>>24]^f[i]<<24,i++):a>6&&c%a===4&&(r=u[r>>>24]<<24^u[r>>>16&255]<<16^u[r>>>8&255]<<8^u[255&r]),n[c]=n[c-a]^r;if(e){var l,p=h[0],y=h[1],g=h[2],v=h[3],m=n.slice(0);s=n.length;for(var c=0,b=s-d;c<s;c+=d,b-=d)if(0===c||c===s-d)m[c]=n[b],m[c+1]=n[b+3],m[c+2]=n[b+2],m[c+3]=n[b+1];else for(var E=0;E<d;++E)l=n[b+E],m[c+(3&-E)]=p[u[l>>>24]]^y[u[l>>>16&255]]^g[u[l>>>8&255]]^v[u[255&l]];n=m}return n}function a(t,e,r,n){var i,a,o,s,f,p=t.length/4-1;n?(i=h[0],a=h[1],o=h[2],s=h[3],f=c):(i=l[0],a=l[1],o=l[2],s=l[3],f=u);var d,y,g,v,m,b,E;d=e[0]^t[0],y=e[n?3:1]^t[1],g=e[2]^t[2],v=e[n?1:3]^t[3];for(var w=3,_=1;_<p;++_)m=i[d>>>24]^a[y>>>16&255]^o[g>>>8&255]^s[255&v]^t[++w],b=i[y>>>24]^a[g>>>16&255]^o[v>>>8&255]^s[255&d]^t[++w],E=i[g>>>24]^a[v>>>16&255]^o[d>>>8&255]^s[255&y]^t[++w],v=i[v>>>24]^a[d>>>16&255]^o[y>>>8&255]^s[255&g]^t[++w],d=m,y=b,g=E;r[0]=f[d>>>24]<<24^f[y>>>16&255]<<16^f[g>>>8&255]<<8^f[255&v]^t[++w],r[n?3:1]=f[y>>>24]<<24^f[g>>>16&255]<<16^f[v>>>8&255]<<8^f[255&d]^t[++w],r[2]=f[g>>>24]<<24^f[v>>>16&255]<<16^f[d>>>8&255]<<8^f[255&y]^t[++w],r[n?1:3]=f[v>>>24]<<24^f[d>>>16&255]<<16^f[y>>>8&255]<<8^f[255&g]^t[++w]}function o(t){t=t||{};var e,r=(t.mode||"CBC").toUpperCase(),n="AES-"+r;e=t.decrypt?s.cipher.createDecipher(n,t.key):s.cipher.createCipher(n,t.key);var i=e.start;return e.start=function(t,r){var n=null;r instanceof s.util.ByteBuffer&&(n=r,r={}),r=r||{},r.output=n,r.iv=t,i.call(e,r)},e}var s={aes:t.exports||{},cipher:r(33),util:r(34)};s.aes.startEncrypting=function(t,e,r,n){var i=o({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i},s.aes.createEncryptionCipher=function(t,e){return o({key:t,output:null,decrypt:!1,mode:e})},s.aes.startDecrypting=function(t,e,r,n){var i=o({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i},s.aes.createDecryptionCipher=function(t,e){return o({key:t,output:null,decrypt:!0,mode:e})},s.aes.Algorithm=function(t,e){p||n();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(t,e){return a(r._w,t,e,!1)},decrypt:function(t,e){return a(r._w,t,e,!0)}}}),r._init=!1},s.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e,r=t.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(s.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){e=r,r=s.util.createBuffer();for(var n=0;n<e.length;++n)r.putByte(e[n])}}else r=s.util.createBuffer(r);if(!s.util.isArray(r)){e=r,r=[];var a=e.length();if(16===a||24===a||32===a){a>>>=2;for(var n=0;n<a;++n)r.push(e.getInt32())}}if(!s.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var o=this.mode.name,u=["CFB","OFB","CTR","GCM"].indexOf(o)!==-1;this._w=i(r,t.decrypt&&!u),this._init=!0}},s.aes._expandKey=function(t,e){return p||n(),i(t,e)},s.aes._updateBlock=a,r(35),e("AES-CBC",s.cipher.modes.cbc),e("AES-CFB",s.cipher.modes.cfb),e("AES-OFB",s.cipher.modes.ofb),e("AES-CTR",s.cipher.modes.ctr),e("AES-GCM",s.cipher.modes.gcm);var u,c,f,l,h,p=!1,d=4}()},function(t,e,r){!function(){var e={cipher:t.exports||{},util:r(34)};e.cipher=e.cipher||{},e.cipher.algorithms=e.cipher.algorithms||{},e.cipher.createCipher=function(t,r){var n=t;if("string"==typeof n&&(n=e.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+t);return new e.cipher.BlockCipher({algorithm:n,key:r,decrypt:!1})},e.cipher.createDecipher=function(t,r){var n=t;if("string"==typeof n&&(n=e.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+t);return new e.cipher.BlockCipher({algorithm:n,key:r,decrypt:!0})},e.cipher.registerAlgorithm=function(t,r){t=t.toUpperCase(),e.cipher.algorithms[t]=r},e.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in e.cipher.algorithms?e.cipher.algorithms[t]:null};var n=e.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};n.prototype.start=function(t){t=t||{};var r={};for(var n in t)r[n]=t[n];r.decrypt=this._decrypt,this._finish=!1,this._input=e.util.createBuffer(),this.output=t.output||e.util.createBuffer(),this.mode.start(r)},n.prototype.update=function(t){for(this._finish||this._input.putBuffer(t);this._input.length()>=this.blockSize||this._input.length()>0&&this._finish;)this._op.call(this.mode,this._input,this.output);this._input.compact()},n.prototype.finish=function(t){t&&"CBC"===this.mode.name&&(this.mode.pad=function(e){return t(this.blockSize,e,!1)},this.mode.unpad=function(e){return t(this.blockSize,e,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))&&!(this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))}}()},function(t,e,r){(function(e,r){!function(){function n(t){if(this.data="",this.read=0,"string"==typeof t)this.data=t;else if(a.isArrayBuffer(t)||a.isArrayBufferView(t)){var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch(r){for(var i=0;i<e.length;++i)this.putByte(e[i])}}else(t instanceof n||"object"==typeof t&&"string"==typeof t.data&&"number"==typeof t.read)&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}function i(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=a.isArrayBuffer(t),n=a.isArrayBufferView(t);return r||n?(r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),void(this.write="writeOffset"in e?e.writeOffset:this.data.byteLength)):(this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!==t&&void 0!==t&&this.putBytes(t),void("writeOffset"in e&&(this.write=e.writeOffset)))}var a=t.exports||{};"undefined"!=typeof e&&e.nextTick?(a.nextTick=e.nextTick,"function"==typeof r?a.setImmediate=r:a.setImmediate=a.nextTick):"function"==typeof r?(a.setImmediate=r,a.nextTick=function(t){return r(t)}):(a.setImmediate=function(t){setTimeout(t,0)},a.nextTick=a.setImmediate),a.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a.isArrayBuffer=function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer};var o=[];"undefined"!=typeof DataView&&o.push(DataView),"undefined"!=typeof Int8Array&&o.push(Int8Array),"undefined"!=typeof Uint8Array&&o.push(Uint8Array),"undefined"!=typeof Uint8ClampedArray&&o.push(Uint8ClampedArray),"undefined"!=typeof Int16Array&&o.push(Int16Array),"undefined"!=typeof Uint16Array&&o.push(Uint16Array),"undefined"!=typeof Int32Array&&o.push(Int32Array),"undefined"!=typeof Uint32Array&&o.push(Uint32Array),"undefined"!=typeof Float32Array&&o.push(Float32Array),"undefined"!=typeof Float64Array&&o.push(Float64Array),a.isArrayBufferView=function(t){for(var e=0;e<o.length;++e)if(t instanceof o[e])return!0;return!1},a.ByteBuffer=n,a.ByteStringBuffer=n;var s=4096;a.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>s&&(this.data.substr(0,1),this._constructedStringLength=0)},a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))},a.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)1&e&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this},a.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this},a.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(a.encodeUtf8(t))},a.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t))},a.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255))},a.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))},a.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(255&t)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))},a.ByteStringBuffer.prototype.putInt=function(t,e){var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)},a.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},a.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())},a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t},a.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t},a.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t},a.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t},a.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t},a.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t},a.ByteStringBuffer.prototype.getInt=function(t){var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e},a.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},a.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},a.ByteStringBuffer.prototype.bytes=function(t){return"undefined"==typeof t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},a.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)},a.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this},a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteStringBuffer.prototype.copy=function(){var t=a.createBuffer(this.data);return t.read=this.read,t},a.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this},a.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t},a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())},a.DataBuffer=i,a.DataBuffer.prototype.length=function(){return this.write-this.read},a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},a.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this},a.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this},a.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this},a.DataBuffer.prototype.putBytes=function(t,e){if(a.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(a.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof a.DataBuffer||"object"==typeof t&&"number"==typeof t.read&&"number"==typeof t.write&&a.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof a.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary","string"==typeof t){var o;if("hex"===e)return this.accommodate(Math.ceil(t.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.hex.decode(t,o,this.write),this;if("base64"===e)return this.accommodate(3*Math.ceil(t.length/4)),o=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.base64.decode(t,o,this.write),this;if("utf8"===e&&(t=a.encodeUtf8(t),e="binary"),"binary"===e||"raw"===e)return this.accommodate(t.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.raw.decode(o),this;if("utf16"===e)return this.accommodate(2*t.length),o=new Uint16Array(this.data.buffer,this.write),this.write+=a.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)},a.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this},a.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")},a.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this},a.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this},a.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this},a.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this},a.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this},a.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this},a.DataBuffer.prototype.putInt=function(t,e){this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this},a.DataBuffer.prototype.putSignedInt=function(t,e){return this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)},a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},a.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t},a.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t},a.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t},a.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t},a.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t},a.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t},a.DataBuffer.prototype.getInt=function(t){var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e},a.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e},a.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):0===t?e="":(e=0===this.read?this.data:this.data.slice(this.read),this.clear()),e},a.DataBuffer.prototype.bytes=function(t){return"undefined"==typeof t?this.data.slice(this.read):this.data.slice(this.read,this.read+t)},a.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)},a.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this},a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)},a.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this},a.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},a.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this},a.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t},a.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8","binary"===t||"raw"===t)return a.binary.raw.encode(e);if("hex"===t)return a.binary.hex.encode(e);if("base64"===t)return a.binary.base64.encode(e);if("utf8"===t)return a.text.utf8.decode(e);if("utf16"===t)return a.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)},a.createBuffer=function(t,e){return e=e||"raw",void 0!==t&&"utf8"===e&&(t=a.encodeUtf8(t)),new a.ByteBuffer(t)},a.fillString=function(t,e){for(var r="";e>0;)1&e&&(r+=t),e>>>=1,e>0&&(t+=t);return r},a.xorBytes=function(t,e,r){for(var n="",i="",a="",o=0,s=0;r>0;--r,++o)i=t.charCodeAt(o)^e.charCodeAt(o),s>=10&&(n+=a,a="",s=0),a+=String.fromCharCode(i),++s;return n+=a},a.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e},a.bytesToHex=function(t){return a.createBuffer(t).toHex()},a.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(255&t)};var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];a.encode64=function(t,e){for(var r,n,i,a="",o="",s=0;s<t.length;)r=t.charCodeAt(s++),n=t.charCodeAt(s++),i=t.charCodeAt(s++),a+=u.charAt(r>>2),a+=u.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=u.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":u.charAt(63&i)),e&&a.length>e&&(o+=a.substr(0,e)+"\r\n",a=a.substr(e));return o+=a},a.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e,r,n,i,a="",o=0;o<t.length;)e=c[t.charCodeAt(o++)-43],r=c[t.charCodeAt(o++)-43],n=c[t.charCodeAt(o++)-43],i=c[t.charCodeAt(o++)-43],a+=String.fromCharCode(e<<2|r>>4),64!==n&&(a+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(a+=String.fromCharCode((3&n)<<6|i)));return a},a.encodeUtf8=function(t){return unescape(encodeURIComponent(t))},a.decodeUtf8=function(t){return decodeURIComponent(escape(t))},a.binary={raw:{},hex:{},base64:{}},a.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)},a.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n},a.binary.hex.encode=a.bytesToHex,a.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,a=r;for(1&t.length&&(i=1,n[a++]=parseInt(t[0],16));i<t.length;i+=2)n[a++]=parseInt(t.substr(i,2),16);return e?a-r:n},a.binary.base64.encode=function(t,e){for(var r,n,i,a="",o="",s=0;s<t.byteLength;)r=t[s++],n=t[s++],i=t[s++],a+=u.charAt(r>>2),a+=u.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=u.charAt((15&n)<<2|i>>6),a+=isNaN(i)?"=":u.charAt(63&i)),e&&a.length>e&&(o+=a.substr(0,e)+"\r\n",a=a.substr(e));return o+=a},a.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(3*Math.ceil(t.length/4))),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,o,s,u=0,f=r;u<t.length;)i=c[t.charCodeAt(u++)-43],a=c[t.charCodeAt(u++)-43],o=c[t.charCodeAt(u++)-43],s=c[t.charCodeAt(u++)-43],n[f++]=i<<2|a>>4,64!==o&&(n[f++]=(15&a)<<4|o>>2,64!==s&&(n[f++]=(3&o)<<6|s));return e?f-r:n.subarray(0,f)},a.text={utf8:{},utf16:{}},a.text.utf8.encode=function(t,e,r){t=a.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,o=0;o<t.length;++o)n[i++]=t.charCodeAt(o);return e?i-r:n},a.text.utf8.decode=function(t){return a.decodeUtf8(String.fromCharCode.apply(null,t))},a.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length));var i=new Uint16Array(n);r=r||0;for(var a=r,o=r,s=0;s<t.length;++s)i[o++]=t.charCodeAt(s),a+=2;return e?a-r:n},a.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t))},a.deflate=function(t,e,r){if(e=a.decode64(t.deflate(a.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);32&i&&(n=6),e=e.substring(n,e.length-4)}return e},a.inflate=function(t,e,r){var n=t.inflate(a.encode64(e)).rval;return null===n?null:a.decode64(n)};var f=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(null===r?n=t.removeItem(e):(r=a.encode64(JSON.stringify(r)),n=t.setItem(e,r)),"undefined"!=typeof n&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},l=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(a.decode64(r))),r},h=function(t,e,r,n){var i=l(t,e);null===i&&(i={}),i[r]=n,f(t,e,i)},p=function(t,e,r){var n=l(t,e);return null!==n&&(n=r in n?n[r]:null),n},d=function(t,e,r){var n=l(t,e);if(null!==n&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),f(t,e,n)}},y=function(t,e){f(t,e,null)},g=function(t,e,r){var n=null;"undefined"==typeof r&&(r=["web","flash"]);var i,a=!1,o=null;for(var s in r){i=r[s];try{if("flash"===i||"both"===i){if(null===e[0])throw new Error("Flash local storage not available.");n=t.apply(this,e),a="flash"===i}"web"!==i&&"both"!==i||(e[0]=localStorage,n=t.apply(this,e),a=!0)}catch(u){o=u}if(a)break}if(!a)throw o;return n};a.setItem=function(t,e,r,n,i){g(h,arguments,i)},a.getItem=function(t,e,r,n){return g(p,arguments,n)},a.removeItem=function(t,e,r,n){g(d,arguments,n)},a.clearItems=function(t,e,r){g(y,arguments,r)},a.parseUrl=function(t){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var r=e.exec(t),n=null===r?null:{full:t,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var v=null;a.getQueryVariables=function(t){var e,r=function(t){for(var e={},r=t.split("&"),n=0;n<r.length;n++){var i,a,o=r[n].indexOf("=");o>0?(i=r[n].substring(0,o),a=r[n].substring(o+1)):(i=r[n],a=null),i in e||(e[i]=[]),i in Object.prototype||null===a||e[i].push(unescape(a))}return e};return"undefined"==typeof t?(null===v&&(v="undefined"==typeof window?{}:r(window.location.search.substring(1))),e=v):e=r(t),e},a.parseFragment=function(t){var e=t,r="",n=t.indexOf("?");n>0&&(e=t.substring(0,n),r=t.substring(n+1));var i=e.split("/");i.length>0&&""===i[0]&&i.shift();var o=""===r?{}:a.getQueryVariables(r);return{pathString:e,queryString:r,path:i,query:o}},a.makeRequest=function(t){var e=a.parseFragment(t),r={path:e.pathString,query:e.queryString,getPath:function(t){return"undefined"==typeof t?e.path:e.path[t]},getQuery:function(t,r){var n;return"undefined"==typeof t?n=e.query:(n=e.query[t],n&&"undefined"!=typeof r&&(n=n[r])),n},getQueryLast:function(t,e){var n,i=r.getQuery(t);return n=i?i[i.length-1]:e}};return r},a.makeLink=function(t,e,r){t=jQuery.isArray(t)?t.join("/"):t;var n=jQuery.param(e||{});return r=r||"",t+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},a.setPath=function(t,e,r){if("object"==typeof t&&null!==t)for(var n=0,i=e.length;n<i;){var a=e[n++];if(n==i)t[a]=r;else{var o=a in t;(!o||o&&"object"!=typeof t[a]||o&&null===t[a])&&(t[a]={}),t=t[a]}}},a.getPath=function(t,e,r){for(var n=0,i=e.length,a=!0;a&&n<i&&"object"==typeof t&&null!==t;){var o=e[n++];a=o in t,a&&(t=t[o])}return a?t:r},a.deletePath=function(t,e){if("object"==typeof t&&null!==t)for(var r=0,n=e.length;r<n;){var i=e[r++];if(r==n)delete t[i];else{if(!(i in t)||"object"!=typeof t[i]||null===t[i])break;t=t[i]}}},a.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},a.format=function(t){for(var e,r,n=/%./g,i=0,a=[],o=0;e=n.exec(t);){r=t.substring(o,n.lastIndex-2),r.length>0&&a.push(r),o=n.lastIndex;var s=e[0][1];switch(s){case"s":case"o":i<arguments.length?a.push(arguments[i++ +1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+s+"?>")}}return a.push(t.substring(o)),a.join("")},a.formatNumber=function(t,e,r,n){var i=t,a=isNaN(e=Math.abs(e))?2:e,o=void 0===r?",":r,s=void 0===n?".":n,u=i<0?"-":"",c=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",f=c.length>3?c.length%3:0;return u+(f?c.substr(0,f)+s:"")+c.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+s)+(a?o+Math.abs(i-c).toFixed(a).slice(2):"")},a.formatSize=function(t){return t=t>=1073741824?a.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?a.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?a.formatNumber(t/1024,0)+" KiB":a.formatNumber(t,0)+" bytes"},a.bytesFromIP=function(t){return t.indexOf(".")!==-1?a.bytesFromIPv4(t):t.indexOf(":")!==-1?a.bytesFromIPv6(t):null},a.bytesFromIPv4=function(t){if(t=t.split("."),4!==t.length)return null;for(var e=a.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()},a.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(t){return 0===t.length&&++e,!0});for(var r=2*(8-t.length+e),n=a.createBuffer(),i=0;i<8;++i)if(t[i]&&0!==t[i].length){var o=a.hexToBytes(t[i]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},a.bytesToIP=function(t){return 4===t.length?a.bytesToIPv4(t):16===t.length?a.bytesToIPv6(t):null},a.bytesToIPv4=function(t){if(4!==t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")},a.bytesToIPv6=function(t){if(16!==t.length)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var o=a.bytesToHex(t[i]+t[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=r[r.length-1],u=e.length;s&&u===s.end+1?(s.end=u,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}e.push(o)}if(r.length>0){var c=r[n];c.end-c.start>0&&(e.splice(c.start,c.end-c.start+1,""),0===c.start&&e.unshift(""),7===c.end&&e.push(""))}return e.join(":")},a.estimateCores=function(t,e){function r(t,s,u){if(0===s){var c=Math.floor(t.reduce(function(t,e){return t+e},0)/t.length);return a.cores=Math.max(1,c),URL.revokeObjectURL(o),e(null,a.cores)}n(u,function(e,n){t.push(i(u,n)),r(t,s-1,u)})}function n(t,e){for(var r=[],n=[],i=0;i<t;++i){var a=new Worker(o);a.addEventListener("message",function(i){if(n.push(i.data),n.length===t){for(var a=0;a<t;++a)r[a].terminate();e(null,n)}}),r.push(a)}for(var i=0;i<t;++i)r[i].postMessage(i)}function i(t,e){for(var r=[],n=0;n<t;++n)for(var i=e[n],a=r[n]=[],o=0;o<t;++o)if(n!==o){var s=e[o];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&a.push(o)}return r.reduce(function(t,e){return Math.max(t,e.length)},0)}if("function"==typeof t&&(e=t,t={}),t=t||{},"cores"in a&&!t.update)return e(null,a.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return a.cores=navigator.hardwareConcurrency,e(null,a.cores);if("undefined"==typeof Worker)return a.cores=1,e(null,a.cores);if("undefined"==typeof Blob)return a.cores=2,
e(null,a.cores);var o=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(t){for(var e=Date.now(),r=e+4;Date.now()<r;);self.postMessage({st:e,et:r})})}.toString(),")()"],{type:"application/javascript"}));r([],5,16)}}()}).call(e,r(20),r(31).setImmediate)},function(t,e,r){!function(){function e(t){if("string"==typeof t&&(t=a.util.createBuffer(t)),a.util.isArray(t)&&t.length>4){var e=t;t=a.util.createBuffer();for(var r=0;r<t.length;++r)t.putByte(e[r])}return a.util.isArray(t)||(t=[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]),t}function n(t){t[t.length-1]=t[t.length-1]+1&4294967295}function i(t){return[t/4294967296|0,4294967295&t]}var a={cipher:r(33),util:r(34)},o=a.cipher.modes=t.exports||{};o.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=new Array(this._blocks),this._outBlock=new Array(this._blocks)},o.ecb.prototype.start=function(t){},o.ecb.prototype.encrypt=function(t,e){for(var r=0;r<this._blocks;++r)this._inBlock[r]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r)e.putInt32(this._outBlock[r])},o.ecb.prototype.decrypt=function(t,e){for(var r=0;r<this._blocks;++r)this._inBlock[r]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r)e.putInt32(this._outBlock[r])},o.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},o.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},o.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=new Array(this._blocks),this._outBlock=new Array(this._blocks)},o.cbc.prototype.start=function(t){if(null===t.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=e(t.iv),this._prev=this._iv.slice(0)}},o.cbc.prototype.encrypt=function(t,e){for(var r=0;r<this._blocks;++r)this._inBlock[r]=this._prev[r]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r)e.putInt32(this._outBlock[r]);this._prev=this._outBlock},o.cbc.prototype.decrypt=function(t,e){for(var r=0;r<this._blocks;++r)this._inBlock[r]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r)e.putInt32(this._prev[r]^this._outBlock[r]);this._prev=this._inBlock.slice(0)},o.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0},o.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return!(n>this.blockSize<<2)&&(t.truncate(n),!0)},o.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._blocks)},o.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=e(t.iv),this._inBlock=this._iv.slice(0)},o.cfb.prototype.encrypt=function(t,e){this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r)this._inBlock[r]=t.getInt32()^this._outBlock[r],e.putInt32(this._inBlock[r])},o.cfb.prototype.decrypt=function(t,e){this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r)this._inBlock[r]=t.getInt32(),e.putInt32(this._inBlock[r]^this._outBlock[r])},o.cfb.prototype.afterFinish=function(t,e){return e.overflow>0&&t.truncate(this.blockSize-e.overflow),!0},o.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._blocks)},o.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=e(t.iv),this._inBlock=this._iv.slice(0)},o.ofb.prototype.encrypt=function(t,e){this.cipher.encrypt(this._inBlock,this._outBlock);for(var r=0;r<this._blocks;++r)e.putInt32(t.getInt32()^this._outBlock[r]),this._inBlock[r]=this._outBlock[r]},o.ofb.prototype.decrypt=o.ofb.prototype.encrypt,o.ofb.prototype.afterFinish=function(t,e){return e.overflow>0&&t.truncate(this.blockSize-e.overflow),!0},o.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._blocks)},o.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=e(t.iv),this._inBlock=this._iv.slice(0)},o.ctr.prototype.encrypt=function(t,e){this.cipher.encrypt(this._inBlock,this._outBlock),n(this._inBlock);for(var r=0;r<this._blocks;++r)e.putInt32(t.getInt32()^this._outBlock[r])},o.ctr.prototype.decrypt=o.ctr.prototype.encrypt,o.ctr.prototype.afterFinish=function(t,e){return e.overflow>0&&t.truncate(this.blockSize-e.overflow),!0},o.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._blocks=this.blockSize/4,this._inBlock=new Array(this._blocks),this._outBlock=new Array(this._blocks),this._R=3774873600},o.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=a.util.createBuffer(t.iv);this._cipherLength=0;var r;if(r="additionalData"in t?a.util.createBuffer(t.additionalData):a.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=a.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._blocks),this.tag=null,this._hashSubkey=new Array(this._blocks),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var o=e.length();if(12===o)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(i(8*o)))}this._inBlock=this._j0.slice(0),n(this._inBlock),r=a.util.createBuffer(r),this._aDataLength=i(8*r.length());var s=r.length()%this.blockSize;for(s&&r.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])},o.gcm.prototype.encrypt=function(t,e){this.cipher.encrypt(this._inBlock,this._outBlock),n(this._inBlock);for(var r=t.length(),i=0;i<this._blocks;++i)this._outBlock[i]^=t.getInt32();if(r<this.blockSize){var o=r%this.blockSize;this._cipherLength+=o;var s=a.util.createBuffer();s.putInt32(this._outBlock[0]),s.putInt32(this._outBlock[1]),s.putInt32(this._outBlock[2]),s.putInt32(this._outBlock[3]),s.truncate(this.blockSize-o),this._outBlock[0]=s.getInt32(),this._outBlock[1]=s.getInt32(),this._outBlock[2]=s.getInt32(),this._outBlock[3]=s.getInt32()}else this._cipherLength+=this.blockSize;for(var i=0;i<this._blocks;++i)e.putInt32(this._outBlock[i]);this._s=this.ghash(this._hashSubkey,this._s,this._outBlock)},o.gcm.prototype.decrypt=function(t,e){this.cipher.encrypt(this._inBlock,this._outBlock),n(this._inBlock);var r=t.length();this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._blocks;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);r<this.blockSize?this._cipherLength+=r%this.blockSize:this._cipherLength+=this.blockSize},o.gcm.prototype.afterFinish=function(t,e){var r=!0;e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=a.util.createBuffer();var n=this._aDataLength.concat(i(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,n);var o=[];this.cipher.encrypt(this._j0,o);for(var s=0;s<this._blocks;++s)this.tag.putInt32(this._s[s]^o[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},o.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var a=t[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r},o.gcm.prototype.pow=function(t,e){for(var r=1&t[3],n=3;n>0;--n)e[n]=t[n]>>>1|(1&t[n-1])<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)},o.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>4*(7-r%8)&15,a=this._m[r][i];e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]}return e},o.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)},o.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,a=new Array(i),o=0;o<i;++o){var s=[0,0,0,0],u=o/n|0,c=(n-1-o%n)*e;s[u]=1<<e-1<<c,a[o]=this.generateSubHashTable(this.multiply(s,t),e)}return a},o.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var o=1;o<a;++o){var s=i[a],u=i[o];i[a+o]=[s[0]^u[0],s[1]^u[1],s[2]^u[2],s[3]^u[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var c=i[a^n];i[a]=[t[0]^c[0],t[1]^c[1],t[2]^c[2],t[3]^c[3]]}return i}}()},function(t,e,r){!function(){var e={asn1:t.exports||{},util:r(34),pki:{}},n=e.asn1;e.pki=r(37),n.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},n.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},n.create=function(t,r,n,i){if(e.util.isArray(i)){for(var a=[],o=0;o<i.length;++o)void 0!==i[o]&&a.push(i[o]);i=a}return{tagClass:t,type:r,constructed:n,composed:n||e.util.isArray(i),value:i}};var i=function(t){var e=t.getByte();if(128!==e){var r,n=128&e;return r=n?t.getInt((127&e)<<3):e}};n.fromDer=function(t,r){if(void 0===r&&(r=!0),"string"==typeof t&&(t=e.util.createBuffer(t)),t.length()<2){var a=new Error("Too few bytes to parse DER.");throw a.bytes=t.length(),a}var o=t.getByte(),s=192&o,u=31&o,c=i(t);if(t.length()<c){if(r){var a=new Error("Too few bytes to read ASN.1 value.");throw a.detail=t.length()+" < "+c,a}c=t.length()}var f,l=32===(32&o),h=l;if(!h&&s===n.Class.UNIVERSAL&&u===n.Type.BITSTRING&&c>1){var p=t.read,d=t.getByte();if(0===d){o=t.getByte();var y=192&o;if(y===n.Class.UNIVERSAL||y===n.Class.CONTEXT_SPECIFIC)try{var g=i(t);h=g===c-(t.read-p),h&&(++p,--c)}catch(v){}}t.read=p}if(h)if(f=[],void 0===c)for(;;){if(t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2);break}f.push(n.fromDer(t,r))}else for(var m=t.length();c>0;)f.push(n.fromDer(t,r)),c-=m-t.length(),m=t.length();else{if(void 0===c){if(r)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=t.length()}if(u===n.Type.BMPSTRING){f="";for(var b=0;b<c;b+=2)f+=String.fromCharCode(t.getInt16())}else f=t.getBytes(c)}return n.create(s,u,l,f)},n.toDer=function(t){var r=e.util.createBuffer(),i=t.tagClass|t.type,a=e.util.createBuffer();if(t.composed){t.constructed?i|=32:a.putByte(0);for(var o=0;o<t.value.length;++o)void 0!==t.value[o]&&a.putBuffer(n.toDer(t.value[o]))}else if(t.type===n.Type.BMPSTRING)for(var o=0;o<t.value.length;++o)a.putInt16(t.value.charCodeAt(o));else a.putBytes(t.value);if(r.putByte(i),a.length()<=127)r.putByte(127&a.length());else{var s=a.length(),u="";do u+=String.fromCharCode(255&s),s>>>=8;while(s>0);r.putByte(128|u.length);for(var o=u.length-1;o>=0;--o)r.putByte(u.charCodeAt(o))}return r.putBuffer(a),r},n.oidToDer=function(t){var r=t.split("."),n=e.util.createBuffer();n.putByte(40*parseInt(r[0],10)+parseInt(r[1],10));for(var i,a,o,s,u=2;u<r.length;++u){i=!0,a=[],o=parseInt(r[u],10);do s=127&o,o>>>=7,i||(s|=128),a.push(s),i=!1;while(o>0);for(var c=a.length-1;c>=0;--c)n.putByte(a[c])}return n},n.derToOid=function(t){var r;"string"==typeof t&&(t=e.util.createBuffer(t));var n=t.getByte();r=Math.floor(n/40)+"."+n%40;for(var i=0;t.length()>0;)n=t.getByte(),i<<=7,128&n?i+=127&n:(r+="."+(i+n),i=0);return r},n.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),o=parseInt(t.substr(8,2),10),s=0;if(t.length>11){var u=t.charAt(10),c=10;"+"!==u&&"-"!==u&&(s=parseInt(t.substr(10,2),10),c+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(a,o,s,0),c&&(u=t.charAt(c),"+"===u||"-"===u)){var f=parseInt(t.substr(c+1,2),10),l=parseInt(t.substr(c+4,2),10),h=60*f+l;h*=6e4,"+"===u?e.setTime(+e-h):e.setTime(+e+h)}return e},n.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),o=parseInt(t.substr(10,2),10),s=parseInt(t.substr(12,2),10),u=0,c=0,f=!1;"Z"===t.charAt(t.length-1)&&(f=!0);var l=t.length-5,h=t.charAt(l);if("+"===h||"-"===h){var p=parseInt(t.substr(l+1,2),10),d=parseInt(t.substr(l+4,2),10);c=60*p+d,c*=6e4,"+"===h&&(c*=-1),f=!0}return"."===t.charAt(14)&&(u=1e3*parseFloat(t.substr(14),10)),f?(e.setUTCFullYear(r,n,i),e.setUTCHours(a,o,s,u),e.setTime(+e+c)):(e.setFullYear(r,n,i),e.setHours(a,o,s,u)),e},n.dateToUtcTime=function(t){var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z"},n.integerToDer=function(t){var r=e.util.createBuffer();if(t>=-128&&t<128)return r.putSignedInt(t,8);if(t>=-32768&&t<32768)return r.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return r.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return r.putSignedInt(t,32);var n=new Error("Integer too large; max is 32-bits.");throw n.integer=t,n},n.derToInteger=function(t){"string"==typeof t&&(t=e.util.createBuffer(t));var r=8*t.length();if(r>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(r)},n.validate=function(t,r,i,a){var o=!1;if(t.tagClass!==r.tagClass&&"undefined"!=typeof r.tagClass||t.type!==r.type&&"undefined"!=typeof r.type)a&&(t.tagClass!==r.tagClass&&a.push("["+r.name+'] Expected tag class "'+r.tagClass+'", got "'+t.tagClass+'"'),t.type!==r.type&&a.push("["+r.name+'] Expected type "'+r.type+'", got "'+t.type+'"'));else if(t.constructed===r.constructed||"undefined"==typeof r.constructed){if(o=!0,r.value&&e.util.isArray(r.value))for(var s=0,u=0;o&&u<r.value.length;++u)o=r.value[u].optional||!1,t.value[s]&&(o=n.validate(t.value[s],r.value[u],i,a),o?++s:r.value[u].optional&&(o=!0)),!o&&a&&a.push("["+r.name+'] Tag class "'+r.tagClass+'", type "'+r.type+'" expected value length "'+r.value.length+'", got "'+t.value.length+'"');o&&i&&(r.capture&&(i[r.capture]=t.value),r.captureAsn1&&(i[r.captureAsn1]=t))}else a&&a.push("["+r.name+'] Expected constructed "'+r.constructed+'", got "'+t.constructed+'"');return o};var a=/[^\\u0000-\\u00ff]/;n.prettyPrint=function(t,r,i){var o="";r=r||0,i=i||2,r>0&&(o+="\n");for(var s="",u=0;u<r*i;++u)s+=" ";switch(o+=s+"Tag: ",t.tagClass){case n.Class.UNIVERSAL:o+="Universal:";break;case n.Class.APPLICATION:o+="Application:";break;case n.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case n.Class.PRIVATE:o+="Private:"}if(t.tagClass===n.Class.UNIVERSAL)switch(o+=t.type,t.type){case n.Type.NONE:o+=" (None)";break;case n.Type.BOOLEAN:o+=" (Boolean)";break;case n.Type.BITSTRING:o+=" (Bit string)";break;case n.Type.INTEGER:o+=" (Integer)";break;case n.Type.OCTETSTRING:o+=" (Octet string)";break;case n.Type.NULL:o+=" (Null)";break;case n.Type.OID:o+=" (Object Identifier)";break;case n.Type.ODESC:o+=" (Object Descriptor)";break;case n.Type.EXTERNAL:o+=" (External or Instance of)";break;case n.Type.REAL:o+=" (Real)";break;case n.Type.ENUMERATED:o+=" (Enumerated)";break;case n.Type.EMBEDDED:o+=" (Embedded PDV)";break;case n.Type.UTF8:o+=" (UTF8)";break;case n.Type.ROID:o+=" (Relative Object Identifier)";break;case n.Type.SEQUENCE:o+=" (Sequence)";break;case n.Type.SET:o+=" (Set)";break;case n.Type.PRINTABLESTRING:o+=" (Printable String)";break;case n.Type.IA5String:o+=" (IA5String (ASCII))";break;case n.Type.UTCTIME:o+=" (UTC time)";break;case n.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case n.Type.BMPSTRING:o+=" (BMP String)"}else o+=t.type;if(o+="\n",o+=s+"Constructed: "+t.constructed+"\n",t.composed){for(var c=0,f="",u=0;u<t.value.length;++u)void 0!==t.value[u]&&(c+=1,f+=n.prettyPrint(t.value[u],r+1,i),u+1<t.value.length&&(f+=","));o+=s+"Sub values: "+c+f}else{if(o+=s+"Value: ",t.type===n.Type.OID){var l=n.derToOid(t.value);o+=l,e.pki&&e.pki.oids&&l in e.pki.oids&&(o+=" ("+e.pki.oids[l]+") ")}if(t.type===n.Type.INTEGER)try{o+=n.derToInteger(t.value)}catch(h){o+="0x"+e.util.bytesToHex(t.value)}else t.type===n.Type.OCTETSTRING?(a.test(t.value)||(o+="("+t.value+") "),o+="0x"+e.util.bytesToHex(t.value)):o+=t.type===n.Type.UTF8?e.util.decodeUtf8(t.value):t.type===n.Type.PRINTABLESTRING||t.type===n.Type.IA5String?t.value:a.test(t.value)?"0x"+e.util.bytesToHex(t.value):0===t.value.length?"[null]":t.value}return o}}()},function(t,e,r){!function(){var e={asn1:r(36),pem:r(38),util:r(34),pki:t.exports||{}};e.pki.oids=r(39);var n=e.asn1,i=e.pki;i.pemToDer=function(t){var r=e.pem.decode(t)[0];if(r.procType&&"ENCRYPTED"===r.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return e.util.createBuffer(r.body)},i.privateKeyFromPem=function(t){var r=e.pem.decode(t)[0];if("PRIVATE KEY"!==r.type&&"RSA PRIVATE KEY"!==r.type){var a=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw a.headerType=r.type,a}if(r.procType&&"ENCRYPTED"===r.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var o=n.fromDer(r.body);return i.privateKeyFromAsn1(o)},i.privateKeyToPem=function(t,r){var a={type:"RSA PRIVATE KEY",body:n.toDer(i.privateKeyToAsn1(t)).getBytes()};return e.pem.encode(a,{maxline:r})},i.privateKeyInfoToPem=function(t,r){var i={type:"PRIVATE KEY",body:n.toDer(t).getBytes()};return e.pem.encode(i,{maxline:r})}}()},function(t,e,r){!function(){function e(t){for(var e=t.name+": ",r=[],n=function(t,e){return" "+e},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+"\r\n";for(var a=0,o=-1,i=0;i<e.length;++i,++a)if(a>65&&o!==-1){var s=e[o];","===s?(++o,e=e.substr(0,o)+"\r\n "+e.substr(o)):e=e.substr(0,o)+"\r\n"+s+e.substr(o+1),a=i-o-1,o=-1,++i}else" "!==e[i]&&"\t"!==e[i]&&","!==e[i]||(o=i);return e}function n(t){return t.replace(/^\s+/,"")}var i={pem:t.exports||{},util:r(34)},a=i.pem;a.encode=function(t,r){r=r||{};var n,a="-----BEGIN "+t.type+"-----\r\n";if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},a+=e(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},a+=e(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),a+=e(n)),t.headers)for(var o=0;o<t.headers.length;++o)a+=e(t.headers[o]);return t.procType&&(a+="\r\n"),a+=i.util.encode64(t.body,r.maxline||64)+"\r\n",a+="-----END "+t.type+"-----\r\n"},a.decode=function(t){for(var e,r=[],a=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/;;){if(e=a.exec(t),!e)break;var u={type:e[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:i.util.decode64(e[3])};if(r.push(u),e[2]){for(var c=e[2].split(s),f=0;e&&f<c.length;){for(var l=c[f].replace(/\s+$/,""),h=f+1;h<c.length;++h){var p=c[h];if(!/\s/.test(p[0]))break;l+=p,f=h}if(e=l.match(o)){for(var d={name:e[1],values:[]},y=e[2].split(","),g=0;g<y.length;++g)d.values.push(n(y[g]));if(u.procType)if(u.contentDomain||"Content-Domain"!==d.name)if(u.dekInfo||"DEK-Info"!==d.name)u.headers.push(d);else{if(0===d.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');u.dekInfo={algorithm:y[0],parameters:y[1]||null}}else u.contentDomain=y[0]||"";else{if("Proc-Type"!==d.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==d.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');u.procType={version:y[0],type:y[1]}}}++f}if("ENCRYPTED"===u.procType&&!u.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}}()},function(t,e,r){!function(){var e=({pki:r(37),oids:t.exports},t.exports||{});e["1.2.840.113549.1.1.1"]="rsaEncryption",e.rsaEncryption="1.2.840.113549.1.1.1",e["1.2.840.113549.1.1.4"]="md5WithRSAEncryption",e.md5WithRSAEncryption="1.2.840.113549.1.1.4",e["1.2.840.113549.1.1.5"]="sha1WithRSAEncryption",e.sha1WithRSAEncryption="1.2.840.113549.1.1.5",e["1.2.840.113549.1.1.7"]="RSAES-OAEP",e["RSAES-OAEP"]="1.2.840.113549.1.1.7",e["1.2.840.113549.1.1.8"]="mgf1",e.mgf1="1.2.840.113549.1.1.8",e["1.2.840.113549.1.1.9"]="pSpecified",e.pSpecified="1.2.840.113549.1.1.9",e["1.2.840.113549.1.1.10"]="RSASSA-PSS",e["RSASSA-PSS"]="1.2.840.113549.1.1.10",e["1.2.840.113549.1.1.11"]="sha256WithRSAEncryption",e.sha256WithRSAEncryption="1.2.840.113549.1.1.11",e["1.2.840.113549.1.1.12"]="sha384WithRSAEncryption",e.sha384WithRSAEncryption="1.2.840.113549.1.1.12",e["1.2.840.113549.1.1.13"]="sha512WithRSAEncryption",e.sha512WithRSAEncryption="1.2.840.113549.1.1.13",e["1.3.14.3.2.7"]="desCBC",e.desCBC="1.3.14.3.2.7",e["1.3.14.3.2.26"]="sha1",e.sha1="1.3.14.3.2.26",e["2.16.840.1.101.3.4.2.1"]="sha256",e.sha256="2.16.840.1.101.3.4.2.1",e["2.16.840.1.101.3.4.2.2"]="sha384",e.sha384="2.16.840.1.101.3.4.2.2",e["2.16.840.1.101.3.4.2.3"]="sha512",e.sha512="2.16.840.1.101.3.4.2.3",e["1.2.840.113549.2.5"]="md5",e.md5="1.2.840.113549.2.5",e["1.2.840.113549.1.7.1"]="data",e.data="1.2.840.113549.1.7.1",e["1.2.840.113549.1.7.2"]="signedData",e.signedData="1.2.840.113549.1.7.2",e["1.2.840.113549.1.7.3"]="envelopedData",e.envelopedData="1.2.840.113549.1.7.3",e["1.2.840.113549.1.7.4"]="signedAndEnvelopedData",e.signedAndEnvelopedData="1.2.840.113549.1.7.4",e["1.2.840.113549.1.7.5"]="digestedData",e.digestedData="1.2.840.113549.1.7.5",e["1.2.840.113549.1.7.6"]="encryptedData",e.encryptedData="1.2.840.113549.1.7.6",e["1.2.840.113549.1.9.1"]="emailAddress",e.emailAddress="1.2.840.113549.1.9.1",e["1.2.840.113549.1.9.2"]="unstructuredName",e.unstructuredName="1.2.840.113549.1.9.2",e["1.2.840.113549.1.9.3"]="contentType",e.contentType="1.2.840.113549.1.9.3",e["1.2.840.113549.1.9.4"]="messageDigest",e.messageDigest="1.2.840.113549.1.9.4",e["1.2.840.113549.1.9.5"]="signingTime",e.signingTime="1.2.840.113549.1.9.5",e["1.2.840.113549.1.9.6"]="counterSignature",e.counterSignature="1.2.840.113549.1.9.6",e["1.2.840.113549.1.9.7"]="challengePassword",e.challengePassword="1.2.840.113549.1.9.7",e["1.2.840.113549.1.9.8"]="unstructuredAddress",e.unstructuredAddress="1.2.840.113549.1.9.8",e["1.2.840.113549.1.9.14"]="extensionRequest",e.extensionRequest="1.2.840.113549.1.9.14",e["1.2.840.113549.1.9.20"]="friendlyName",e.friendlyName="1.2.840.113549.1.9.20",e["1.2.840.113549.1.9.21"]="localKeyId",e.localKeyId="1.2.840.113549.1.9.21",e["1.2.840.113549.1.9.22.1"]="x509Certificate",e.x509Certificate="1.2.840.113549.1.9.22.1",e["1.2.840.113549.1.12.10.1.1"]="keyBag",e.keyBag="1.2.840.113549.1.12.10.1.1",e["1.2.840.113549.1.12.10.1.2"]="pkcs8ShroudedKeyBag",e.pkcs8ShroudedKeyBag="1.2.840.113549.1.12.10.1.2",e["1.2.840.113549.1.12.10.1.3"]="certBag",e.certBag="1.2.840.113549.1.12.10.1.3",e["1.2.840.113549.1.12.10.1.4"]="crlBag",e.crlBag="1.2.840.113549.1.12.10.1.4",e["1.2.840.113549.1.12.10.1.5"]="secretBag",e.secretBag="1.2.840.113549.1.12.10.1.5",e["1.2.840.113549.1.12.10.1.6"]="safeContentsBag",e.safeContentsBag="1.2.840.113549.1.12.10.1.6",e["1.2.840.113549.1.5.13"]="pkcs5PBES2",e.pkcs5PBES2="1.2.840.113549.1.5.13",e["1.2.840.113549.1.5.12"]="pkcs5PBKDF2",e.pkcs5PBKDF2="1.2.840.113549.1.5.12",e["1.2.840.113549.1.12.1.1"]="pbeWithSHAAnd128BitRC4",e.pbeWithSHAAnd128BitRC4="1.2.840.113549.1.12.1.1",e["1.2.840.113549.1.12.1.2"]="pbeWithSHAAnd40BitRC4",e.pbeWithSHAAnd40BitRC4="1.2.840.113549.1.12.1.2",e["1.2.840.113549.1.12.1.3"]="pbeWithSHAAnd3-KeyTripleDES-CBC",e["pbeWithSHAAnd3-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.3",e["1.2.840.113549.1.12.1.4"]="pbeWithSHAAnd2-KeyTripleDES-CBC",e["pbeWithSHAAnd2-KeyTripleDES-CBC"]="1.2.840.113549.1.12.1.4",e["1.2.840.113549.1.12.1.5"]="pbeWithSHAAnd128BitRC2-CBC",e["pbeWithSHAAnd128BitRC2-CBC"]="1.2.840.113549.1.12.1.5",e["1.2.840.113549.1.12.1.6"]="pbewithSHAAnd40BitRC2-CBC",e["pbewithSHAAnd40BitRC2-CBC"]="1.2.840.113549.1.12.1.6",e["1.2.840.113549.3.7"]="des-EDE3-CBC",e["des-EDE3-CBC"]="1.2.840.113549.3.7",e["2.16.840.1.101.3.4.1.2"]="aes128-CBC",e["aes128-CBC"]="2.16.840.1.101.3.4.1.2",e["2.16.840.1.101.3.4.1.22"]="aes192-CBC",e["aes192-CBC"]="2.16.840.1.101.3.4.1.22",e["2.16.840.1.101.3.4.1.42"]="aes256-CBC",e["aes256-CBC"]="2.16.840.1.101.3.4.1.42",e["2.5.4.3"]="commonName",e.commonName="2.5.4.3",e["2.5.4.5"]="serialName",e.serialName="2.5.4.5",e["2.5.4.6"]="countryName",e.countryName="2.5.4.6",e["2.5.4.7"]="localityName",e.localityName="2.5.4.7",e["2.5.4.8"]="stateOrProvinceName",e.stateOrProvinceName="2.5.4.8",e["2.5.4.10"]="organizationName",e.organizationName="2.5.4.10",e["2.5.4.11"]="organizationalUnitName",e.organizationalUnitName="2.5.4.11",e["2.16.840.1.113730.1.1"]="nsCertType",e.nsCertType="2.16.840.1.113730.1.1",e["2.5.29.1"]="authorityKeyIdentifier",e["2.5.29.2"]="keyAttributes",e["2.5.29.3"]="certificatePolicies",e["2.5.29.4"]="keyUsageRestriction",e["2.5.29.5"]="policyMapping",e["2.5.29.6"]="subtreesConstraint",e["2.5.29.7"]="subjectAltName",e["2.5.29.8"]="issuerAltName",e["2.5.29.9"]="subjectDirectoryAttributes",e["2.5.29.10"]="basicConstraints",e["2.5.29.11"]="nameConstraints",e["2.5.29.12"]="policyConstraints",e["2.5.29.13"]="basicConstraints",e["2.5.29.14"]="subjectKeyIdentifier",e.subjectKeyIdentifier="2.5.29.14",e["2.5.29.15"]="keyUsage",e.keyUsage="2.5.29.15",e["2.5.29.16"]="privateKeyUsagePeriod",e["2.5.29.17"]="subjectAltName",e.subjectAltName="2.5.29.17",e["2.5.29.18"]="issuerAltName",e.issuerAltName="2.5.29.18",e["2.5.29.19"]="basicConstraints",e.basicConstraints="2.5.29.19",e["2.5.29.20"]="cRLNumber",e["2.5.29.21"]="cRLReason",e["2.5.29.22"]="expirationDate",e["2.5.29.23"]="instructionCode",e["2.5.29.24"]="invalidityDate",e["2.5.29.25"]="cRLDistributionPoints",e["2.5.29.26"]="issuingDistributionPoint",e["2.5.29.27"]="deltaCRLIndicator",e["2.5.29.28"]="issuingDistributionPoint",e["2.5.29.29"]="certificateIssuer",e["2.5.29.30"]="nameConstraints",e["2.5.29.31"]="cRLDistributionPoints",e["2.5.29.32"]="certificatePolicies",e["2.5.29.33"]="policyMappings",e["2.5.29.34"]="policyConstraints",e["2.5.29.35"]="authorityKeyIdentifier",e["2.5.29.36"]="policyConstraints",e["2.5.29.37"]="extKeyUsage",e.extKeyUsage="2.5.29.37",e["2.5.29.46"]="freshestCRL",e["2.5.29.54"]="inhibitAnyPolicy",e["1.3.6.1.5.5.7.3.1"]="serverAuth",e.serverAuth="1.3.6.1.5.5.7.3.1",e["1.3.6.1.5.5.7.3.2"]="clientAuth",e.clientAuth="1.3.6.1.5.5.7.3.2",e["1.3.6.1.5.5.7.3.3"]="codeSigning",e.codeSigning="1.3.6.1.5.5.7.3.3",e["1.3.6.1.5.5.7.3.4"]="emailProtection",e.emailProtection="1.3.6.1.5.5.7.3.4",e["1.3.6.1.5.5.7.3.8"]="timeStamping",e.timeStamping="1.3.6.1.5.5.7.3.8"}()},function(t,e,r){!function(){var e={hmac:t.exports||{},util:r(34),md:r(41)};r(42),r(43);var n=e.hmac=e.hmac||{};n.create=function(){var t=null,r=null,n=null,i=null,a={};return a.start=function(a,o){if(null!==a)if("string"==typeof a){if(a=a.toLowerCase(),!(a in e.md.algorithms))throw new Error('Unknown hash algorithm "'+a+'"');r=e.md.algorithms[a].create()}else r=a;if(null===o)o=t;else{if("string"==typeof o)o=e.util.createBuffer(o);else if(e.util.isArray(o)){var s=o;o=e.util.createBuffer();for(var u=0;u<s.length;++u)o.putByte(s[u])}var c=o.length();c>r.blockLength&&(r.start(),r.update(o.bytes()),o=r.digest()),n=e.util.createBuffer(),i=e.util.createBuffer(),c=o.length();for(var u=0;u<c;++u){var s=o.at(u);n.putByte(54^s),i.putByte(92^s)}if(c<r.blockLength)for(var s=r.blockLength-c,u=0;u<s;++u)n.putByte(54),i.putByte(92);t=o,n=n.bytes(),i=i.bytes()}r.start(),r.update(n)},a.update=function(t){r.update(t)},a.getMac=function(){var t=r.digest().bytes();return r.start(),r.update(i),r.update(t),r.digest()},a.digest=a.getMac,a}}()},function(t,e){!function(){var e={md:t.exports||{}};e.md.algorithms={}}()},function(t,e,r){!function(){function e(){o=String.fromCharCode(128),o+=i.util.fillString(String.fromCharCode(0),64),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],u=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],c=new Array(64);for(var t=0;t<64;++t)c[t]=Math.floor(4294967296*Math.abs(Math.sin(t+1)));f=!0}function n(t,e,r){for(var n,i,a,o,f,l,h,p,d=r.length();d>=64;){for(i=t.h0,a=t.h1,o=t.h2,f=t.h3,p=0;p<16;++p)e[p]=r.getInt32Le(),l=f^a&(o^f),n=i+l+c[p]+e[p],h=u[p],i=f,f=o,o=a,a+=n<<h|n>>>32-h;for(;p<32;++p)l=o^f&(a^o),n=i+l+c[p]+e[s[p]],h=u[p],i=f,f=o,o=a,a+=n<<h|n>>>32-h;for(;p<48;++p)l=a^o^f,n=i+l+c[p]+e[s[p]],h=u[p],i=f,f=o,o=a,a+=n<<h|n>>>32-h;for(;p<64;++p)l=o^(a|~f),n=i+l+c[p]+e[s[p]],h=u[p],i=f,f=o,o=a,a+=n<<h|n>>>32-h;t.h0=t.h0+i|0,t.h1=t.h1+a|0,t.h2=t.h2+o|0,t.h3=t.h3+f|0,d-=64}}var i={md5:t.exports||{},util:r(34),md:r(41)},a=i.md5;i.md.md5=i.md.algorithms.md5=a,a.create=function(){f||e();var t=null,r=i.util.createBuffer(),a=new Array(16),s={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,messageLength64:[0,0]};return s.start=function(){return s.messageLength=0,s.messageLength64=[0,0],r=i.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},s},s.start(),s.update=function(e,o){return"utf8"===o&&(e=i.util.encodeUtf8(e)),s.messageLength+=e.length,s.messageLength64[0]+=e.length/4294967296>>>0,s.messageLength64[1]+=e.length>>>0,r.putBytes(e),n(t,a,r),(r.read>2048||0===r.length())&&r.compact(),s},s.digest=function(){var e=i.util.createBuffer();e.putBytes(r.bytes()),e.putBytes(o.substr(0,64-(s.messageLength64[1]+8&63))),e.putInt32Le(s.messageLength64[1]<<3),e.putInt32Le(s.messageLength64[0]<<3|s.messageLength64[0]>>>28);var u={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};n(u,a,e);var c=i.util.createBuffer();return c.putInt32Le(u.h0),c.putInt32Le(u.h1),c.putInt32Le(u.h2),c.putInt32Le(u.h3),c},s};var o=null,s=null,u=null,c=null,f=!1}()},function(t,e,r){!function(){function e(){o=String.fromCharCode(128),o+=i.util.fillString(String.fromCharCode(0),64),s=!0}function n(t,e,r){for(var n,i,a,o,s,u,c,f,l=r.length();l>=64;){for(i=t.h0,a=t.h1,o=t.h2,s=t.h3,u=t.h4,f=0;f<16;++f)n=r.getInt32(),e[f]=n,c=s^a&(o^s),n=(i<<5|i>>>27)+c+u+1518500249+n,u=s,s=o,o=a<<30|a>>>2,a=i,i=n;for(;f<20;++f)n=e[f-3]^e[f-8]^e[f-14]^e[f-16],n=n<<1|n>>>31,e[f]=n,c=s^a&(o^s),n=(i<<5|i>>>27)+c+u+1518500249+n,u=s,s=o,o=a<<30|a>>>2,a=i,i=n;for(;f<32;++f)n=e[f-3]^e[f-8]^e[f-14]^e[f-16],n=n<<1|n>>>31,e[f]=n,c=a^o^s,n=(i<<5|i>>>27)+c+u+1859775393+n,u=s,s=o,o=a<<30|a>>>2,a=i,i=n;for(;f<40;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=a^o^s,n=(i<<5|i>>>27)+c+u+1859775393+n,u=s,s=o,o=a<<30|a>>>2,a=i,i=n;for(;f<60;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=a&o|s&(a^o),n=(i<<5|i>>>27)+c+u+2400959708+n,u=s,s=o,o=a<<30|a>>>2,a=i,i=n;for(;f<80;++f)n=e[f-6]^e[f-16]^e[f-28]^e[f-32],n=n<<2|n>>>30,e[f]=n,c=a^o^s,
n=(i<<5|i>>>27)+c+u+3395469782+n,u=s,s=o,o=a<<30|a>>>2,a=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+a|0,t.h2=t.h2+o|0,t.h3=t.h3+s|0,t.h4=t.h4+u|0,l-=64}}var i={sha1:t.exports||{},util:r(34),md:r(41)},a=i.sha1;i.md.sha1=i.md.algorithms.sha1=a,a.create=function(){s||e();var t=null,r=i.util.createBuffer(),a=new Array(80),u={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,messageLength64:[0,0]};return u.start=function(){return u.messageLength=0,u.messageLength64=[0,0],r=i.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},u},u.start(),u.update=function(e,o){return"utf8"===o&&(e=i.util.encodeUtf8(e)),u.messageLength+=e.length,u.messageLength64[0]+=e.length/4294967296>>>0,u.messageLength64[1]+=e.length>>>0,r.putBytes(e),n(t,a,r),(r.read>2048||0===r.length())&&r.compact(),u},u.digest=function(){var e=i.util.createBuffer();e.putBytes(r.bytes()),e.putBytes(o.substr(0,64-(u.messageLength64[1]+8&63))),e.putInt32(u.messageLength64[0]<<3|u.messageLength64[0]>>>28),e.putInt32(u.messageLength64[1]<<3);var s={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};n(s,a,e);var c=i.util.createBuffer();return c.putInt32(s.h0),c.putInt32(s.h1),c.putInt32(s.h2),c.putInt32(s.h3),c.putInt32(s.h4),c},u};var o=null,s=!1}()},function(t,e,r){!function(){e.BigInteger=r(45).BigInteger}()},function(t,e,r){(function(){function r(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function n(){return new r(null)}function i(t,e,r,n,i,a){for(;--a>=0;){var o=e*this[t++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=67108863&o}return i}function a(t,e,r,n,i,a){for(var o=32767&e,s=e>>15;--a>=0;){var u=32767&this[t],c=this[t++]>>15,f=s*u+c*o;u=o*u+((32767&f)<<15)+r[n]+(1073741823&i),i=(u>>>30)+(f>>>15)+s*c+(i>>>30),r[n++]=1073741823&u}return i}function o(t,e,r,n,i,a){for(var o=16383&e,s=e>>14;--a>=0;){var u=16383&this[t],c=this[t++]>>14,f=s*u+c*o;u=o*u+((16383&f)<<14)+r[n]+i,i=(u>>28)+(f>>14)+s*c,r[n++]=268435455&u}return i}function s(t){return ge.charAt(t)}function u(t,e){var r=ve[t.charCodeAt(e)];return null==r?-1:r}function c(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function f(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function l(t){var e=n();return e.fromInt(t),e}function h(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var i=t.length,a=!1,o=0;--i>=0;){var s=8==n?255&t[i]:u(t,i);s<0?"-"==t.charAt(i)&&(a=!0):(a=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=n,o>=this.DB&&(o-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),a&&r.ZERO.subTo(this,this)}function p(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function d(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,a="",o=this.t,u=this.DB-o*this.DB%e;if(o-- >0)for(u<this.DB&&(r=this[o]>>u)>0&&(i=!0,a=s(r));o>=0;)u<e?(r=(this[o]&(1<<u)-1)<<e-u,r|=this[--o]>>(u+=this.DB-e)):(r=this[o]>>(u-=e)&n,u<=0&&(u+=this.DB,--o)),r>0&&(i=!0),i&&(a+=s(r));return i?a:"0"}function y(){var t=n();return r.ZERO.subTo(this,t),t}function g(){return this.s<0?this.negate():this}function v(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(e=r-t.t,0!=e)return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0}function m(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function b(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)}function E(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s}function w(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s}function _(t,e){var r,n=t%this.DB,i=this.DB-n,a=(1<<i)-1,o=Math.floor(t/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+o+1]=this[r]>>i|s,s=(this[r]&a)<<n;for(r=o-1;r>=0;--r)e[r]=0;e[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()}function C(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)return void(e.t=0);var n=t%this.DB,i=this.DB-n,a=(1<<n)-1;e[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)e[o-r-1]|=(this[o]&a)<<i,e[o-r]=this[o]>>n;n>0&&(e[this.t-r-1]|=(this.s&a)<<i),e.t=this.t-r,e.clamp()}function S(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()}function A(t,e){var n=this.abs(),i=t.abs(),a=n.t;for(e.t=a+i.t;--a>=0;)e[a]=0;for(a=0;a<i.t;++a)e[a+n.t]=n.am(0,i[a],e,a,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&r.ZERO.subTo(e,e)}function T(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()}function B(t,e,i){var a=t.abs();if(!(a.t<=0)){var o=this.abs();if(o.t<a.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=n());var s=n(),u=this.s,c=t.s,f=this.DB-m(a[a.t-1]);f>0?(a.lShiftTo(f,s),o.lShiftTo(f,i)):(a.copyTo(s),o.copyTo(i));var l=s.t,h=s[l-1];if(0!=h){var p=h*(1<<this.F1)+(l>1?s[l-2]>>this.F2:0),d=this.FV/p,y=(1<<this.F1)/p,g=1<<this.F2,v=i.t,b=v-l,E=null==e?n():e;for(s.dlShiftTo(b,E),i.compareTo(E)>=0&&(i[i.t++]=1,i.subTo(E,i)),r.ONE.dlShiftTo(l,E),E.subTo(s,s);s.t<l;)s[s.t++]=0;for(;--b>=0;){var w=i[--v]==h?this.DM:Math.floor(i[v]*d+(i[v-1]+g)*y);if((i[v]+=s.am(0,w,i,b,0,l))<w)for(s.dlShiftTo(b,E),i.subTo(E,i);i[v]<--w;)i.subTo(E,i)}null!=e&&(i.drShiftTo(l,e),u!=c&&r.ZERO.subTo(e,e)),i.t=l,i.clamp(),f>0&&i.rShiftTo(f,i),u<0&&r.ZERO.subTo(i,i)}}}function I(t){var e=n();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(r.ZERO)>0&&t.subTo(e,e),e}function k(t){this.m=t}function R(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function N(t){return t}function F(t){t.divRemTo(this.m,null,t)}function P(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function O(t,e){t.squareTo(e),this.reduce(e)}function L(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function x(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function D(t){var e=n();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(r.ZERO)>0&&this.m.subTo(e,e),e}function U(t){var e=n();return t.copyTo(e),this.reduce(e),e}function j(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t[r]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function M(t,e){t.squareTo(e),this.reduce(e)}function K(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function V(){return 0==(this.t>0?1&this[0]:this.s)}function H(t,e){if(t>4294967295||t<1)return r.ONE;var i=n(),a=n(),o=e.convert(this),s=m(t)-1;for(o.copyTo(i);--s>=0;)if(e.sqrTo(i,a),(t&1<<s)>0)e.mulTo(a,o,i);else{var u=i;i=a,a=u}return e.revert(i)}function q(t,e){var r;return r=t<256||e.isEven()?new k(e):new x(e),this.exp(t,r)}function z(){var t=n();return this.copyTo(t),t}function G(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function W(){return 0==this.t?this.s:this[0]<<24>>24}function Z(){return 0==this.t?this.s:this[0]<<16>>16}function Q(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Y(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function J(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),i=l(r),a=n(),o=n(),s="";for(this.divRemTo(i,a,o);a.signum()>0;)s=(r+o.intValue()).toString(t).substr(1)+s,a.divRemTo(i,a,o);return o.intValue().toString(t)+s}function $(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),i=Math.pow(e,n),a=!1,o=0,s=0,c=0;c<t.length;++c){var f=u(t,c);f<0?"-"==t.charAt(c)&&0==this.signum()&&(a=!0):(s=e*s+f,++o>=n&&(this.dMultiply(i),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),a&&r.ZERO.subTo(this,this)}function X(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(r.ONE.shiftLeft(t-1),st,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(r.ONE.shiftLeft(t-1),this);else{var i=new Array,a=7&t;i.length=(t>>3)+1,e.nextBytes(i),a>0?i[0]&=(1<<a)-1:i[0]=0,this.fromString(i,256)}}function tt(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e}function et(t){return 0==this.compareTo(t)}function rt(t){return this.compareTo(t)<0?this:t}function nt(t){return this.compareTo(t)>0?this:t}function it(t,e,r){var n,i,a=Math.min(t.t,this.t);for(n=0;n<a;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=a;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function at(t,e){return t&e}function ot(t){var e=n();return this.bitwiseTo(t,at,e),e}function st(t,e){return t|e}function ut(t){var e=n();return this.bitwiseTo(t,st,e),e}function ct(t,e){return t^e}function ft(t){var e=n();return this.bitwiseTo(t,ct,e),e}function lt(t,e){return t&~e}function ht(t){var e=n();return this.bitwiseTo(t,lt,e),e}function pt(){for(var t=n(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function dt(t){var e=n();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function yt(t){var e=n();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function gt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function vt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+gt(this[t]);return this.s<0?this.t*this.DB:-1}function mt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function bt(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=mt(this[r]^e);return t}function Et(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function wt(t,e){var n=r.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n}function _t(t){return this.changeBit(t,st)}function Ct(t){return this.changeBit(t,lt)}function St(t){return this.changeBit(t,ct)}function At(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()}function Tt(t){var e=n();return this.addTo(t,e),e}function Bt(t){var e=n();return this.subTo(t,e),e}function It(t){var e=n();return this.multiplyTo(t,e),e}function kt(){var t=n();return this.squareTo(t),t}function Rt(t){var e=n();return this.divRemTo(t,e,null),e}function Nt(t){var e=n();return this.divRemTo(t,null,e),e}function Ft(t){var e=n(),r=n();return this.divRemTo(t,e,r),new Array(e,r)}function Pt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Ot(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Lt(){}function xt(t){return t}function Dt(t,e,r){t.multiplyTo(e,r)}function Ut(t,e){t.squareTo(e)}function jt(t){return this.exp(t,new Lt)}function Mt(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()}function Kt(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Vt(t){this.r2=n(),this.q3=n(),r.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Ht(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=n();return t.copyTo(e),this.reduce(e),e}function qt(t){return t}function zt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Gt(t,e){t.squareTo(e),this.reduce(e)}function Wt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Zt(t,e){var r,i,a=t.bitLength(),o=l(1);if(a<=0)return o;r=a<18?1:a<48?3:a<144?4:a<768?5:6,i=a<8?new k(e):e.isEven()?new Vt(e):new x(e);var s=new Array,u=3,c=r-1,f=(1<<r)-1;if(s[1]=i.convert(this),r>1){var h=n();for(i.sqrTo(s[1],h);u<=f;)s[u]=n(),i.mulTo(h,s[u-2],s[u]),u+=2}var p,d,y=t.t-1,g=!0,v=n();for(a=m(t[y])-1;y>=0;){for(a>=c?p=t[y]>>a-c&f:(p=(t[y]&(1<<a+1)-1)<<c-a,y>0&&(p|=t[y-1]>>this.DB+a-c)),u=r;0==(1&p);)p>>=1,--u;if((a-=u)<0&&(a+=this.DB,--y),g)s[p].copyTo(o),g=!1;else{for(;u>1;)i.sqrTo(o,v),i.sqrTo(v,o),u-=2;u>0?i.sqrTo(o,v):(d=o,o=v,v=d),i.mulTo(v,s[p],o)}for(;y>=0&&0==(t[y]&1<<a);)i.sqrTo(o,v),d=o,o=v,v=d,--a<0&&(a=this.DB-1,--y)}return i.revert(o)}function Qt(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(i<a&&(a=i),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function Yt(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r}function Jt(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return r.ZERO;for(var n=t.clone(),i=this.clone(),a=l(1),o=l(0),s=l(0),u=l(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&o.isEven()||(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),e?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(t,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);n.compareTo(i)>=0?(n.subTo(i,n),e&&a.subTo(s,a),o.subTo(u,o)):(i.subTo(n,i),e&&s.subTo(a,s),u.subTo(o,u))}return 0!=i.compareTo(r.ONE)?r.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u}function $t(t){var e,r=this.abs();if(1==r.t&&r[0]<=me[me.length-1]){for(e=0;e<me.length;++e)if(r[0]==me[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<me.length;){for(var n=me[e],i=e+1;i<me.length&&n<be;)n*=me[i++];for(n=r.modInt(n);e<i;)if(n%me[e++]==0)return!1}return r.millerRabin(t)}function Xt(t){var e=this.subtract(r.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var a=e.shiftRight(i);t=t+1>>1,t>me.length&&(t=me.length);for(var o=n(),s=0;s<t;++s){o.fromInt(me[Math.floor(Math.random()*me.length)]);var u=o.modPow(a,this);if(0!=u.compareTo(r.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<i&&0!=u.compareTo(e);)if(u=u.modPowInt(2,this),0==u.compareTo(r.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0}function te(t){we[_e++]^=255&t,we[_e++]^=t>>8&255,we[_e++]^=t>>16&255,we[_e++]^=t>>24&255,_e>=Te&&(_e-=Te)}function ee(){te((new Date).getTime())}function re(){if(null==Ee){for(ee(),Ee=ue(),Ee.init(we),_e=0;_e<we.length;++_e)we[_e]=0;_e=0}return Ee.next()}function ne(t){var e;for(e=0;e<t.length;++e)t[e]=re()}function ie(){}function ae(){this.i=0,this.j=0,this.S=new Array}function oe(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0}function se(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function ue(){return new ae}var ce,fe=0xdeadbeefcafe,le=15715070==(16777215&fe),he="undefined"!=typeof navigator;he&&le&&"Microsoft Internet Explorer"==navigator.appName?(r.prototype.am=a,ce=30):he&&le&&"Netscape"!=navigator.appName?(r.prototype.am=i,ce=26):(r.prototype.am=o,ce=28),r.prototype.DB=ce,r.prototype.DM=(1<<ce)-1,r.prototype.DV=1<<ce;var pe=52;r.prototype.FV=Math.pow(2,pe),r.prototype.F1=pe-ce,r.prototype.F2=2*ce-pe;var de,ye,ge="0123456789abcdefghijklmnopqrstuvwxyz",ve=new Array;for(de="0".charCodeAt(0),ye=0;ye<=9;++ye)ve[de++]=ye;for(de="a".charCodeAt(0),ye=10;ye<36;++ye)ve[de++]=ye;for(de="A".charCodeAt(0),ye=10;ye<36;++ye)ve[de++]=ye;k.prototype.convert=R,k.prototype.revert=N,k.prototype.reduce=F,k.prototype.mulTo=P,k.prototype.sqrTo=O,x.prototype.convert=D,x.prototype.revert=U,x.prototype.reduce=j,x.prototype.mulTo=K,x.prototype.sqrTo=M,r.prototype.copyTo=c,r.prototype.fromInt=f,r.prototype.fromString=h,r.prototype.clamp=p,r.prototype.dlShiftTo=E,r.prototype.drShiftTo=w,r.prototype.lShiftTo=_,r.prototype.rShiftTo=C,r.prototype.subTo=S,r.prototype.multiplyTo=A,r.prototype.squareTo=T,r.prototype.divRemTo=B,r.prototype.invDigit=L,r.prototype.isEven=V,r.prototype.exp=H,r.prototype.toString=d,r.prototype.negate=y,r.prototype.abs=g,r.prototype.compareTo=v,r.prototype.bitLength=b,r.prototype.mod=I,r.prototype.modPowInt=q,r.ZERO=l(0),r.ONE=l(1),Lt.prototype.convert=xt,Lt.prototype.revert=xt,Lt.prototype.mulTo=Dt,Lt.prototype.sqrTo=Ut,Vt.prototype.convert=Ht,Vt.prototype.revert=qt,Vt.prototype.reduce=zt,Vt.prototype.mulTo=Wt,Vt.prototype.sqrTo=Gt;var me=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],be=(1<<26)/me[me.length-1];r.prototype.chunkSize=Q,r.prototype.toRadix=J,r.prototype.fromRadix=$,r.prototype.fromNumber=X,r.prototype.bitwiseTo=it,r.prototype.changeBit=wt,r.prototype.addTo=At,r.prototype.dMultiply=Pt,r.prototype.dAddOffset=Ot,r.prototype.multiplyLowerTo=Mt,r.prototype.multiplyUpperTo=Kt,r.prototype.modInt=Yt,r.prototype.millerRabin=Xt,r.prototype.clone=z,r.prototype.intValue=G,r.prototype.byteValue=W,r.prototype.shortValue=Z,r.prototype.signum=Y,r.prototype.toByteArray=tt,r.prototype.equals=et,r.prototype.min=rt,r.prototype.max=nt,r.prototype.and=ot,r.prototype.or=ut,r.prototype.xor=ft,r.prototype.andNot=ht,r.prototype.not=pt,r.prototype.shiftLeft=dt,r.prototype.shiftRight=yt,r.prototype.getLowestSetBit=vt,r.prototype.bitCount=bt,r.prototype.testBit=Et,r.prototype.setBit=_t,r.prototype.clearBit=Ct,r.prototype.flipBit=St,r.prototype.add=Tt,r.prototype.subtract=Bt,r.prototype.multiply=It,r.prototype.divide=Rt,r.prototype.remainder=Nt,r.prototype.divideAndRemainder=Ft,r.prototype.modPow=Zt,r.prototype.modInverse=Jt,r.prototype.pow=jt,r.prototype.gcd=Qt,r.prototype.isProbablePrime=$t,r.prototype.square=kt,r.prototype.Barrett=Vt;var Ee,we,_e;if(null==we){we=new Array,_e=0;var Ce;if("undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var Se=new Uint8Array(32);for(window.crypto.getRandomValues(Se),Ce=0;Ce<32;++Ce)we[_e++]=Se[Ce]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var Ae=window.crypto.random(32);for(Ce=0;Ce<Ae.length;++Ce)we[_e++]=255&Ae.charCodeAt(Ce)}for(;_e<Te;)Ce=Math.floor(65536*Math.random()),we[_e++]=Ce>>>8,we[_e++]=255&Ce;_e=0,ee()}ie.prototype.nextBytes=ne,ae.prototype.init=oe,ae.prototype.next=se;var Te=256;e=t.exports={BigInteger:r,SecureRandom:ie}}).call(this)},function(t,e,r){!function(){var e={mgf:t.exports||{}};e.mgf.mgf1=r(47)}()},function(t,e,r){!function(){var e={mgf:r(46),util:r(34)},n=e.mgf.mgf1=t.exports;n.create=function(t){var r={generate:function(r,n){for(var i=new e.util.ByteBuffer,a=Math.ceil(n/t.digestLength),o=0;o<a;o++){var s=new e.util.ByteBuffer;s.putInt32(o),t.start(),t.update(r+s.getBytes()),i.putBuffer(t.digest())}return i.truncate(i.length()-n),i.getBytes()}};return r}}()},function(t,e,r){!function(){function e(t,e,r){r||(r=n.md.sha1.create());for(var i="",a=Math.ceil(e/r.digestLength),o=0;o<a;++o){var s=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,255&o);r.start(),r.update(t+s),i+=r.digest().getBytes()}return i.substring(0,e)}var n={pkcs1:t.exports||{},util:r(34),random:r(49),md:r(41)};r(43);var i=n.pkcs1;i.encode_rsa_oaep=function(t,r,i){var a,o,s,u;"string"==typeof i?(a=i,o=arguments[3]||void 0,s=arguments[4]||void 0):i&&(a=i.label||void 0,o=i.seed||void 0,s=i.md||void 0,i.mgf1&&i.mgf1.md&&(u=i.mgf1.md)),s?s.start():s=n.md.sha1.create(),u||(u=s);var c=Math.ceil(t.n.bitLength()/8),f=c-2*s.digestLength-2;if(r.length>f){var l=new Error("RSAES-OAEP input message length is too long.");throw l.length=r.length,l.maxLength=f,l}a||(a=""),s.update(a,"raw");for(var h=s.digest(),p="",d=f-r.length,y=0;y<d;y++)p+="\0";var g=h.getBytes()+p+""+r;if(o){if(o.length!==s.digestLength){var l=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw l.seedLength=o.length,l.digestLength=s.digestLength,l}}else o=n.random.getBytes(s.digestLength);var v=e(o,c-s.digestLength-1,u),m=n.util.xorBytes(g,v,g.length),b=e(m,s.digestLength,u),E=n.util.xorBytes(o,b,o.length);return"\0"+E+m},i.decode_rsa_oaep=function(t,r,i){var a,o,s;"string"==typeof i?(a=i,o=arguments[3]||void 0):i&&(a=i.label||void 0,o=i.md||void 0,i.mgf1&&i.mgf1.md&&(s=i.mgf1.md));var u=Math.ceil(t.n.bitLength()/8);if(r.length!==u){var c=new Error("RSAES-OAEP encoded message length is invalid.");throw c.length=r.length,c.expectedLength=u,c}if(void 0===o?o=n.md.sha1.create():o.start(),s||(s=o),u<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");a||(a=""),o.update(a,"raw");for(var f=o.digest().getBytes(),l=r.charAt(0),h=r.substring(1,o.digestLength+1),p=r.substring(1+o.digestLength),d=e(p,o.digestLength,s),y=n.util.xorBytes(h,d,h.length),g=e(y,u-o.digestLength-1,s),v=n.util.xorBytes(p,g,p.length),m=v.substring(0,o.digestLength),c="\0"!==l,b=0;b<o.digestLength;++b)c|=f.charAt(b)!==m.charAt(b);for(var E=1,w=o.digestLength,_=o.digestLength;_<v.length;_++){var C=v.charCodeAt(_),S=1&C^1,A=E?65534:0;c|=C&A,E&=S,w+=E}if(c||1!==v.charCodeAt(w))throw new Error("Invalid RSAES-OAEP padding.");return v.substring(w+1)}}()},function(t,e,r){(function(e){!function(){var n={aes:r(32),md:r(41),prng:r(50),util:r(34)};r(52),function(r){function i(){var t=n.prng.create(a);return t.getBytes=function(e,r){return t.generate(e,r)},t.getBytesSync=function(e){return t.generate(e)},t}var a={},o=new Array(4),s=n.util.createBuffer();a.formatKey=function(t){var e=n.util.createBuffer(t);return t=new Array(4),t[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),n.aes._expandKey(t,!1)},a.formatSeed=function(t){var e=n.util.createBuffer(t);return t=new Array(4),t[0]=e.getInt32(),t[1]=e.getInt32(),t[2]=e.getInt32(),t[3]=e.getInt32(),t},a.cipher=function(t,e){return n.aes._updateBlock(t,e,o,!1),s.putInt32(o[0]),s.putInt32(o[1]),s.putInt32(o[2]),s.putInt32(o[3]),s.getBytes()},a.increment=function(t){return++t[3],t},a.md=n.md.sha256;var u=i(),c="undefined"!=typeof e&&e.versions&&e.versions.node,f=null;if("undefined"!=typeof window){var l=window.crypto||window.msCrypto;l&&l.getRandomValues&&(f=function(t){return l.getRandomValues(t)})}if(n.disableNativeCode||!c&&!f){if("undefined"==typeof window||void 0===window.document,u.collectInt(+new Date,32),"undefined"!=typeof navigator){var h="";for(var p in navigator)try{"string"==typeof navigator[p]&&(h+=navigator[p])}catch(d){}u.collect(h),h=null}r&&(r().mousemove(function(t){u.collectInt(t.clientX,16),u.collectInt(t.clientY,16)}),r().keypress(function(t){u.collectInt(t.charCode,8)}))}n.random=t.exports=u,n.random.createInstance=i}("undefined"!=typeof jQuery?jQuery:null)}()}).call(e,r(20))},function(t,e,r){(function(e){!function(){var n={prng:t.exports||{},util:r(34)},i="undefined"!=typeof e&&e.versions&&e.versions.node,a=null;n.disableNativeCode||!i||e.versions["node-webkit"]||(a=r(51));var o=n.prng;o.create=function(t){function e(t){if(s.pools[0].messageLength>=32)return i(),t();var e=32-s.pools[0].messageLength<<5;s.seedFile(e,function(e,r){return e?t(e):(s.collect(r),i(),void t())})}function r(){if(s.pools[0].messageLength>=32)return i();var t=32-s.pools[0].messageLength<<5;s.collect(s.seedFileSync(t)),i()}function i(){var t=s.plugin.md.create();t.update(s.pools[0].digest().getBytes()),s.pools[0].start();for(var e=1,r=1;r<32;++r)e=31===e?2147483648:e<<2,e%s.reseeds===0&&(t.update(s.pools[r].digest().getBytes()),s.pools[r].start());var n=t.digest().getBytes();t.start(),t.update(n);var i=t.digest().getBytes();s.key=s.plugin.formatKey(n),s.seed=s.plugin.formatSeed(i),s.reseeds=4294967295===s.reseeds?0:s.reseeds+1,s.generated=0}function o(t){var e=null;if("undefined"!=typeof window){var r=window.crypto||window.msCrypto;r&&r.getRandomValues&&(e=function(t){return r.getRandomValues(t)})}var i=n.util.createBuffer();if(e)for(;i.length()<t;){var a=Math.max(1,Math.min(t-i.length(),65536)/4),o=new Uint32Array(Math.floor(a));try{e(o);for(var s=0;s<o.length;++s)i.putInt32(o[s])}catch(u){if(!("undefined"!=typeof QuotaExceededError&&u instanceof QuotaExceededError))throw u}}if(i.length()<t)for(var c,f,l,h=Math.floor(65536*Math.random());i.length()<t;){f=16807*(65535&h),c=16807*(h>>16),f+=(32767&c)<<16,f+=c>>15,f=(2147483647&f)+(f>>31),h=4294967295&f;for(var s=0;s<3;++s)l=h>>>(s<<3),l^=Math.floor(256*Math.random()),i.putByte(String.fromCharCode(255&l))}return i.getBytes(t)}for(var s={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0},u=t.md,c=new Array(32),f=0;f<32;++f)c[f]=u.create();return s.pools=c,s.pool=0,s.generate=function(t,r){function i(l){if(l)return r(l);if(f.length()>=t)return r(null,f.getBytes(t));if(s.generated>1048575&&(s.key=null),null===s.key)return n.util.nextTick(function(){e(i)});var h=a(s.key,s.seed);s.generated+=h.length,f.putBytes(h),s.key=u(a(s.key,o(s.seed))),s.seed=c(a(s.key,s.seed)),n.util.setImmediate(i)}if(!r)return s.generateSync(t);var a=s.plugin.cipher,o=s.plugin.increment,u=s.plugin.formatKey,c=s.plugin.formatSeed,f=n.util.createBuffer();s.key=null,i()},s.generateSync=function(t){var e=s.plugin.cipher,i=s.plugin.increment,a=s.plugin.formatKey,o=s.plugin.formatSeed;s.key=null;for(var u=n.util.createBuffer();u.length()<t;){s.generated>1048575&&(s.key=null),null===s.key&&r();var c=e(s.key,s.seed);s.generated+=c.length,u.putBytes(c),s.key=a(e(s.key,i(s.seed))),s.seed=o(e(s.key,s.seed))}return u.getBytes(t)},a?(s.seedFile=function(t,e){a.randomBytes(t,function(t,r){return t?e(t):void e(null,r.toString())})},s.seedFileSync=function(t){return a.randomBytes(t).toString()}):(s.seedFile=function(t,e){try{e(null,o(t))}catch(r){e(r)}},s.seedFileSync=o),s.collect=function(t){for(var e=t.length,r=0;r<e;++r)s.pools[s.pool].update(t.substr(r,1)),s.pool=31===s.pool?0:s.pool+1},s.collectInt=function(t,e){for(var r="",n=0;n<e;n+=8)r+=String.fromCharCode(t>>n&255);s.collect(r)},s.registerWorker=function(t){if(t===self)s.seedFile=function(t,e){function r(t){var n=t.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",r),e(n.forge.prng.err,n.forge.prng.bytes))}self.addEventListener("message",r),self.postMessage({forge:{prng:{needed:t}}})};else{var e=function(e){var r=e.data;r.forge&&r.forge.prng&&s.seedFile(r.forge.prng.needed,function(e,r){t.postMessage({forge:{prng:{err:e,bytes:r}}})})};t.addEventListener("message",e)}},s}}()}).call(e,r(20))},function(t,e){},function(t,e,r){!function(){function e(){o=String.fromCharCode(128),o+=i.util.fillString(String.fromCharCode(0),64),u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0}function n(t,e,r){for(var n,i,a,o,s,c,f,l,h,p,d,y,g,v,m,b=r.length();b>=64;){for(f=0;f<16;++f)e[f]=r.getInt32();for(;f<64;++f)n=e[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[f-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[f]=n+e[f-7]+i+e[f-16]|0;for(l=t.h0,h=t.h1,p=t.h2,d=t.h3,y=t.h4,g=t.h5,v=t.h6,m=t.h7,f=0;f<64;++f)o=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7),s=v^y&(g^v),a=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),c=l&h|p&(l^h),n=m+o+s+u[f]+e[f],i=a+c,m=v,v=g,g=y,y=d+n|0,d=p,p=h,h=l,l=n+i|0;t.h0=t.h0+l|0,t.h1=t.h1+h|0,t.h2=t.h2+p|0,t.h3=t.h3+d|0,t.h4=t.h4+y|0,t.h5=t.h5+g|0,t.h6=t.h6+v|0,t.h7=t.h7+m|0,b-=64}}var i={sha256:t.exports||{},util:r(34),md:r(41)},a=i.sha256;i.md.sha256=i.md.algorithms.sha256=a,a.create=function(){s||e();var t=null,r=i.util.createBuffer(),a=new Array(64),u={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,messageLength64:[0,0]};return u.start=function(){return u.messageLength=0,u.messageLength64=[0,0],r=i.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},u},u.start(),u.update=function(e,o){return"utf8"===o&&(e=i.util.encodeUtf8(e)),u.messageLength+=e.length,u.messageLength64[0]+=e.length/4294967296>>>0,u.messageLength64[1]+=e.length>>>0,r.putBytes(e),n(t,a,r),(r.read>2048||0===r.length())&&r.compact(),u},u.digest=function(){var e=i.util.createBuffer();e.putBytes(r.bytes()),e.putBytes(o.substr(0,64-(u.messageLength64[1]+8&63))),e.putInt32(u.messageLength64[0]<<3|u.messageLength64[0]>>>28),e.putInt32(u.messageLength64[1]<<3);var s={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};n(s,a,e);var c=i.util.createBuffer();return c.putInt32(s.h0),c.putInt32(s.h1),c.putInt32(s.h2),c.putInt32(s.h3),c.putInt32(s.h4),c.putInt32(s.h5),c.putInt32(s.h6),c.putInt32(s.h7),c},u};var o=null,s=!1,u=null}()},function(t,e,r){!function(){var e={pkcs5:t.exports||{}};e.pkcs5=r(54)}()},function(t,e,r){!function(){var e={util:r(34),pkcs5:r(53),md:r(41),hmac:r(40)};r(43);var n=e.pkcs5;t.exports=e.pbkdf2=n.pbkdf2=function(t,r,n,i,a,o){function s(){return m>l?o(null,v):(p.start(null,null),p.update(r),p.update(e.util.int32ToBytes(m)),d=g=p.digest().getBytes(),b=2,void u())}function u(){return b<=n?(p.start(null,null),p.update(g),y=p.digest().getBytes(),d=e.util.xorBytes(d,y,c),
g=y,++b,e.util.setImmediate(u)):(v+=m<l?d:d.substr(0,h),++m,void s())}"function"==typeof a&&(o=a,a=null),"undefined"!=typeof a&&null!==a||(a=e.md.sha1.create());var c=a.digestLength;if(i>4294967295*c){var f=new Error("Derived key is too long.");if(o)return o(f);throw f}var l=Math.ceil(i/c),h=i-(l-1)*c,p=e.hmac.create();p.start(a,t);var d,y,g,v="";if(!o){for(var m=1;m<=l;++m){p.start(null,null),p.update(r),p.update(e.util.int32ToBytes(m)),d=g=p.digest().getBytes();for(var b=2;b<=n;++b)p.start(null,null),p.update(g),y=p.digest().getBytes(),d=e.util.xorBytes(d,y,c),g=y;v+=m<l?d:d.substr(0,h)}return v}var b,m=1;s()}}()},function(t,e,r){!function(){var e={pkcs7:t.exports,asn1:r(36),aes:r(32),des:r(56),pki:r(57),pem:r(38),random:r(49),util:r(34)};r(61);var n=e.asn1,i=e.pkcs7;e.pkcs7.asn1=r(61),i.messageFromPem=function(t){var r=e.pem.decode(t)[0];if("PKCS7"!==r.type){var a=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw a.headerType=r.type,a}if(r.procType&&"ENCRYPTED"===r.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var o=n.fromDer(r.body);return i.messageFromAsn1(o)},i.messageToPem=function(t,r){var i={type:"PKCS7",body:n.toDer(t.toAsn1()).getBytes()};return e.pem.encode(i,{maxline:r})},i.messageFromAsn1=function(t){var r={},a=[];if(!n.validate(t,i.asn1.contentInfoValidator,r,a)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw o.errors=a,o}var s,u=n.derToOid(r.contentType);switch(u){case e.pki.oids.envelopedData:s=i.createEnvelopedData();break;case e.pki.oids.encryptedData:s=i.createEncryptedData();break;case e.pki.oids.signedData:s=i.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+u+" is not (yet) supported.")}return s.fromAsn1(r.content.value[0]),s};var a=function(t){var r={},a=[];if(!n.validate(t,i.asn1.recipientInfoValidator,r,a)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 EnvelopedData.");throw o.errors=a,o}return{version:r.version.charCodeAt(0),issuer:e.pki.RDNAttributesAsArray(r.issuer),serialNumber:e.util.createBuffer(r.serial).toHex(),encryptedContent:{algorithm:n.derToOid(r.encAlgorithm),parameter:r.encParameter.value,content:r.encKey}}},o=function(t){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(t.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[e.pki.distinguishedNameToAsn1({attributes:t.issuer}),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,e.util.hexToBytes(t.serialNumber))]),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(t.encryptedContent.algorithm).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,t.encryptedContent.content)])},s=function(t){for(var e=[],r=0;r<t.length;r++)e.push(a(t[r]));return e},u=function(t){for(var e=[],r=0;r<t.length;r++)e.push(o(t[r]));return e},c=function(t){return[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.pki.oids.data).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(t.algorithm).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,t.parameter.getBytes())]),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,t.content.getBytes())])]},f=function(t,r,i){var a={},o=[];if(!n.validate(r,i,a,o)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var u=n.derToOid(a.contentType);if(u!==e.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(a.encryptedContent){var c="";if(e.util.isArray(a.encryptedContent))for(var f=0;f<a.encryptedContent.length;++f){if(a.encryptedContent[f].type!==n.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");c+=a.encryptedContent[f].value}else c=a.encryptedContent;t.encryptedContent={algorithm:n.derToOid(a.encAlgorithm),parameter:e.util.createBuffer(a.encParameter.value),content:e.util.createBuffer(c)}}if(a.content){var c="";if(e.util.isArray(a.content))for(var f=0;f<a.content.length;++f){if(a.content[f].type!==n.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");c+=a.content[f].value}else c=a.content;t.content=e.util.createBuffer(c)}return t.version=a.version.charCodeAt(0),t.rawCapture=a,a},l=function(t){if(void 0===t.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===t.content){var r;switch(t.encryptedContent.algorithm){case e.pki.oids["aes128-CBC"]:case e.pki.oids["aes192-CBC"]:case e.pki.oids["aes256-CBC"]:r=e.aes.createDecryptionCipher(t.encryptedContent.key);break;case e.pki.oids.desCBC:case e.pki.oids["des-EDE3-CBC"]:r=e.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(r.start(t.encryptedContent.parameter),r.update(t.encryptedContent.content),!r.finish())throw new Error("Symmetric decryption failed.");t.content=r.output}};i.createSignedData=function(){var t=null;return t={type:e.pki.oids.signedData,version:1,certificates:[],crls:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(r){f(t,r,i.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[];for(var n=t.rawCapture.certificates.value,a=0;a<n.length;++a)t.certificates.push(e.pki.certificateFromAsn1(n[a]))},toAsn1:function(){if("content"in t)throw new Error("Signing PKCS#7 content not yet implemented.");t.contentInfo||t.sign();for(var r=[],i=0;i<t.certificates.length;++i)r.push(e.pki.certificateToAsn1(t.certificates[0]));var a=[];return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(t.type).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(t.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo,n.create(n.Class.CONTEXT_SPECIFIC,0,!0,r),n.create(n.Class.CONTEXT_SPECIFIC,1,!0,a),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,t.signerInfos)])])])},sign:function(r){if("content"in t)throw new Error("PKCS#7 signing not yet implemented.");"object"!=typeof t.content&&(t.contentInfo=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(e.pki.oids.data).getBytes())]),"content"in t&&t.contentInfo.value.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,t.content)])))},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(r){"string"==typeof r&&(r=e.pki.certificateFromPem(r)),t.certificates.push(r)},addCertificateRevokationList:function(t){throw new Error("PKCS#7 CRL support not yet implemented.")}}},i.createEncryptedData=function(){var t=null;return t={type:e.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(e){f(t,e,i.asn1.encryptedDataValidator)},decrypt:function(e){void 0!==e&&(t.encryptedContent.key=e),l(t)}}},i.createEnvelopedData=function(){var t=null;return t={type:e.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:e.pki.oids["aes256-CBC"]},fromAsn1:function(e){var r=f(t,e,i.asn1.envelopedDataValidator);t.recipients=s(r.recipientInfos.value)},toAsn1:function(){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(t.type).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(t.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,u(t.recipients)),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,c(t.encryptedContent))])])])},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var i=t.recipients[n],a=i.issuer;if(i.serialNumber===e.serialNumber&&a.length===r.length){for(var o=!0,s=0;s<r.length;++s)if(a[s].type!==r[s].type||a[s].value!==r[s].value){o=!1;break}if(o)return i}}return null},decrypt:function(r,n){if(void 0===t.encryptedContent.key&&void 0!==r&&void 0!==n)switch(r.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:case e.pki.oids.desCBC:var i=n.decrypt(r.encryptedContent.content);t.encryptedContent.key=e.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+r.encryptedContent.algorithm)}l(t)},addRecipient:function(r){t.recipients.push({version:0,issuer:r.issuer.attributes,serialNumber:r.serialNumber,encryptedContent:{algorithm:e.pki.oids.rsaEncryption,key:r.publicKey}})},encrypt:function(r,n){if(void 0===t.encryptedContent.content){n=n||t.encryptedContent.algorithm,r=r||t.encryptedContent.key;var i,a,o;switch(n){case e.pki.oids["aes128-CBC"]:i=16,a=16,o=e.aes.createEncryptionCipher;break;case e.pki.oids["aes192-CBC"]:i=24,a=16,o=e.aes.createEncryptionCipher;break;case e.pki.oids["aes256-CBC"]:i=32,a=16,o=e.aes.createEncryptionCipher;break;case e.pki.oids["des-EDE3-CBC"]:i=24,a=8,o=e.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+n)}if(void 0===r)r=e.util.createBuffer(e.random.getBytes(i));else if(r.length()!=i)throw new Error("Symmetric key has wrong length; got "+r.length()+" bytes, expected "+i+".");t.encryptedContent.algorithm=n,t.encryptedContent.key=r,t.encryptedContent.parameter=e.util.createBuffer(e.random.getBytes(a));var s=o(r);if(s.start(t.encryptedContent.parameter.copy()),s.update(t.content),!s.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=s.output}for(var u=0;u<t.recipients.length;u++){var c=t.recipients[u];if(void 0===c.encryptedContent.content)switch(c.encryptedContent.algorithm){case e.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}}}}()},function(t,e,r){!function(){function e(t,e){var r=function(){return new o.des.Algorithm(t,e)};o.cipher.registerAlgorithm(t,r)}function n(t){for(var e,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],a=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],o=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],u=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],l=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],y=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=t.length()>8?3:1,v=[],m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,E=0;E<g;E++){var w=t.getInt32(),_=t.getInt32();e=252645135&(w>>>4^_),_^=e,w^=e<<4,e=65535&(_>>>-16^w),w^=e,_^=e<<-16,e=858993459&(w>>>2^_),_^=e,w^=e<<2,e=65535&(_>>>-16^w),w^=e,_^=e<<-16,e=1431655765&(w>>>1^_),_^=e,w^=e<<1,e=16711935&(_>>>8^w),w^=e,_^=e<<8,e=1431655765&(w>>>1^_),_^=e,w^=e<<1,e=w<<8|_>>>20&240,w=_<<24|_<<8&16711680|_>>>8&65280|_>>>24&240,_=e;for(var C=0;C<m.length;++C){m[C]?(w=w<<2|w>>>26,_=_<<2|_>>>26):(w=w<<1|w>>>27,_=_<<1|_>>>27),w&=-15,_&=-15;var S=r[w>>>28]|n[w>>>24&15]|i[w>>>20&15]|a[w>>>16&15]|o[w>>>12&15]|s[w>>>8&15]|u[w>>>4&15],A=c[_>>>28]|f[_>>>24&15]|l[_>>>20&15]|h[_>>>16&15]|p[_>>>12&15]|d[_>>>8&15]|y[_>>>4&15];e=65535&(A>>>16^S),v[b++]=S^e,v[b++]=A^e<<16}}return v}function i(t,e,r,n){var i,a=32===t.length?3:9;i=3===a?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,y=e[0],g=e[1];o=252645135&(y>>>4^g),g^=o,y^=o<<4,o=65535&(y>>>16^g),g^=o,y^=o<<16,o=858993459&(g>>>2^y),y^=o,g^=o<<2,o=16711935&(g>>>8^y),y^=o,g^=o<<8,o=1431655765&(y>>>1^g),g^=o,y^=o<<1,y=y<<1|y>>>31,g=g<<1|g>>>31;for(var v=0;v<a;v+=3){for(var m=i[v+1],b=i[v+2],E=i[v];E!=m;E+=b){var w=g^t[E],_=(g>>>4|g<<28)^t[E+1];o=y,y=g,g=o^(u[w>>>24&63]|f[w>>>16&63]|h[w>>>8&63]|d[63&w]|s[_>>>24&63]|c[_>>>16&63]|l[_>>>8&63]|p[63&_])}o=y,y=g,g=o}y=y>>>1|y<<31,g=g>>>1|g<<31,o=1431655765&(y>>>1^g),g^=o,y^=o<<1,o=16711935&(g>>>8^y),y^=o,g^=o<<8,o=858993459&(g>>>2^y),y^=o,g^=o<<2,o=65535&(y>>>16^g),g^=o,y^=o<<16,o=252645135&(y>>>4^g),g^=o,y^=o<<4,r[0]=y,r[1]=g}function a(t){t=t||{};var e,r=(t.mode||"CBC").toUpperCase(),n="DES-"+r;e=t.decrypt?o.cipher.createDecipher(n,t.key):o.cipher.createCipher(n,t.key);var i=e.start;return e.start=function(t,r){var n=null;r instanceof o.util.ByteBuffer&&(n=r,r={}),r=r||{},r.output=n,r.iv=t,i.call(e,r)},e}var o={des:t.exports||{},cipher:r(33),util:r(34)};o.des.startEncrypting=function(t,e,r,n){var i=a({key:t,output:r,decrypt:!1,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},o.des.createEncryptionCipher=function(t,e){return a({key:t,output:null,decrypt:!1,mode:e})},o.des.startDecrypting=function(t,e,r,n){var i=a({key:t,output:r,decrypt:!0,mode:n||(null===e?"ECB":"CBC")});return i.start(e),i},o.des.createDecryptionCipher=function(t,e){return a({key:t,output:null,decrypt:!0,mode:e})},o.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(t,e){return i(r._keys,t,e,!1)},decrypt:function(t,e){return i(r._keys,t,e,!0)}}}),r._init=!1},o.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=o.util.createBuffer(t.key);if(0===this.name.indexOf("3DES")&&24!==e.length())throw new Error("Invalid Triple-DES key size: "+8*e.length());this._keys=n(e),this._init=!0}},r(35),e("DES-ECB",o.cipher.modes.ecb),e("DES-CBC",o.cipher.modes.cbc),e("DES-CFB",o.cipher.modes.cfb),e("DES-OFB",o.cipher.modes.ofb),e("DES-CTR",o.cipher.modes.ctr),e("3DES-ECB",o.cipher.modes.ecb),e("3DES-CBC",o.cipher.modes.cbc),e("3DES-CFB",o.cipher.modes.cfb),e("3DES-OFB",o.cipher.modes.ofb),e("3DES-CTR",o.cipher.modes.ctr);var s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],u=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],f=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],h=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],p=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696]}()},function(t,e,r){!function(){function e(t,e){"string"==typeof e&&(e={shortName:e});for(var r,n=null,i=0;null===n&&i<t.attributes.length;++i)r=t.attributes[i],e.type&&e.type===r.type?n=r:e.name&&e.name===r.name?n=r:e.shortName&&e.shortName===r.shortName&&(n=r);return n}function n(t){for(var e,r,n=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),i=t.attributes,a=0;a<i.length;++a){e=i[a];var o=e.value,s=c.Type.PRINTABLESTRING;"valueTagClass"in e&&(s=e.valueTagClass,s===c.Type.UTF8&&(o=u.util.encodeUtf8(o))),r=c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(e.type).getBytes()),c.create(c.Class.UNIVERSAL,s,!1,o)])]),n.value.push(r)}return n}function i(t){for(var e,r=0;r<t.length;++r){if(e=t[r],"undefined"==typeof e.name&&(e.type&&e.type in f.oids?e.name=f.oids[e.type]:e.shortName&&e.shortName in h&&(e.name=f.oids[h[e.shortName]])),"undefined"==typeof e.type){if(!(e.name&&e.name in f.oids)){var n=new Error("Attribute type not specified.");throw n.attribute=e,n}e.type=f.oids[e.name]}if("undefined"==typeof e.shortName&&e.name&&e.name in h&&(e.shortName=h[e.name]),e.type===l.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=c.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var i=0;i<e.extensions.length;++i)e.value.push(f.certificateExtensionToAsn1(a(e.extensions[i])))}if("undefined"==typeof e.value){var n=new Error("Attribute value not specified.");throw n.attribute=e,n}}}function a(t,e){if(e=e||{},"undefined"==typeof t.name&&t.id&&t.id in f.oids&&(t.name=f.oids[t.id]),"undefined"==typeof t.id){if(!(t.name&&t.name in f.oids)){var r=new Error("Extension ID not specified.");throw r.extension=t,r}t.id=f.oids[t.name]}if("undefined"==typeof t.value){if("keyUsage"===t.name){var n=0,i=0,a=0;t.digitalSignature&&(i|=128,n=7),t.nonRepudiation&&(i|=64,n=6),t.keyEncipherment&&(i|=32,n=5),t.dataEncipherment&&(i|=16,n=4),t.keyAgreement&&(i|=8,n=3),t.keyCertSign&&(i|=4,n=2),t.cRLSign&&(i|=2,n=1),t.encipherOnly&&(i|=1,n=0),t.decipherOnly&&(a|=128,n=7);var o=String.fromCharCode(n);0!==a?o+=String.fromCharCode(i)+String.fromCharCode(a):0!==i&&(o+=String.fromCharCode(i)),t.value=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,o)}else if("basicConstraints"===t.name)t.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(c.create(c.Class.UNIVERSAL,c.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in t&&t.value.value.push(c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(t.pathLenConstraint).getBytes()));else if("extKeyUsage"===t.name){t.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);var s=t.value.value;for(var h in t)t[h]===!0&&(h in l?s.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(l[h]).getBytes())):h.indexOf(".")!==-1&&s.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(h).getBytes())))}else if("nsCertType"===t.name){var n=0,i=0;t.client&&(i|=128,n=7),t.server&&(i|=64,n=6),t.email&&(i|=32,n=5),t.objsign&&(i|=16,n=4),t.reserved&&(i|=8,n=3),t.sslCA&&(i|=4,n=2),t.emailCA&&(i|=2,n=1),t.objCA&&(i|=1,n=0);var o=String.fromCharCode(n);0!==i&&(o+=String.fromCharCode(i)),t.value=c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,o)}else if("subjectAltName"===t.name||"issuerAltName"===t.name){t.value=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);for(var p,d=0;d<t.altNames.length;++d){p=t.altNames[d];var o=p.value;if(7===p.type&&p.ip){if(o=u.util.bytesFromIP(p.ip),null===o){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else 8===p.type&&(o=p.oid?c.oidToDer(c.oidToDer(p.oid)):c.oidToDer(o));t.value.value.push(c.create(c.Class.CONTEXT_SPECIFIC,p.type,!1,o))}}else if("subjectKeyIdentifier"===t.name&&e.cert){var y=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=y.toHex(),t.value=c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,y.getBytes())}if("undefined"==typeof t.value){var r=new Error("Extension value not specified.");throw r.extension=t,r}return t}}function o(t,e){switch(t){case l["RSASSA-PSS"]:var r=[];return void 0!==e.hash.algorithmOid&&r.push(c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(e.hash.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])])),void 0!==e.mgf.algorithmOid&&r.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(e.mgf.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(e.mgf.hash.algorithmOid).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")])])])),void 0!==e.saltLength&&r.push(c.create(c.Class.CONTEXT_SPECIFIC,2,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(e.saltLength).getBytes())])),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,r);default:return c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")}}function s(t){var e=c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===t.attributes.length)return e;for(var r=t.attributes,n=0;n<r.length;++n){var i=r[n],a=i.value,o=c.Type.UTF8;"valueTagClass"in i&&(o=i.valueTagClass),o===c.Type.UTF8&&(a=u.util.encodeUtf8(a));var s=!1;"valueConstructed"in i&&(s=i.valueConstructed);var f=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(i.type).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SET,!0,[c.create(c.Class.UNIVERSAL,o,s,a)])]);e.value.push(f)}return e}var u={pki:r(37),asn1:r(36),md:r(41),mgf:r(46),pem:r(38),pss:r(58),rsa:r(59),util:r(34)};r(42),r(43),r(52);var c=u.asn1,f=t.exports=u.pki,l=f.oids,h={};h.CN=l.commonName,h.commonName="CN",h.C=l.countryName,h.countryName="C",h.L=l.localityName,h.localityName="L",h.ST=l.stateOrProvinceName,h.stateOrProvinceName="ST",h.O=l.organizationName,h.organizationName="O",h.OU=l.organizationalUnitName,h.organizationalUnitName="OU",h.E=l.emailAddress,h.emailAddress="E";var p=u.pki.rsa.publicKeyValidator,d={name:"Certificate",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:c.Class.UNIVERSAL,type:c.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:c.Class.UNIVERSAL,type:c.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:c.Class.UNIVERSAL,type:c.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:c.Class.UNIVERSAL,type:c.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},p,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:c.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:c.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,capture:"certSignature"}]},y={name:"rsapss",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:c.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:c.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:c.Class.UNIVERSAL,type:c.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:c.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:c.Class.UNIVERSAL,type:c.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},g={name:"CertificationRequestInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},p,{name:"CertificationRequestInfo.attributes",tagClass:c.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:c.Class.UNIVERSAL,type:c.Type.SET,constructed:!0}]}]}]},v={name:"CertificationRequest",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[g,{name:"CertificationRequest.signatureAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:c.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,capture:"csrSignature"}]};f.RDNAttributesAsArray=function(t,e){for(var r,n,i,a=[],o=0;o<t.value.length;++o){r=t.value[o];for(var s=0;s<r.value.length;++s)i={},n=r.value[s],i.type=c.derToOid(n.value[0].value),i.value=n.value[1].value,i.valueTagClass=n.value[1].type,i.type in l&&(i.name=l[i.type],i.name in h&&(i.shortName=h[i.name])),e&&(e.update(i.type),e.update(i.value)),
a.push(i)}return a},f.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],i=c.derToOid(n.value[0].value),a=n.value[1].value,o=0;o<a.length;++o){var s={};if(s.type=i,s.value=a[o].value,s.valueTagClass=a[o].type,s.type in l&&(s.name=l[s.type],s.name in h&&(s.shortName=h[s.name])),s.type===l.extensionRequest){s.extensions=[];for(var u=0;u<s.value.length;++u)s.extensions.push(f.certificateExtensionFromAsn1(s.value[u]))}e.push(s)}return e};var m=function(t,e,r){var n={};if(t!==l["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:l.sha1},mgf:{algorithmOid:l.mgf1,hash:{algorithmOid:l.sha1}},saltLength:20});var i={},a=[];if(!c.validate(e,y,i,a)){var o=new Error("Cannot read RSASSA-PSS parameter block.");throw o.errors=a,o}return void 0!==i.hashOid&&(n.hash=n.hash||{},n.hash.algorithmOid=c.derToOid(i.hashOid)),void 0!==i.maskGenOid&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=c.derToOid(i.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=c.derToOid(i.maskGenHashOid)),void 0!==i.saltLength&&(n.saltLength=i.saltLength.charCodeAt(0)),n};f.certificateFromPem=function(t,e,r){var n=u.pem.decode(t)[0];if("CERTIFICATE"!==n.type&&"X509 CERTIFICATE"!==n.type&&"TRUSTED CERTIFICATE"!==n.type){var i=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw i.headerType=n.type,i}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=c.fromDer(n.body,r);return f.certificateFromAsn1(a,e)},f.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:c.toDer(f.certificateToAsn1(t)).getBytes()};return u.pem.encode(r,{maxline:e})},f.publicKeyFromPem=function(t){var e=u.pem.decode(t)[0];if("PUBLIC KEY"!==e.type&&"RSA PUBLIC KEY"!==e.type){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&"ENCRYPTED"===e.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=c.fromDer(e.body);return f.publicKeyFromAsn1(n)},f.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:c.toDer(f.publicKeyToAsn1(t)).getBytes()};return u.pem.encode(r,{maxline:e})},f.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:c.toDer(f.publicKeyToRSAPublicKey(t)).getBytes()};return u.pem.encode(r,{maxline:e})},f.getPublicKeyFingerprint=function(t,e){e=e||{};var r,n=e.md||u.md.sha1.create(),i=e.type||"RSAPublicKey";switch(i){case"RSAPublicKey":r=c.toDer(f.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":r=c.toDer(f.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}n.start(),n.update(r);var a=n.digest();if("hex"===e.encoding){var o=a.toHex();return e.delimiter?o.match(/.{2}/g).join(e.delimiter):o}if("binary"===e.encoding)return a.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".');return a},f.certificationRequestFromPem=function(t,e,r){var n=u.pem.decode(t)[0];if("CERTIFICATE REQUEST"!==n.type){var i=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw i.headerType=n.type,i}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=c.fromDer(n.body,r);return f.certificationRequestFromAsn1(a,e)},f.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:c.toDer(f.certificationRequestToAsn1(t)).getBytes()};return u.pem.encode(r,{maxline:e})},f.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(r){return e(t.issuer,r)},t.issuer.addField=function(e){i([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(r){return e(t.subject,r)},t.subject.addField=function(e){i([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){i(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){i(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)a(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){"string"==typeof e&&(e={name:e});for(var r,n=null,i=0;null===n&&i<t.extensions.length;++i)r=t.extensions[i],e.id&&r.id===e.id?n=r:e.name&&r.name===e.name&&(n=r);return n},t.sign=function(e,r){t.md=r||u.md.sha1.create();var n=l[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=f.getTBSCertificate(t);var a=c.toDer(t.tbsCertificate);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,i=t.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=n.attributes,a.actualIssuer=i.attributes,a}var o=e.md;if(null===o){if(e.signatureOid in l){var s=l[e.signatureOid];switch(s){case"sha1WithRSAEncryption":o=u.md.sha1.create();break;case"md5WithRSAEncryption":o=u.md.md5.create();break;case"sha256WithRSAEncryption":o=u.md.sha256.create();break;case"RSASSA-PSS":o=u.md.sha256.create()}}if(null===o){var a=new Error("Could not compute certificate digest. Unknown signature OID.");throw a.signatureOid=e.signatureOid,a}var h=e.tbsCertificate||f.getTBSCertificate(e),p=c.toDer(h);o.update(p.getBytes())}if(null!==o){var d;switch(e.signatureOid){case l.sha1WithRSAEncryption:d=void 0;break;case l["RSASSA-PSS"]:var y,g;if(y=l[e.signatureParameters.mgf.hash.algorithmOid],void 0===y||void 0===u.md[y]){var a=new Error("Unsupported MGF hash function.");throw a.oid=e.signatureParameters.mgf.hash.algorithmOid,a.name=y,a}if(g=l[e.signatureParameters.mgf.algorithmOid],void 0===g||void 0===u.mgf[g]){var a=new Error("Unsupported MGF function.");throw a.oid=e.signatureParameters.mgf.algorithmOid,a.name=g,a}if(g=u.mgf[g].create(u.md[y].create()),y=l[e.signatureParameters.hash.algorithmOid],void 0===y||void 0===u.md[y])throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:y};d=u.pss.create(u.md[y].create(),g,e.signatureParameters.saltLength)}r=t.publicKey.verify(o.digest().getBytes(),e.signature,d)}return r},t.isIssuer=function(e){var r=!1,n=t.issuer,i=e.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){r=!0;for(var a,o,s=0;r&&s<n.attributes.length;++s)a=n.attributes[s],o=i.attributes[s],a.type===o.type&&a.value===o.value||(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return f.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=l.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var i=t.generateSubjectKeyIdentifier().getBytes();return u.util.hexToBytes(n.subjectKeyIdentifier)===i}}return!1},t},f.certificateFromAsn1=function(t,r){var n={},a=[];if(!c.validate(t,d,n,a)){var o=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw o.errors=a,o}if("string"!=typeof n.certSignature){for(var s="\0",h=0;h<n.certSignature.length;++h)s+=c.toDer(n.certSignature[h]).getBytes();n.certSignature=s}var p=c.derToOid(n.publicKeyOid);if(p!==f.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var y=f.createCertificate();y.version=n.certVersion?n.certVersion.charCodeAt(0):0;var g=u.util.createBuffer(n.certSerialNumber);y.serialNumber=g.toHex(),y.signatureOid=u.asn1.derToOid(n.certSignatureOid),y.signatureParameters=m(y.signatureOid,n.certSignatureParams,!0),y.siginfo.algorithmOid=u.asn1.derToOid(n.certinfoSignatureOid),y.siginfo.parameters=m(y.siginfo.algorithmOid,n.certinfoSignatureParams,!1);var v=u.util.createBuffer(n.certSignature);++v.read,y.signature=v.getBytes();var b=[];if(void 0!==n.certValidity1UTCTime&&b.push(c.utcTimeToDate(n.certValidity1UTCTime)),void 0!==n.certValidity2GeneralizedTime&&b.push(c.generalizedTimeToDate(n.certValidity2GeneralizedTime)),void 0!==n.certValidity3UTCTime&&b.push(c.utcTimeToDate(n.certValidity3UTCTime)),void 0!==n.certValidity4GeneralizedTime&&b.push(c.generalizedTimeToDate(n.certValidity4GeneralizedTime)),b.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(b.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(y.validity.notBefore=b[0],y.validity.notAfter=b[1],y.tbsCertificate=n.tbsCertificate,r){if(y.md=null,y.signatureOid in l){var p=l[y.signatureOid];switch(p){case"sha1WithRSAEncryption":y.md=u.md.sha1.create();break;case"md5WithRSAEncryption":y.md=u.md.md5.create();break;case"sha256WithRSAEncryption":y.md=u.md.sha256.create();break;case"RSASSA-PSS":y.md=u.md.sha256.create()}}if(null===y.md){var o=new Error("Could not compute certificate digest. Unknown signature OID.");throw o.signatureOid=y.signatureOid,o}var E=c.toDer(y.tbsCertificate);y.md.update(E.getBytes())}var w=u.md.sha1.create();y.issuer.getField=function(t){return e(y.issuer,t)},y.issuer.addField=function(t){i([t]),y.issuer.attributes.push(t)},y.issuer.attributes=f.RDNAttributesAsArray(n.certIssuer,w),n.certIssuerUniqueId&&(y.issuer.uniqueId=n.certIssuerUniqueId),y.issuer.hash=w.digest().toHex();var _=u.md.sha1.create();return y.subject.getField=function(t){return e(y.subject,t)},y.subject.addField=function(t){i([t]),y.subject.attributes.push(t)},y.subject.attributes=f.RDNAttributesAsArray(n.certSubject,_),n.certSubjectUniqueId&&(y.subject.uniqueId=n.certSubjectUniqueId),y.subject.hash=_.digest().toHex(),n.certExtensions?y.extensions=f.certificateExtensionsFromAsn1(n.certExtensions):y.extensions=[],y.publicKey=f.publicKeyFromAsn1(n.subjectPublicKeyInfo),y},f.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],i=0;i<n.value.length;++i)e.push(f.certificateExtensionFromAsn1(n.value[i]));return e},f.certificateExtensionFromAsn1=function(t){var e={};if(e.id=c.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===c.Type.BOOLEAN?(e.critical=0!==t.value[1].value.charCodeAt(0),e.value=t.value[2].value):e.value=t.value[1].value,e.id in l)if(e.name=l[e.id],"keyUsage"===e.name){var r=c.fromDer(e.value),n=0,i=0;r.value.length>1&&(n=r.value.charCodeAt(1),i=r.value.length>2?r.value.charCodeAt(2):0),e.digitalSignature=128===(128&n),e.nonRepudiation=64===(64&n),e.keyEncipherment=32===(32&n),e.dataEncipherment=16===(16&n),e.keyAgreement=8===(8&n),e.keyCertSign=4===(4&n),e.cRLSign=2===(2&n),e.encipherOnly=1===(1&n),e.decipherOnly=128===(128&i)}else if("basicConstraints"===e.name){var r=c.fromDer(e.value);r.value.length>0&&r.value[0].type===c.Type.BOOLEAN?e.cA=0!==r.value[0].value.charCodeAt(0):e.cA=!1;var a=null;r.value.length>0&&r.value[0].type===c.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),null!==a&&(e.pathLenConstraint=c.derToInteger(a))}else if("extKeyUsage"===e.name)for(var r=c.fromDer(e.value),o=0;o<r.value.length;++o){var s=c.derToOid(r.value[o].value);s in l?e[l[s]]=!0:e[s]=!0}else if("nsCertType"===e.name){var r=c.fromDer(e.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),e.client=128===(128&n),e.server=64===(64&n),e.email=32===(32&n),e.objsign=16===(16&n),e.reserved=8===(8&n),e.sslCA=4===(4&n),e.emailCA=2===(2&n),e.objCA=1===(1&n)}else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.altNames=[];for(var f,r=c.fromDer(e.value),h=0;h<r.value.length;++h){f=r.value[h];var p={type:f.type,value:f.value};switch(e.altNames.push(p),f.type){case 1:case 2:case 6:break;case 7:p.ip=u.util.bytesToIP(f.value);break;case 8:p.oid=c.derToOid(f.value)}}}else if("subjectKeyIdentifier"===e.name){var r=c.fromDer(e.value);e.subjectKeyIdentifier=u.util.bytesToHex(r.value)}return e},f.certificationRequestFromAsn1=function(t,r){var n={},a=[];if(!c.validate(t,v,n,a)){var o=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw o.errors=a,o}if("string"!=typeof n.csrSignature){for(var s="\0",h=0;h<n.csrSignature.length;++h)s+=c.toDer(n.csrSignature[h]).getBytes();n.csrSignature=s}var p=c.derToOid(n.publicKeyOid);if(p!==f.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var d=f.createCertificationRequest();d.version=n.csrVersion?n.csrVersion.charCodeAt(0):0,d.signatureOid=u.asn1.derToOid(n.csrSignatureOid),d.signatureParameters=m(d.signatureOid,n.csrSignatureParams,!0),d.siginfo.algorithmOid=u.asn1.derToOid(n.csrSignatureOid),d.siginfo.parameters=m(d.siginfo.algorithmOid,n.csrSignatureParams,!1);var y=u.util.createBuffer(n.csrSignature);if(++y.read,d.signature=y.getBytes(),d.certificationRequestInfo=n.certificationRequestInfo,r){if(d.md=null,d.signatureOid in l){var p=l[d.signatureOid];switch(p){case"sha1WithRSAEncryption":d.md=u.md.sha1.create();break;case"md5WithRSAEncryption":d.md=u.md.md5.create();break;case"sha256WithRSAEncryption":d.md=u.md.sha256.create();break;case"RSASSA-PSS":d.md=u.md.sha256.create()}}if(null===d.md){var o=new Error("Could not compute certification request digest. Unknown signature OID.");throw o.signatureOid=d.signatureOid,o}var g=c.toDer(d.certificationRequestInfo);d.md.update(g.getBytes())}var b=u.md.sha1.create();return d.subject.getField=function(t){return e(d.subject,t)},d.subject.addField=function(t){i([t]),d.subject.attributes.push(t)},d.subject.attributes=f.RDNAttributesAsArray(n.certificationRequestInfoSubject,b),d.subject.hash=b.digest().toHex(),d.publicKey=f.publicKeyFromAsn1(n.subjectPublicKeyInfo),d.getAttribute=function(t){return e(d,t)},d.addAttribute=function(t){i([t]),d.attributes.push(t)},d.attributes=f.CRIAttributesAsArray(n.certificationRequestInfoAttributes||[]),d},f.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(r){return e(t.subject,r)},t.subject.addField=function(e){i([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(r){return e(t,r)},t.addAttribute=function(e){i([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){i(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){i(e),t.attributes=e},t.sign=function(e,r){t.md=r||u.md.sha1.create();var n=l[t.md.algorithm+"WithRSAEncryption"];if(!n){var i=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw i.algorithm=t.md.algorithm,i}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=f.getCertificationRequestInfo(t);var a=c.toDer(t.certificationRequestInfo);t.md.update(a.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(null===r){if(t.signatureOid in l){var n=l[t.signatureOid];switch(n){case"sha1WithRSAEncryption":r=u.md.sha1.create();break;case"md5WithRSAEncryption":r=u.md.md5.create();break;case"sha256WithRSAEncryption":r=u.md.sha256.create();break;case"RSASSA-PSS":r=u.md.sha256.create()}}if(null===r){var i=new Error("Could not compute certification request digest. Unknown signature OID.");throw i.signatureOid=t.signatureOid,i}var a=t.certificationRequestInfo||f.getCertificationRequestInfo(t),o=c.toDer(a);r.update(o.getBytes())}if(null!==r){var s;switch(t.signatureOid){case l.sha1WithRSAEncryption:break;case l["RSASSA-PSS"]:var h,p;if(h=l[t.signatureParameters.mgf.hash.algorithmOid],void 0===h||void 0===u.md[h]){var i=new Error("Unsupported MGF hash function.");throw i.oid=t.signatureParameters.mgf.hash.algorithmOid,i.name=h,i}if(p=l[t.signatureParameters.mgf.algorithmOid],void 0===p||void 0===u.mgf[p]){var i=new Error("Unsupported MGF function.");throw i.oid=t.signatureParameters.mgf.algorithmOid,i.name=p,i}if(p=u.mgf[p].create(u.md[h].create()),h=l[t.signatureParameters.hash.algorithmOid],void 0===h||void 0===u.md[h]){var i=new Error("Unsupported RSASSA-PSS hash function.");throw i.oid=t.signatureParameters.hash.algorithmOid,i.name=h,i}s=u.pss.create(u.md[h].create(),p,t.signatureParameters.saltLength)}e=t.publicKey.verify(r.digest().getBytes(),t.signature,s)}return e},t},f.getTBSCertificate=function(t){var e=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.CONTEXT_SPECIFIC,0,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(t.version).getBytes())]),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,u.util.hexToBytes(t.serialNumber)),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(t.siginfo.algorithmOid).getBytes()),o(t.siginfo.algorithmOid,t.siginfo.parameters)]),n(t.issuer),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.UTCTIME,!1,c.dateToUtcTime(t.validity.notBefore)),c.create(c.Class.UNIVERSAL,c.Type.UTCTIME,!1,c.dateToUtcTime(t.validity.notAfter))]),n(t.subject),f.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&e.value.push(c.create(c.Class.CONTEXT_SPECIFIC,1,!0,[c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+t.issuer.uniqueId)])),t.subject.uniqueId&&e.value.push(c.create(c.Class.CONTEXT_SPECIFIC,2,!0,[c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+t.subject.uniqueId)])),t.extensions.length>0&&e.value.push(f.certificateExtensionsToAsn1(t.extensions)),e},f.getCertificationRequestInfo=function(t){var e=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(t.version).getBytes()),n(t.subject),f.publicKeyToAsn1(t.publicKey),s(t)]);return e},f.distinguishedNameToAsn1=function(t){return n(t)},f.certificateToAsn1=function(t){var e=t.tbsCertificate||f.getTBSCertificate(t);return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[e,c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(t.signatureOid).getBytes()),o(t.signatureOid,t.signatureParameters)]),c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},f.certificateExtensionsToAsn1=function(t){var e=c.create(c.Class.CONTEXT_SPECIFIC,3,!0,[]),r=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(f.certificateExtensionToAsn1(t[n]));return e},f.certificateExtensionToAsn1=function(t){var e=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);e.value.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(t.id).getBytes())),t.critical&&e.value.push(c.create(c.Class.UNIVERSAL,c.Type.BOOLEAN,!1,String.fromCharCode(255)));var r=t.value;return"string"!=typeof t.value&&(r=c.toDer(r).getBytes()),e.value.push(c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,r)),e},f.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||f.getCertificationRequestInfo(t);return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[e,c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(t.signatureOid).getBytes()),o(t.signatureOid,t.signatureParameters)]),c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,String.fromCharCode(0)+t.signature)])},f.createCaStore=function(t){function e(t){if(!t.hash){var e=u.md.sha1.create();t.attributes=f.RDNAttributesAsArray(n(t),e),t.hash=e.digest().toHex()}return r.certs[t.hash]||null}var r={certs:{}};if(r.getIssuer=function(t){var r=e(t.issuer);return r},r.addCertificate=function(t){if("string"==typeof t&&(t=u.pki.certificateFromPem(t)),!t.subject.hash){var e=u.md.sha1.create();t.subject.attributes=f.RDNAttributesAsArray(n(t.subject),e),t.subject.hash=e.digest().toHex()}if(t.subject.hash in r.certs){var i=r.certs[t.subject.hash];u.util.isArray(i)||(i=[i]),i.push(t)}else r.certs[t.subject.hash]=t},r.hasCertificate=function(t){var r=e(t.subject);if(!r)return!1;u.util.isArray(r)||(r=[r]);for(var n=c.toDer(f.certificateToAsn1(t)).getBytes(),i=0;i<r.length;++i){var a=c.toDer(f.certificateToAsn1(r[i])).getBytes();if(n===a)return!0}return!1},t)for(var i=0;i<t.length;++i){var a=t[i];r.addCertificate(a)}return r},f.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},f.verifyCertificateChain=function(t,e,r){e=e.slice(0);var n=e.slice(0),i=new Date,a=!0,o=null,s=0;do{var c=e.shift(),l=null,h=!1;if((i<c.validity.notBefore||i>c.validity.notAfter)&&(o={message:"Certificate is not valid yet or has expired.",error:f.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:i}),null===o){if(l=e[0]||t.getIssuer(c),null===l&&c.isIssuer(c)&&(h=!0,l=c),l){var p=l;u.util.isArray(p)||(p=[p]);for(var d=!1;!d&&p.length>0;){l=p.shift();try{d=l.verify(c)}catch(y){}}d||(o={message:"Certificate signature is invalid.",error:f.certificateError.bad_certificate})}null!==o||l&&!h||t.hasCertificate(c)||(o={message:"Certificate is not trusted.",error:f.certificateError.unknown_ca})}if(null===o&&l&&!c.isIssuer(l)&&(o={message:"Certificate issuer is invalid.",error:f.certificateError.bad_certificate}),null===o)for(var g={keyUsage:!0,basicConstraints:!0},v=0;null===o&&v<c.extensions.length;++v){var m=c.extensions[v];!m.critical||m.name in g||(o={message:"Certificate has an unsupported critical extension.",error:f.certificateError.unsupported_certificate})}if(null===o&&(!a||0===e.length&&(!l||h))){var b=c.getExtension("basicConstraints"),E=c.getExtension("keyUsage");if(null!==E&&(E.keyCertSign&&null!==b||(o={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:f.certificateError.bad_certificate})),null!==o||null===b||b.cA||(o={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:f.certificateError.bad_certificate}),null===o&&null!==E&&"pathLenConstraint"in b){var w=s-1;w>b.pathLenConstraint&&(o={message:"Certificate basicConstraints pathLenConstraint violated.",error:f.certificateError.bad_certificate})}}var _=null===o||o.error,C=r?r(_,s,n):_;if(C!==!0)throw _===!0&&(o={message:"The application rejected the certificate.",error:f.certificateError.bad_certificate}),(C||0===C)&&("object"!=typeof C||u.util.isArray(C)?"string"==typeof C&&(o.error=C):(C.message&&(o.message=C.message),C.error&&(o.error=C.error))),o;o=null,a=!1,++s}while(e.length>0);return!0}}()},function(t,e,r){!function(){var e={pss:t.exports||{},random:r(49),util:r(34)},n=e.pss;n.create=function(t){3===arguments.length&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var r=t.md,n=t.mgf,i=r.digestLength,a=t.salt||null;"string"==typeof a&&(a=e.util.createBuffer(a));var o;if("saltLength"in t)o=t.saltLength;else{if(null===a)throw new Error("Salt length not specified or specific salt not given.");o=a.length()}if(null!==a&&a.length()!==o)throw new Error("Given salt length does not match length of given salt.");var s=t.prng||e.random,u={};return u.encode=function(t,u){var c,f=u-1,l=Math.ceil(f/8),h=t.digest().getBytes();if(l<i+o+2)throw new Error("Message is too long to encrypt.");var p;p=null===a?s.getBytesSync(o):a.bytes();var d=new e.util.ByteBuffer;d.fillWithByte(0,8),d.putBytes(h),d.putBytes(p),r.start(),r.update(d.getBytes());var y=r.digest().getBytes(),g=new e.util.ByteBuffer;g.fillWithByte(0,l-o-i-2),g.putByte(1),g.putBytes(p);var v=g.getBytes(),m=l-i-1,b=n.generate(y,m),E="";for(c=0;c<m;c++)E+=String.fromCharCode(v.charCodeAt(c)^b.charCodeAt(c));var w=65280>>8*l-f&255;return E=String.fromCharCode(E.charCodeAt(0)&~w)+E.substr(1),E+y+String.fromCharCode(188)},u.verify=function(t,a,s){var u,c=s-1,f=Math.ceil(c/8);if(a=a.substr(-f),f<i+o+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==a.charCodeAt(f-1))throw new Error("Encoded message does not end in 0xBC.");var l=f-i-1,h=a.substr(0,l),p=a.substr(l,i),d=65280>>8*f-c&255;if(0!==(h.charCodeAt(0)&d))throw new Error("Bits beyond keysize not zero as expected.");var y=n.generate(p,l),g="";for(u=0;u<l;u++)g+=String.fromCharCode(h.charCodeAt(u)^y.charCodeAt(u));g=String.fromCharCode(g.charCodeAt(0)&~d)+g.substr(1);var v=f-i-o-2;for(u=0;u<v;u++)if(0!==g.charCodeAt(u))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(v))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var m=g.substr(-o),b=new e.util.ByteBuffer;b.fillWithByte(0,8),b.putBytes(t),b.putBytes(m),r.start(),r.update(b.getBytes());var E=r.digest().getBytes();return p===E},u}}()},function(t,e,r){!function(){function e(t,e,r){var n=s.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var o,u=i-3-t.length;if(0===r||1===r){o=0===r?0:255;for(var c=0;c<u;++c)n.putByte(o)}else for(;u>0;){for(var f=0,l=s.random.getBytes(u),c=0;c<u;++c)o=l.charCodeAt(c),0===o?++f:n.putByte(o);u=f}return n.putByte(0),n.putBytes(t),n}function n(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),a=s.util.createBuffer(t),o=a.getByte(),u=a.getByte();if(0!==o||r&&0!==u&&1!==u||!r&&2!=u||r&&0===u&&"undefined"==typeof n)throw new Error("Encryption block is invalid.");var c=0;if(0===u){c=i-3-n;for(var f=0;f<c;++f)if(0!==a.getByte())throw new Error("Encryption block is invalid.")}else if(1===u)for(c=0;a.length()>1;){if(255!==a.getByte()){--a.read;break}++c}else if(2===u)for(c=0;a.length()>1;){if(0===a.getByte()){--a.read;break}++c}var l=a.getByte();if(0!==l||c!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function i(t,e,r){function n(){i(t.pBits,function(e,n){return e?r(e):(t.p=n,null!==t.q?a(e,t.q):void i(t.qBits,a))})}function i(t,e){s.prime.generateProbablePrime(t,o,e)}function a(e,o){if(e)return r(e);if(t.q=o,t.p.compareTo(t.q)<0){var s=t.p;t.p=t.q,t.q=s}if(0!==t.p.subtract(u.ONE).gcd(t.e).compareTo(u.ONE))return t.p=null,void n();if(0!==t.q.subtract(u.ONE).gcd(t.e).compareTo(u.ONE))return t.q=null,void i(t.qBits,a);if(t.p1=t.p.subtract(u.ONE),t.q1=t.q.subtract(u.ONE),t.phi=t.p1.multiply(t.q1),0!==t.phi.gcd(t.e).compareTo(u.ONE))return t.p=t.q=null,void n();if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits)return t.q=null,void i(t.qBits,a);var c=t.e.modInverse(t.phi);t.keys={privateKey:f.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:f.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}"function"==typeof e&&(r=e,e={}),e=e||{};var o={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(o.prng=e.prng),n()}function a(t){var e=t.toString(16);return e[0]>="8"&&(e="00"+e),s.util.hexToBytes(e)}function o(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}var s={rsa:t.exports,pki:r(37),asn1:r(36),jsbn:r(44),pkcs1:r(48),prime:r(60),random:r(49),util:r(34)};if("undefined"==typeof u)var u=s.jsbn.BigInteger;var c=s.asn1;s.pki.rsa=s.rsa;var f=s.pki,l=[6,4,2,4,2,4,6,2],h={name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},p={name:"RSAPrivateKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},d={name:"RSAPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:c.Class.UNIVERSAL,type:c.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},y=s.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:c.Class.UNIVERSAL,type:c.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:c.Class.UNIVERSAL,type:c.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},g=function(t){var e;if(!(t.algorithm in f.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}e=f.oids[t.algorithm];var n=c.oidToDer(e).getBytes(),i=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]),a=c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[]);a.value.push(c.create(c.Class.UNIVERSAL,c.Type.OID,!1,n)),a.value.push(c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,""));var o=c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(a),i.value.push(o),c.toDer(i).getBytes()},v=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(u.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(u.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new u(s.util.bytesToHex(s.random.getBytes(e.n.bitLength()/8)),16).mod(e.n);while(n.equals(u.ZERO));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(a)<0;)i=i.add(e.p);var o=i.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return o=o.multiply(n.modInverse(e.n)).mod(e.n)};f.rsa.encrypt=function(t,r,n){var i,a=n,o=Math.ceil(r.n.bitLength()/8);n!==!1&&n!==!0?(a=2===n,
i=e(t,r,n)):(i=s.util.createBuffer(),i.putBytes(t));for(var c=new u(i.toHex(),16),f=v(c,r,a),l=f.toString(16),h=s.util.createBuffer(),p=o-Math.ceil(l.length/2);p>0;)h.putByte(0),--p;return h.putBytes(s.util.hexToBytes(l)),h.getBytes()},f.rsa.decrypt=function(t,e,r,i){var a=Math.ceil(e.n.bitLength()/8);if(t.length!==a){var o=new Error("Encrypted message length is invalid.");throw o.length=t.length,o.expected=a,o}var c=new u(s.util.createBuffer(t).toHex(),16);if(c.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var f=v(c,e,r),l=f.toString(16),h=s.util.createBuffer(),p=a-Math.ceil(l.length/2);p>0;)h.putByte(0),--p;return h.putBytes(s.util.hexToBytes(l)),i!==!1?n(h.getBytes(),e,r):h.getBytes()},f.rsa.createKeyPairGenerationState=function(t,e,r){"string"==typeof t&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n,i=r.prng||s.random,a={nextBytes:function(t){for(var e=i.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}},o=r.algorithm||"PRIMEINC";if("PRIMEINC"!==o)throw new Error("Invalid key generation algorithm: "+o);return n={algorithm:o,state:0,bits:t,rng:a,eInt:e||65537,e:new u(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},n.e.fromInt(n.eInt),n},f.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new u(null);r.fromInt(30);for(var n,i=0,a=function(t,e){return t|e},s=+new Date,c=0;null===t.keys&&(e<=0||c<e);){if(0===t.state){var h=null===t.p?t.pBits:t.qBits,p=h-1;0===t.pqState?(t.num=new u(h,t.rng),t.num.testBit(p)||t.num.bitwiseTo(u.ONE.shiftLeft(p),a,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),i=0,++t.pqState):1===t.pqState?t.num.bitLength()>h?t.pqState=0:t.num.isProbablePrime(o(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(l[i++%8],0):2===t.pqState?t.pqState=0===t.num.subtract(u.ONE).gcd(t.e).compareTo(u.ONE)?3:0:3===t.pqState&&(t.pqState=0,null===t.p?t.p=t.num:t.q=t.num,null!==t.p&&null!==t.q&&++t.state,t.num=null)}else if(1===t.state)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(2===t.state)t.p1=t.p.subtract(u.ONE),t.q1=t.q.subtract(u.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(3===t.state)0===t.phi.gcd(t.e).compareTo(u.ONE)?++t.state:(t.p=null,t.q=null,t.state=0);else if(4===t.state)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(5===t.state){var d=t.e.modInverse(t.phi);t.keys={privateKey:f.rsa.setPrivateKey(t.n,t.e,d,t.p,t.q,d.mod(t.p1),d.mod(t.q1),t.q.modInverse(t.p)),publicKey:f.rsa.setPublicKey(t.n,t.e)}}n=+new Date,c+=n-s,s=n}return null!==t.keys},f.rsa.generateKeyPair=function(t,e,r,n){1===arguments.length?"object"==typeof t?(r=t,t=void 0):"function"==typeof t&&(n=t,t=void 0):2===arguments.length?"number"==typeof t?"function"==typeof e?(n=e,e=void 0):"number"!=typeof e&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):3===arguments.length&&("number"==typeof e?"function"==typeof r&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},void 0===t&&(t=r.bits||2048),void 0===e&&(e=r.e||65537);var a=f.rsa.createKeyPairGenerationState(t,e,r);return n?void i(a,r,n):(f.rsa.stepKeyPairGenerationState(a,0),a.keys)},f.setRsaPublicKey=f.rsa.setPublicKey=function(t,r){var i={n:t,e:r};return i.encrypt=function(t,r,n){if("string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===r)r={encode:function(t,r,n){return e(t,r,2).getBytes()}};else if("RSA-OAEP"===r||"RSAES-OAEP"===r)r={encode:function(t,e){return s.pkcs1.encode_rsa_oaep(e,t,n)}};else if(["RAW","NONE","NULL",null].indexOf(r)!==-1)r={encode:function(t){return t}};else if("string"==typeof r)throw new Error('Unsupported encryption scheme: "'+r+'".');var a=r.encode(t,i,!0);return f.rsa.encrypt(a,i,!0)},i.verify=function(t,e,r){"string"==typeof r?r=r.toUpperCase():void 0===r&&(r="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===r?r={verify:function(t,e){e=n(e,i,!0);var r=c.fromDer(e);return t===r.value[1].value}}:"NONE"!==r&&"NULL"!==r&&null!==r||(r={verify:function(t,e){return e=n(e,i,!0),t===e}});var a=f.rsa.decrypt(e,i,!0,!1);return r.verify(t,a,i.n.bitLength())},i},f.setRsaPrivateKey=f.rsa.setPrivateKey=function(t,e,r,i,a,o,u,c){var l={n:t,e:e,d:r,p:i,q:a,dP:o,dQ:u,qInv:c};return l.decrypt=function(t,e,r){"string"==typeof e?e=e.toUpperCase():void 0===e&&(e="RSAES-PKCS1-V1_5");var i=f.rsa.decrypt(t,l,!1,!1);if("RSAES-PKCS1-V1_5"===e)e={decode:n};else if("RSA-OAEP"===e||"RSAES-OAEP"===e)e={decode:function(t,e){return s.pkcs1.decode_rsa_oaep(e,t,r)}};else{if(["RAW","NONE","NULL",null].indexOf(e)===-1)throw new Error('Unsupported encryption scheme: "'+e+'".');e={decode:function(t){return t}}}return e.decode(i,l,!1)},l.sign=function(t,e){var r=!1;"string"==typeof e&&(e=e.toUpperCase()),void 0===e||"RSASSA-PKCS1-V1_5"===e?(e={encode:g},r=1):"NONE"!==e&&"NULL"!==e&&null!==e||(e={encode:function(){return t}},r=1);var n=e.encode(t,l.n.bitLength());return f.rsa.encrypt(n,l,r)},l},f.wrapRsaPrivateKey=function(t){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(0).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.oids.rsaEncryption).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]),c.create(c.Class.UNIVERSAL,c.Type.OCTETSTRING,!1,c.toDer(t).getBytes())])},f.privateKeyFromAsn1=function(t){var e={},r=[];if(c.validate(t,h,e,r)&&(t=c.fromDer(s.util.createBuffer(e.privateKey))),e={},r=[],!c.validate(t,p,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,o,l,d,y,g,v;return i=s.util.createBuffer(e.privateKeyModulus).toHex(),a=s.util.createBuffer(e.privateKeyPublicExponent).toHex(),o=s.util.createBuffer(e.privateKeyPrivateExponent).toHex(),l=s.util.createBuffer(e.privateKeyPrime1).toHex(),d=s.util.createBuffer(e.privateKeyPrime2).toHex(),y=s.util.createBuffer(e.privateKeyExponent1).toHex(),g=s.util.createBuffer(e.privateKeyExponent2).toHex(),v=s.util.createBuffer(e.privateKeyCoefficient).toHex(),f.setRsaPrivateKey(new u(i,16),new u(a,16),new u(o,16),new u(l,16),new u(d,16),new u(y,16),new u(g,16),new u(v,16))},f.privateKeyToAsn1=f.privateKeyToRSAPrivateKey=function(t){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,c.integerToDer(0).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,a(t.n)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,a(t.e)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,a(t.d)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,a(t.p)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,a(t.q)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,a(t.dP)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,a(t.dQ)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,a(t.qInv))])},f.publicKeyFromAsn1=function(t){var e={},r=[];if(c.validate(t,y,e,r)){var n=c.derToOid(e.publicKeyOid);if(n!==f.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!c.validate(t,d,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=s.util.createBuffer(e.publicKeyModulus).toHex(),o=s.util.createBuffer(e.publicKeyExponent).toHex();return f.setRsaPublicKey(new u(a,16),new u(o,16))},f.publicKeyToAsn1=f.publicKeyToSubjectPublicKeyInfo=function(t){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.OID,!1,c.oidToDer(f.oids.rsaEncryption).getBytes()),c.create(c.Class.UNIVERSAL,c.Type.NULL,!1,"")]),c.create(c.Class.UNIVERSAL,c.Type.BITSTRING,!1,[f.publicKeyToRSAPublicKey(t)])])},f.publicKeyToRSAPublicKey=function(t){return c.create(c.Class.UNIVERSAL,c.Type.SEQUENCE,!0,[c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,a(t.n)),c.create(c.Class.UNIVERSAL,c.Type.INTEGER,!1,a(t.e))])}}()},function(t,e,r){!function(){function e(t,e,r,a){return"workers"in r?i(t,e,r,a):n(t,e,r,a)}function n(t,e,r,i){var u=a(t,e),c=0,l=o(u.bitLength());"millerRabinTests"in r&&(l=r.millerRabinTests);var h=10;"maxBlockTime"in r&&(h=r.maxBlockTime);var p=+new Date;do{if(u.bitLength()>t&&(u=a(t,e)),u.isProbablePrime(l))return i(null,u);u.dAddOffset(f[c++%8],0)}while(h<0||+new Date-p<h);s.util.setImmediate(function(){n(t,e,r,i)})}function i(t,e,r,i){function o(){function r(r){if(!d){--s;var o=r.data;if(o.found){for(var f=0;f<n.length;++f)n[f].terminate();return d=!0,i(null,new c(o.prime,16))}u.bitLength()>t&&(u=a(t,e));var p=u.toString(16);r.target.postMessage({hex:p,workLoad:l}),u.dAddOffset(h,0)}}f=Math.max(1,f);for(var n=[],o=0;o<f;++o)n[o]=new Worker(p);for(var s=f,o=0;o<f;++o)n[o].addEventListener("message",r);var d=!1}if("undefined"==typeof Worker)return n(t,e,r,i);var u=a(t,e),f=r.workers,l=r.workLoad||100,h=30*l/8,p=r.workerScript||"forge/prime.worker.js";return f===-1?s.util.estimateCores(function(t,e){t&&(e=2),f=e-1,o()}):void o()}function a(t,e){var r=new c(t,e),n=t-1;return r.testBit(n)||r.bitwiseTo(c.ONE.shiftLeft(n),h,r),r.dAddOffset(31-r.mod(l).byteValue(),0),r}function o(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}var s={prime:t.exports||{},util:r(34),jsbn:r(44),random:r(49)},u=s.prime,c=s.jsbn.BigInteger,f=[6,4,2,4,2,4,6,2],l=new c(null);l.fromInt(30);var h=function(t,e){return t|e};u.generateProbablePrime=function(t,r,n){"function"==typeof r&&(n=r,r={}),r=r||{};var i=r.algorithm||"PRIMEINC";"string"==typeof i&&(i={name:i}),i.options=i.options||{};var a=r.prng||s.random,o={nextBytes:function(t){for(var e=a.getBytesSync(t.length),r=0;r<t.length;++r)t[r]=e.charCodeAt(r)}};if("PRIMEINC"===i.name)return e(t,o,i.options,n);throw new Error("Invalid prime generation algorithm: "+i.name)}}()},function(t,e,r){!function(){var e={pkcs7asn1:t.exports||{},asn1:r(36),pkcs7:r(55),util:r(34)},n=e.asn1,i=e.pkcs7asn1,a={name:"ContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i.contentInfoValidator=a;var o={name:"EncryptedContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};i.envelopedDataValidator={name:"EnvelopedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(o)},i.encryptedDataValidator={name:"EncryptedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"}].concat(o)};var s={name:"SignerInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1},{name:"SignerInfo.IssuerAndSerialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0},{name:"SignerInfo.DigestAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0},{name:"SignerInfo.AuthenticatedAttributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.DigestEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0},{name:"SignerInfo.EncryptedDigest",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.UnauthenticatedAttributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0}]};i.signedDataValidator={name:"SignedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},a,{name:"SignedData.Certificates",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,capture:"signerInfos",optional:!0,value:[s]}]},i.recipientInfoValidator={name:"RecipientInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}()},function(t,e,r){!function(){function e(){s=String.fromCharCode(128),s+=i.util.fillString(String.fromCharCode(0),128),c=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],l={"SHA-512":64,"SHA-384":48,"SHA-512/256":32,"SHA-512-224":28},f={},f["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],f["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],f["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],f["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],u=!0}function n(t,e,r){for(var n,i,a,o,s,u,f,l,h,p,d,y,g,v,m,b,E,w,_,C,S,A,T,B,I,k,R,N,F,P,O,L,x,D,U,j=r.length();j>=128;){for(F=0;F<16;++F)e[F][0]=r.getInt32()>>>0,e[F][1]=r.getInt32()>>>0;for(;F<80;++F)L=e[F-2],P=L[0],O=L[1],n=((P>>>19|O<<13)^(O>>>29|P<<3)^P>>>6)>>>0,i=((P<<13|O>>>19)^(O<<3|P>>>29)^(P<<26|O>>>6))>>>0,D=e[F-15],P=D[0],O=D[1],a=((P>>>1|O<<31)^(P>>>8|O<<24)^P>>>7)>>>0,o=((P<<31|O>>>1)^(P<<24|O>>>8)^(P<<25|O>>>7))>>>0,x=e[F-7],U=e[F-16],O=i+x[1]+o+U[1],e[F][0]=n+x[0]+a+U[0]+(O/4294967296>>>0)>>>0,e[F][1]=O>>>0;for(g=t[0][0],v=t[0][1],m=t[1][0],b=t[1][1],E=t[2][0],w=t[2][1],_=t[3][0],C=t[3][1],S=t[4][0],A=t[4][1],T=t[5][0],B=t[5][1],I=t[6][0],k=t[6][1],R=t[7][0],N=t[7][1],F=0;F<80;++F)f=((S>>>14|A<<18)^(S>>>18|A<<14)^(A>>>9|S<<23))>>>0,l=((S<<18|A>>>14)^(S<<14|A>>>18)^(A<<23|S>>>9))>>>0,h=(I^S&(T^I))>>>0,p=(k^A&(B^k))>>>0,s=((g>>>28|v<<4)^(v>>>2|g<<30)^(v>>>7|g<<25))>>>0,u=((g<<4|v>>>28)^(v<<30|g>>>2)^(v<<25|g>>>7))>>>0,d=(g&m|E&(g^m))>>>0,y=(v&b|w&(v^b))>>>0,O=N+l+p+c[F][1]+e[F][1],n=R+f+h+c[F][0]+e[F][0]+(O/4294967296>>>0)>>>0,i=O>>>0,O=u+y,a=s+d+(O/4294967296>>>0)>>>0,o=O>>>0,R=I,N=k,I=T,k=B,T=S,B=A,O=C+i,S=_+n+(O/4294967296>>>0)>>>0,A=O>>>0,_=E,C=w,E=m,w=b,m=g,b=v,O=i+o,g=n+a+(O/4294967296>>>0)>>>0,v=O>>>0;O=t[0][1]+v,t[0][0]=t[0][0]+g+(O/4294967296>>>0)>>>0,t[0][1]=O>>>0,O=t[1][1]+b,t[1][0]=t[1][0]+m+(O/4294967296>>>0)>>>0,t[1][1]=O>>>0,O=t[2][1]+w,t[2][0]=t[2][0]+E+(O/4294967296>>>0)>>>0,t[2][1]=O>>>0,O=t[3][1]+C,t[3][0]=t[3][0]+_+(O/4294967296>>>0)>>>0,t[3][1]=O>>>0,O=t[4][1]+A,t[4][0]=t[4][0]+S+(O/4294967296>>>0)>>>0,t[4][1]=O>>>0,O=t[5][1]+B,t[5][0]=t[5][0]+T+(O/4294967296>>>0)>>>0,t[5][1]=O>>>0,O=t[6][1]+k,t[6][0]=t[6][0]+I+(O/4294967296>>>0)>>>0,t[6][1]=O>>>0,O=t[7][1]+N,t[7][0]=t[7][0]+R+(O/4294967296>>>0)>>>0,t[7][1]=O>>>0,j-=128}}var i={sha512:t.exports||{},util:r(34),md:r(41)},a=i.sha512;i.md.sha512=i.md.algorithms.sha512=a;var o=i.sha384=i.sha512.sha384=i.sha512.sha384||{};o.create=function(){return a.create("SHA-384")},i.md.sha384=i.md.algorithms.sha384=o,i.sha512.sha256=i.sha512.sha256||{create:function(){return a.create("SHA-512/256")}},i.md["sha512/256"]=i.md.algorithms["sha512/256"]=i.sha512.sha256,i.sha512.sha224=i.sha512.sha224||{create:function(){return a.create("SHA-512/224")}},i.md["sha512/224"]=i.md.algorithms["sha512/224"]=i.sha512.sha224,a.create=function(t){if(u||e(),"undefined"==typeof t&&(t="SHA-512"),!(t in f))throw new Error("Invalid SHA-512 algorithm: "+t);for(var r=f[t],a=null,o=i.util.createBuffer(),c=new Array(80),h=0;h<80;++h)c[h]=new Array(2);var p={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:l[t],messageLength:0,messageLength128:[0,0,0,0]};return p.start=function(){p.messageLength=0,p.messageLength128=[0,0,0,0],o=i.util.createBuffer(),a=new Array(r.length);for(var t=0;t<r.length;++t)a[t]=r[t].slice(0);return p},p.start(),p.update=function(t,e){"utf8"===e&&(t=i.util.encodeUtf8(t)),p.messageLength+=t.length;var r=t.length;r=[r/4294967296>>>0,r>>>0];for(var s=3;s>=0;--s)p.messageLength128[s]+=r[1],r[1]=r[0]+(p.messageLength128[s]/4294967296>>>0),p.messageLength128[s]=p.messageLength128[s]>>>0,r[0]=r[1]/4294967296>>>0;return o.putBytes(t),n(a,c,o),(o.read>2048||0===o.length())&&o.compact(),p},p.digest=function(){var e=i.util.createBuffer();e.putBytes(o.bytes()),e.putBytes(s.substr(0,128-(p.messageLength128[3]+16&127)));for(var r=[],u=0;u<3;++u)r[u]=p.messageLength128[u]<<3|p.messageLength128[u-1]>>>28;r[3]=p.messageLength128[3]<<3,e.putInt32(r[0]),e.putInt32(r[1]),e.putInt32(r[2]),e.putInt32(r[3]);for(var f=new Array(a.length),u=0;u<a.length;++u)f[u]=a[u].slice(0);n(f,c,e);var l,h=i.util.createBuffer();l="SHA-512"===t?f.length:"SHA-384"===t?f.length-2:f.length-4;for(var u=0;u<l;++u)h.putInt32(f[u][0]),u===l-1&&"SHA-512/224"===t||h.putInt32(f[u][1]);return h},p};var s=null,u=!1,c=null,f=null,l=null}()},function(t,e,r){!function(){function t(t,r,n){var i=r.entity===o.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:o.cipher.createDecipher("AES-CBC",i?n.keys.server_write_key:n.keys.client_write_key),iv:i?n.keys.server_write_IV:n.keys.client_write_IV},t.write.cipherState={init:!1,cipher:o.cipher.createCipher("AES-CBC",i?n.keys.client_write_key:n.keys.server_write_key),iv:i?n.keys.client_write_IV:n.keys.server_write_IV},t.read.cipherFunction=a,t.write.cipherFunction=e,t.read.macLength=t.write.macLength=n.mac_length,t.read.macFunction=t.write.macFunction=s.hmac_sha1}function e(t,e){var r=!1,i=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(i),e.updateSequenceNumber();var a;a=t.version.minor===s.Versions.TLS_1_0.minor?e.cipherState.init?null:e.cipherState.iv:o.random.getBytesSync(16),e.cipherState.init=!0;var u=e.cipherState.cipher;return u.start({iv:a}),t.version.minor>=s.Versions.TLS_1_1.minor&&u.output.putBytes(a),u.update(t.fragment),u.finish(n)&&(t.fragment=u.output,t.length=t.fragment.length(),r=!0),r}function n(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}function i(t,e,r){var n=!0;if(r){for(var i=e.length(),a=e.last(),o=i-1-a;o<i-1;++o)n=n&&e.at(o)==a;n&&e.truncate(a+1)}return n}function a(t,e){var r=!1;++u;var n;n=t.version.minor===s.Versions.TLS_1_0.minor?e.cipherState.init?null:e.cipherState.iv:t.fragment.getBytes(16),e.cipherState.init=!0;var a=e.cipherState.cipher;a.start({iv:n}),a.update(t.fragment),r=a.finish(i);for(var c=e.macLength,f="",l=0;l<c;++l)f+=String.fromCharCode(0);var h=a.output.length();h>=c?(t.fragment=a.output.getBytes(h-c),f=a.output.getBytes(c)):t.fragment=a.output.getBytes(),t.fragment=o.util.createBuffer(t.fragment),t.length=t.fragment.length();var p=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),r=p===f&&r}var o={tls:r(64),cipher:r(33),util:r(34)};r(32);var s=o.tls;s.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=s.BulkCipherAlgorithm.aes,t.cipher_type=s.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=s.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:t},s.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=s.BulkCipherAlgorithm.aes,t.cipher_type=s.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=s.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:t};var u=0}()},function(t,e,r){!function(){var e=function(t,e,r,n){var i=z.util.createBuffer(),a=t.length>>1,o=a+(1&t.length),s=t.substr(0,o),u=t.substr(a,o),c=z.util.createBuffer(),f=z.hmac.create();r=e+r;var l=Math.ceil(n/16),h=Math.ceil(n/20);f.start("MD5",s);var p=z.util.createBuffer();c.putBytes(r);for(var d=0;d<l;++d)f.start(null,null),f.update(c.getBytes()),c.putBuffer(f.digest()),f.start(null,null),f.update(c.bytes()+r),p.putBuffer(f.digest());f.start("SHA1",u);var y=z.util.createBuffer();c.clear(),c.putBytes(r);for(var d=0;d<h;++d)f.start(null,null),f.update(c.getBytes()),c.putBuffer(f.digest()),f.start(null,null),f.update(c.bytes()+r),y.putBuffer(f.digest());return i.putBytes(z.util.xorBytes(p.getBytes(),y.getBytes(),n)),i},n=function(t,e,r){var n=z.hmac.create();n.start("SHA1",t);var i=z.util.createBuffer();return i.putInt32(e[0]),i.putInt32(e[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},i=function(t,e,r){var n=!1;try{var i=t.deflate(e.fragment.getBytes());e.fragment=z.util.createBuffer(i),e.length=i.length,n=!0}catch(a){}return n},a=function(t,e,r){var n=!1;try{var i=t.inflate(e.fragment.getBytes());e.fragment=z.util.createBuffer(i),e.length=i.length,n=!0}catch(a){}return n},o=function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32()}return z.util.createBuffer(t.getBytes(r))},s=function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},u={};u.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},u.SupportedVersions=[u.Versions.TLS_1_1,u.Versions.TLS_1_0],u.Version=u.SupportedVersions[0],u.MaxFragment=15360,u.ConnectionEnd={server:0,client:1},u.PRFAlgorithm={tls_prf_sha256:0},u.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},u.CipherType={stream:0,block:1,aead:2},u.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},u.CompressionMethod={none:0,deflate:1},u.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},u.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},u.Alert={},u.Alert.Level={warning:1,fatal:2},u.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},u.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},u.CipherSuites={},u.getCipherSuite=function(t){var e=null;for(var r in u.CipherSuites){var n=u.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e},u.handleUnexpected=function(t,e){var r=!t.open&&t.entity===u.ConnectionEnd.client;r||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}})},u.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(u.queue(t,u.createAlert(t,{level:u.Alert.Level.warning,description:u.Alert.Description.no_renegotiation})),u.flush(t)),t.process()},u.parseHelloMessage=function(t,e,r){var n=null,i=t.entity===u.ConnectionEnd.client;if(r<38)t.error(t,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});else{var a=e.fragment,s=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:z.util.createBuffer(a.getBytes(32)),session_id:o(a,1),extensions:[]},i?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=o(a,2),n.compression_methods=o(a,1)),s=r-(s-a.length()),s>0){for(var c=o(a,2);c.length()>0;)n.extensions.push({type:[c.getByte(),c.getByte()],data:o(c,2)});if(!i)for(var f=0;f<n.extensions.length;++f){var l=n.extensions[f];if(0===l.type[0]&&0===l.type[1])for(var h=o(l.data,2);h.length()>0;){var p=h.getByte();if(0!==p)break;t.session.extensions.server_name.serverNameList.push(o(h,2).getBytes())}}}if(t.session.version&&(n.version.major!==t.session.version.major||n.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});if(i)t.session.cipherSuite=u.getCipherSuite(n.cipher_suite);else for(var d=z.util.createBuffer(n.cipher_suites.bytes());d.length()>0&&(t.session.cipherSuite=u.getCipherSuite(d.getBytes(2)),null===t.session.cipherSuite););if(null===t.session.cipherSuite)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure},cipherSuite:z.util.bytesToHex(n.cipher_suite)});i?t.session.compressionMethod=n.compression_method:t.session.compressionMethod=u.CompressionMethod.none}return n},u.createSecurityParameters=function(t,e){var r=t.entity===u.ConnectionEnd.client,n=e.random.bytes(),i=r?t.session.sp.client_random:n,a=r?n:u.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:u.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:a}},u.handleServerHello=function(t,e,r){var n=u.parseHelloMessage(t,e,r);if(!t.fail){if(!(n.version.minor<=t.version.minor))return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}});t.version.minor=n.version.minor,t.session.version=t.version;var i=n.session_id.bytes();i.length>0&&i===t.session.id?(t.expect=d,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=f,t.session.resuming=!1,u.createSecurityParameters(t,n)),t.session.id=i,t.process()}},u.handleClientHello=function(t,e,r){var n=u.parseHelloMessage(t,e,r);if(!t.fail){var i=n.session_id.bytes(),a=null;if(t.sessionCache&&(a=t.sessionCache.getSession(i),null===a?i="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,i="")),0===i.length&&(i=z.random.getBytes(32)),t.session.id=i,t.session.clientHelloVersion=n.version,t.session.sp={},a)t.version=t.session.version=a.version,t.session.sp=a.sp;else{for(var o,s=1;s<u.SupportedVersions.length&&(o=u.SupportedVersions[s],!(o.minor<=n.version.minor));++s);t.version={major:o.major,minor:o.minor},t.session.version=t.version}null!==a?(t.expect=_,t.session.resuming=!0,t.session.sp.client_random=n.random.bytes()):(t.expect=t.verifyClient!==!1?b:E,t.session.resuming=!1,u.createSecurityParameters(t,n)),t.open=!0,u.queue(t,u.createRecord(t,{type:u.ContentType.handshake,data:u.createServerHello(t)})),t.session.resuming?(u.queue(t,u.createRecord(t,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),t.state.pending=u.createConnectionState(t),t.state.current.write=t.state.pending.write,u.queue(t,u.createRecord(t,{type:u.ContentType.handshake,data:u.createFinished(t)}))):(u.queue(t,u.createRecord(t,{type:u.ContentType.handshake,data:u.createCertificate(t)})),t.fail||(u.queue(t,u.createRecord(t,{type:u.ContentType.handshake,data:u.createServerKeyExchange(t)})),t.verifyClient!==!1&&u.queue(t,u.createRecord(t,{type:u.ContentType.handshake,data:u.createCertificateRequest(t)})),u.queue(t,u.createRecord(t,{type:u.ContentType.handshake,data:u.createServerHelloDone(t)})))),u.flush(t),t.process()}},u.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,
description:u.Alert.Description.illegal_parameter}});var n,i,a=e.fragment,s={certificate_list:o(a,3)},c=[];try{for(;s.certificate_list.length()>0;)n=o(s.certificate_list,3),i=z.asn1.fromDer(n),n=z.pki.certificateFromAsn1(i,!0),c.push(n)}catch(f){return t.error(t,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var h=t.entity===u.ConnectionEnd.client;!h&&t.verifyClient!==!0||0!==c.length?0===c.length?t.expect=h?l:E:(h?t.session.serverCertificate=c[0]:t.session.clientCertificate=c[0],u.verifyCertificateChain(t,c)&&(t.expect=h?l:E)):t.error(t,{message:h?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}}),t.process()},u.handleServerKeyExchange=function(t,e,r){return r>0?t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}}):(t.expect=h,void t.process())},u.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unsupported_certificate}});var n=e.fragment,i={enc_pre_master_secret:o(n,2).getBytes()},a=null;if(t.getPrivateKey)try{a=t.getPrivateKey(t,t.session.serverCertificate),a=z.pki.privateKeyFromPem(a)}catch(s){t.error(t,{message:"Could not get private key.",cause:s,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}if(null===a)return t.error(t,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}});try{var c=t.session.sp;c.pre_master_secret=a.decrypt(i.enc_pre_master_secret);var f=t.session.clientHelloVersion;if(f.major!==c.pre_master_secret.charCodeAt(0)||f.minor!==c.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(s){c.pre_master_secret=z.random.getBytes(48)}t.expect=_,null!==t.session.clientCertificate&&(t.expect=w),t.process()},u.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var n=e.fragment,i={certificate_types:o(n,1),certificate_authorities:o(n,2)};t.session.certificateRequest=i,t.expect=p,t.process()},u.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var n=e.fragment;n.read-=4;var i=n.bytes();n.read+=4;var a={signature:o(n,2).getBytes()},s=z.util.createBuffer();s.putBuffer(t.session.md5.digest()),s.putBuffer(t.session.sha1.digest()),s=s.getBytes();try{var c=t.session.clientCertificate;if(!c.publicKey.verify(s,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(i),t.session.sha1.update(i)}catch(f){return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.handshake_failure}})}t.expect=_,t.process()},u.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.record_overflow}});if(null===t.serverCertificate){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.insufficient_security}},i=0,a=t.verify(t,n.alert.description,i,[]);if(a!==!0)return(a||0===a)&&("object"!=typeof a||z.util.isArray(a)?"number"==typeof a&&(n.alert.description=a):(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert))),t.error(t,n)}null!==t.session.certificateRequest&&(e=u.createRecord(t,{type:u.ContentType.handshake,data:u.createCertificate(t)}),u.queue(t,e)),e=u.createRecord(t,{type:u.ContentType.handshake,data:u.createClientKeyExchange(t)}),u.queue(t,e),t.expect=v;var o=function(t,e){null!==t.session.certificateRequest&&null!==t.session.clientCertificate&&u.queue(t,u.createRecord(t,{type:u.ContentType.handshake,data:u.createCertificateVerify(t,e)})),u.queue(t,u.createRecord(t,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),t.state.pending=u.createConnectionState(t),t.state.current.write=t.state.pending.write,u.queue(t,u.createRecord(t,{type:u.ContentType.handshake,data:u.createFinished(t)})),t.expect=d,u.flush(t),t.process()};return null===t.session.certificateRequest||null===t.session.clientCertificate?o(t,null):void u.getClientSignature(t,o)},u.handleChangeCipherSpec=function(t,e){if(1!==e.fragment.getByte())return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.illegal_parameter}});var r=t.entity===u.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=u.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?y:C,t.process()},u.handleFinished=function(t,r,n){var i=r.fragment;i.read-=4;var a=i.bytes();i.read+=4;var o=r.fragment.getBytes();i=z.util.createBuffer(),i.putBuffer(t.session.md5.digest()),i.putBuffer(t.session.sha1.digest());var s=t.entity===u.ConnectionEnd.client,c=s?"server finished":"client finished",f=t.session.sp,l=12,h=e;return i=h(f.master_secret,c,i.getBytes(),l),i.getBytes()!==o?t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decrypt_error}}):(t.session.md5.update(a),t.session.sha1.update(a),(t.session.resuming&&s||!t.session.resuming&&!s)&&(u.queue(t,u.createRecord(t,{type:u.ContentType.change_cipher_spec,data:u.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,u.queue(t,u.createRecord(t,{type:u.ContentType.handshake,data:u.createFinished(t)}))),t.expect=s?g:S,t.handshaking=!1,++t.handshakes,t.peerCertificate=s?t.session.serverCertificate:t.session.clientCertificate,u.flush(t),t.isConnected=!0,t.connected(t),void t.process())},u.handleAlert=function(t,e){var r,n=e.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case u.Alert.Description.close_notify:r="Connection closed.";break;case u.Alert.Description.unexpected_message:r="Unexpected message.";break;case u.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case u.Alert.Description.decryption_failed:r="Decryption failed.";break;case u.Alert.Description.record_overflow:r="Record overflow.";break;case u.Alert.Description.decompression_failure:r="Decompression failed.";break;case u.Alert.Description.handshake_failure:r="Handshake failure.";break;case u.Alert.Description.bad_certificate:r="Bad certificate.";break;case u.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case u.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case u.Alert.Description.certificate_expired:r="Certificate expired.";break;case u.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case u.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case u.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case u.Alert.Description.access_denied:r="Access denied.";break;case u.Alert.Description.decode_error:r="Decode error.";break;case u.Alert.Description.decrypt_error:r="Decrypt error.";break;case u.Alert.Description.export_restriction:r="Export restriction.";break;case u.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case u.Alert.Description.insufficient_security:r="Insufficient security.";break;case u.Alert.Description.internal_error:r="Internal error.";break;case u.Alert.Description.user_canceled:r="User canceled.";break;case u.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}return i.description===u.Alert.Description.close_notify?t.close():(t.error(t,{message:r,send:!1,origin:t.entity===u.ConnectionEnd.client?"server":"client",alert:i}),void t.process())},u.handleHandshake=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return t.fragmented=e,e.fragment=z.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var a=r.bytes(i+4);r.read+=4,n in j[t.entity][t.expect]?(t.entity!==u.ConnectionEnd.server||t.open||t.fail||(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:z.md.md5.create(),sha1:z.md.sha1.create()}),n!==u.HandshakeType.hello_request&&n!==u.HandshakeType.certificate_verify&&n!==u.HandshakeType.finished&&(t.session.md5.update(a),t.session.sha1.update(a)),j[t.entity][t.expect][n](t,e,i)):u.handleUnexpected(t,e)},u.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()},u.handleHeartbeat=function(t,e){var r=e.fragment,n=r.getByte(),i=r.getInt16(),a=r.getBytes(i);if(n===u.HeartbeatMessageType.heartbeat_request){if(t.handshaking||i>a.length)return t.process();u.queue(t,u.createRecord(t,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_response,a)})),u.flush(t)}else if(n===u.HeartbeatMessageType.heartbeat_response){if(a!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,z.util.createBuffer(a))}t.process()};var c=0,f=1,l=2,h=3,p=4,d=5,y=6,g=7,v=8,m=0,b=1,E=2,w=3,_=4,C=5,S=6,A=u.handleUnexpected,T=u.handleChangeCipherSpec,B=u.handleAlert,I=u.handleHandshake,k=u.handleApplicationData,R=u.handleHeartbeat,N=[];N[u.ConnectionEnd.client]=[[A,B,I,A,R],[A,B,I,A,R],[A,B,I,A,R],[A,B,I,A,R],[A,B,I,A,R],[T,B,A,A,R],[A,B,I,A,R],[A,B,I,k,R],[A,B,I,A,R]],N[u.ConnectionEnd.server]=[[A,B,I,A,R],[A,B,I,A,R],[A,B,I,A,R],[A,B,I,A,R],[T,B,A,A,R],[A,B,I,A,R],[A,B,I,k,R],[A,B,I,A,R]];var F=u.handleHelloRequest,P=u.handleServerHello,O=u.handleCertificate,L=u.handleServerKeyExchange,x=u.handleCertificateRequest,D=u.handleServerHelloDone,U=u.handleFinished,j=[];j[u.ConnectionEnd.client]=[[A,A,P,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[F,A,A,A,A,A,A,A,A,A,A,O,L,x,D,A,A,A,A,A,A],[F,A,A,A,A,A,A,A,A,A,A,A,L,x,D,A,A,A,A,A,A],[F,A,A,A,A,A,A,A,A,A,A,A,A,x,D,A,A,A,A,A,A],[F,A,A,A,A,A,A,A,A,A,A,A,A,A,D,A,A,A,A,A,A],[F,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[F,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,U],[F,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[F,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A]];var M=u.handleClientHello,K=u.handleClientKeyExchange,V=u.handleCertificateVerify;j[u.ConnectionEnd.server]=[[A,M,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,O,A,A,A,A,A,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,K,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,V,A,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,U],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A],[A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A,A]],u.generateKeys=function(t,r){var n=e,i=r.client_random+r.server_random;t.session.resuming||(r.master_secret=n(r.pre_master_secret,"master secret",i,48).bytes(),r.pre_master_secret=null),i=r.server_random+r.client_random;var a=2*r.mac_key_length+2*r.enc_key_length,o=t.version.major===u.Versions.TLS_1_0.major&&t.version.minor===u.Versions.TLS_1_0.minor;o&&(a+=2*r.fixed_iv_length);var s=n(r.master_secret,"key expansion",i,a),c={client_write_MAC_key:s.getBytes(r.mac_key_length),server_write_MAC_key:s.getBytes(r.mac_key_length),client_write_key:s.getBytes(r.enc_key_length),server_write_key:s.getBytes(r.enc_key_length)};return o&&(c.client_write_IV=s.getBytes(r.fixed_iv_length),c.server_write_IV=s.getBytes(r.fixed_iv_length)),c},u.createConnectionState=function(t){var e=t.entity===u.ConnectionEnd.client,r=function(){var t={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(t){return!0},compressionState:null,compressFunction:function(t){return!0},updateSequenceNumber:function(){4294967295===t.sequenceNumber[1]?(t.sequenceNumber[1]=0,++t.sequenceNumber[0]):++t.sequenceNumber[1]}};return t},n={read:r(),write:r()};if(n.read.update=function(t,e){return n.read.cipherFunction(e,n.read)?n.read.compressFunction(t,e,n.read)||t.error(t,{message:"Could not decompress record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.decompression_failure}}):t.error(t,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_record_mac}}),!t.fail},n.write.update=function(t,e){return n.write.compressFunction(t,e,n.write)?n.write.cipherFunction(e,n.write)||t.error(t,{message:"Could not encrypt record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):t.error(t,{message:"Could not compress record.",send:!1,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}),!t.fail},t.session){var o=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(o),o.keys=u.generateKeys(t,o),n.read.macKey=e?o.keys.server_write_MAC_key:o.keys.client_write_MAC_key,n.write.macKey=e?o.keys.client_write_MAC_key:o.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,o),o.compression_algorithm){case u.CompressionMethod.none:break;case u.CompressionMethod.deflate:n.read.compressFunction=a,n.write.compressFunction=i;break;default:throw new Error("Unsupported compression algorithm.")}}return n},u.createRandom=function(){var t=new Date,e=+t+6e4*t.getTimezoneOffset(),r=z.util.createBuffer();return r.putInt32(e),r.putBytes(z.random.getBytes(28)),r},u.createRecord=function(t,e){if(!e.data)return null;var r={type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data};return r},u.createAlert=function(t,e){var r=z.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),u.createRecord(t,{type:u.ContentType.alert,data:r})},u.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=z.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var n=t.cipherSuites[r];e.putByte(n.id[0]),e.putByte(n.id[1])}var i=e.length(),a=z.util.createBuffer();a.putByte(u.CompressionMethod.none);var o=a.length(),c=z.util.createBuffer();if(t.virtualHost){var f=z.util.createBuffer();f.putByte(0),f.putByte(0);var l=z.util.createBuffer();l.putByte(0),s(l,2,z.util.createBuffer(t.virtualHost));var h=z.util.createBuffer();s(h,2,l),s(f,2,h),c.putBuffer(f)}var p=c.length();p>0&&(p+=2);var d=t.session.id,y=d.length+1+2+4+28+2+i+1+o+p,g=z.util.createBuffer();return g.putByte(u.HandshakeType.client_hello),g.putInt24(y),g.putByte(t.version.major),g.putByte(t.version.minor),g.putBytes(t.session.sp.client_random),s(g,1,z.util.createBuffer(d)),s(g,2,e),s(g,1,a),p>0&&s(g,2,c),g},u.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,n=z.util.createBuffer();return n.putByte(u.HandshakeType.server_hello),n.putInt24(r),n.putByte(t.version.major),n.putByte(t.version.minor),n.putBytes(t.session.sp.server_random),s(n,1,z.util.createBuffer(e)),n.putByte(t.session.cipherSuite.id[0]),n.putByte(t.session.cipherSuite.id[1]),n.putByte(t.session.compressionMethod),n},u.createCertificate=function(t){var e=t.entity===u.ConnectionEnd.client,r=null;if(t.getCertificate){var n;n=e?t.session.certificateRequest:t.session.extensions.server_name.serverNameList,r=t.getCertificate(t,n)}var i=z.util.createBuffer();if(null!==r)try{z.util.isArray(r)||(r=[r]);for(var a=null,o=0;o<r.length;++o){var c=z.pem.decode(r[o])[0];if("CERTIFICATE"!==c.type&&"X509 CERTIFICATE"!==c.type&&"TRUSTED CERTIFICATE"!==c.type){var f=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw f.headerType=c.type,f}if(c.procType&&"ENCRYPTED"===c.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var l=z.util.createBuffer(c.body);null===a&&(a=z.asn1.fromDer(l.bytes(),!1));var h=z.util.createBuffer();s(h,3,l),i.putBuffer(h)}r=z.pki.certificateFromAsn1(a),e?t.session.clientCertificate=r:t.session.serverCertificate=r}catch(p){return t.error(t,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate}})}var d=3+i.length(),y=z.util.createBuffer();return y.putByte(u.HandshakeType.certificate),y.putInt24(d),s(y,3,i),y},u.createClientKeyExchange=function(t){var e=z.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(z.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var n=t.session.serverCertificate.publicKey;e=n.encrypt(r.pre_master_secret);var i=e.length+2,a=z.util.createBuffer();return a.putByte(u.HandshakeType.client_key_exchange),a.putInt24(i),a.putInt16(e.length),a.putBytes(e),a},u.createServerKeyExchange=function(t){var e=0,r=z.util.createBuffer();return e>0&&(r.putByte(u.HandshakeType.server_key_exchange),r.putInt24(e)),r},u.getClientSignature=function(t,e){var r=z.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(t,e,r){var n=null;if(t.getPrivateKey)try{n=t.getPrivateKey(t,t.session.clientCertificate),n=z.pki.privateKeyFromPem(n)}catch(i){t.error(t,{message:"Could not get private key.",cause:i,send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}})}null===n?t.error(t,{message:"No private key set.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.internal_error}}):e=n.sign(e,null),r(t,e)},t.getSignature(t,r,e)},u.createCertificateVerify=function(t,e){var r=e.length+2,n=z.util.createBuffer();return n.putByte(u.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(e.length),n.putBytes(e),n},u.createCertificateRequest=function(t){var e=z.util.createBuffer();e.putByte(1);var r=z.util.createBuffer();for(var n in t.caStore.certs){var i=t.caStore.certs[n],a=z.pki.distinguishedNameToAsn1(i.subject);r.putBuffer(z.asn1.toDer(a))}var o=1+e.length()+2+r.length(),c=z.util.createBuffer();return c.putByte(u.HandshakeType.certificate_request),c.putInt24(o),s(c,1,e),s(c,2,r),c},u.createServerHelloDone=function(t){var e=z.util.createBuffer();return e.putByte(u.HandshakeType.server_hello_done),e.putInt24(0),e},u.createChangeCipherSpec=function(){var t=z.util.createBuffer();return t.putByte(1),t},u.createFinished=function(t){var r=z.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest());var n=t.entity===u.ConnectionEnd.client,i=t.session.sp,a=12,o=e,s=n?"client finished":"server finished";r=o(i.master_secret,s,r.getBytes(),a);var c=z.util.createBuffer();return c.putByte(u.HandshakeType.finished),c.putInt24(r.length()),c.putBuffer(r),c},u.createHeartbeat=function(t,e,r){"undefined"==typeof r&&(r=e.length);var n=z.util.createBuffer();n.putByte(t),n.putInt16(r),n.putBytes(e);var i=n.length(),a=Math.max(16,i-r-3);return n.putBytes(z.random.getBytes(a)),n},u.queue=function(t,e){if(e){if(e.type===u.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var n;if(e.fragment.length()<=u.MaxFragment)n=[e];else{n=[];for(var i=e.fragment.bytes();i.length>u.MaxFragment;)n.push(u.createRecord(t,{type:e.type,data:z.util.createBuffer(i.slice(0,u.MaxFragment))})),i=i.slice(u.MaxFragment);i.length>0&&n.push(u.createRecord(t,{type:e.type,data:z.util.createBuffer(i)}))}for(var a=0;a<n.length&&!t.fail;++a){var o=n[a],s=t.state.current.write;s.update(t,o)&&t.records.push(o)}}},u.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var H=function(t){switch(t){case!0:return!0;case z.pki.certificateError.bad_certificate:return u.Alert.Description.bad_certificate;case z.pki.certificateError.unsupported_certificate:return u.Alert.Description.unsupported_certificate;case z.pki.certificateError.certificate_revoked:return u.Alert.Description.certificate_revoked;case z.pki.certificateError.certificate_expired:return u.Alert.Description.certificate_expired;case z.pki.certificateError.certificate_unknown:return u.Alert.Description.certificate_unknown;case z.pki.certificateError.unknown_ca:return u.Alert.Description.unknown_ca;default:return u.Alert.Description.bad_certificate}},q=function(t){switch(t){case!0:return!0;case u.Alert.Description.bad_certificate:return z.pki.certificateError.bad_certificate;case u.Alert.Description.unsupported_certificate:return z.pki.certificateError.unsupported_certificate;case u.Alert.Description.certificate_revoked:return z.pki.certificateError.certificate_revoked;case u.Alert.Description.certificate_expired:return z.pki.certificateError.certificate_expired;case u.Alert.Description.certificate_unknown:return z.pki.certificateError.certificate_unknown;case u.Alert.Description.unknown_ca:return z.pki.certificateError.unknown_ca;default:return z.pki.certificateError.bad_certificate}};u.verifyCertificateChain=function(t,e){try{z.pki.verifyCertificateChain(t.caStore,e,function(e,r,n){var i=(H(e),t.verify(t,e,r,n));if(i!==!0){if("object"==typeof i&&!z.util.isArray(i)){var a=new Error("The application rejected the certificate.");throw a.send=!0,a.alert={level:u.Alert.Level.fatal,description:u.Alert.Description.bad_certificate},i.message&&(a.message=i.message),i.alert&&(a.alert.description=i.alert),a}i!==e&&(i=q(i))}return i})}catch(r){var n=r;("object"!=typeof n||z.util.isArray(n))&&(n={send:!0,alert:{level:u.Alert.Level.fatal,description:H(r)}}),"send"in n||(n.send=!0),"alert"in n||(n.alert={level:u.Alert.Level.fatal,description:H(n.error)}),t.error(t,n)}return!t.fail},u.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{r={},r.cache=t||{},r.capacity=Math.max(e||100,1),r.order=[];for(var n in t)r.order.length<=e?r.order.push(n):delete t[n];r.getSession=function(t){var e=null,n=null;if(t?n=z.util.bytesToHex(t):r.order.length>0&&(n=r.order[0]),null!==n&&n in r.cache){e=r.cache[n],delete r.cache[n];for(var i in r.order)if(r.order[i]===n){r.order.splice(i,1);break}}return e},r.setSession=function(t,e){if(r.order.length===r.capacity){var n=r.order.shift();delete r.cache[n]}var n=z.util.bytesToHex(t);r.order.push(n),r.cache[n]=e}}return r},u.createConnection=function(t){var e=null;e=t.caStore?z.util.isArray(t.caStore)?z.pki.createCaStore(t.caStore):t.caStore:z.pki.createCaStore();var r=t.cipherSuites||null;if(null===r){r=[];for(var n in u.CipherSuites)r.push(u.CipherSuites[n])}var i=t.server?u.ConnectionEnd.server:u.ConnectionEnd.client,a=t.sessionCache?u.createSessionCache(t.sessionCache):null,o={version:{major:u.Version.major,minor:u.Version.minor},entity:i,sessionId:t.sessionId,caStore:e,sessionCache:a,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(t,e,r,n){return e},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:z.util.createBuffer(),tlsData:z.util.createBuffer(),data:z.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(e,r){r.origin=r.origin||(e.entity===u.ConnectionEnd.client?"client":"server"),r.send&&(u.queue(e,u.createAlert(e,r.alert)),u.flush(e));var n=r.fatal!==!1;n&&(e.fail=!0),t.error(e,r),n&&e.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null};o.reset=function(t){o.version={major:u.Version.major,minor:u.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=o.entity===u.ConnectionEnd.client?c:m,o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(t||"undefined"==typeof t),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=u.createConnectionState(o)},o.reset();var s=function(t,e){var r=e.type-u.ContentType.change_cipher_spec,n=N[t.entity][t.expect];r in n?n[r](t,e):u.handleUnexpected(t,e)},f=function(t){var e=0,r=t.input,n=r.length();if(n<5)e=5-n;else{t.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:z.util.createBuffer(),ready:!1};var i=t.record.version.major===t.version.major;i&&t.session&&t.session.version&&(i=t.record.version.minor===t.version.minor),i||t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.protocol_version}})}return e},l=function(t){var e=0,r=t.input,n=r.length();if(n<t.record.length)e=t.record.length-n;else{t.record.fragment.putBytes(r.getBytes(t.record.length)),r.compact();var i=t.state.current.read;i.update(t,t.record)&&(null!==t.fragmented&&(t.fragmented.type===t.record.type?(t.fragmented.fragment.putBuffer(t.record.fragment),t.record=t.fragmented):t.error(t,{message:"Invalid fragmented record.",send:!0,alert:{level:u.Alert.Level.fatal,description:u.Alert.Description.unexpected_message}})),t.record.ready=!0)}return e};return o.handshake=function(t){if(o.entity!==u.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&0===o.handshakes&&(o.fail=!1),o.handshaking=!0,t=t||"";var e=null;t.length>0&&(o.sessionCache&&(e=o.sessionCache.getSession(t)),null===e&&(t="")),0===t.length&&o.sessionCache&&(e=o.sessionCache.getSession(),null!==e&&(t=e.id)),o.session={id:t,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:z.md.md5.create(),sha1:z.md.sha1.create()},e&&(o.version=e.version,o.session.sp=e.sp),o.session.sp.client_random=u.createRandom().getBytes(),o.open=!0,u.queue(o,u.createRecord(o,{type:u.ContentType.handshake,data:u.createClientHello(o)})),u.flush(o)}},o.process=function(t){var e=0;return t&&o.input.putBytes(t),o.fail||(null!==o.record&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),null===o.record&&(e=f(o)),o.fail||null===o.record||o.record.ready||(e=l(o)),!o.fail&&null!==o.record&&o.record.ready&&s(o,o.record)),e},o.prepare=function(t){return u.queue(o,u.createRecord(o,{type:u.ContentType.application_data,data:z.util.createBuffer(t)})),u.flush(o)},o.prepareHeartbeatRequest=function(t,e){return t instanceof z.util.ByteBuffer&&(t=t.bytes()),"undefined"==typeof e&&(e=t.length),o.expectedHeartbeatPayload=t,u.queue(o,u.createRecord(o,{type:u.ContentType.heartbeat,data:u.createHeartbeat(u.HeartbeatMessageType.heartbeat_request,t,e)})),u.flush(o)},o.close=function(t){if(!o.fail&&o.sessionCache&&o.session){var e={id:o.session.id,version:o.session.version,sp:o.session.sp};e.sp.keys=null,o.sessionCache.setSession(e.id,e)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,u.queue(o,u.createAlert(o,{level:u.Alert.Level.warning,description:u.Alert.Description.close_notify})),u.flush(o)),o.closed(o)),o.reset(t)},o};var z={tls:t.exports||{},asn1:r(36),hmac:r(40),md:r(41),pem:r(38),pki:r(57),random:r(49),util:r(34)};r(43),r(42);for(var G in u)"function"!=typeof u[G]&&(z.tls[G]=u[G]);z.tls.prf_tls1=e,z.tls.hmac_sha1=n,z.tls.createSessionCache=u.createSessionCache,z.tls.createConnection=u.createConnection}()},function(t,e,r){(function(e){/*!
	 * util/databuffer.js - Forge-compatible Buffer based on Node.js Buffers
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t,r){r=r||{},e.isBuffer(t)?this.data=t:i.util.isArrayBuffer(t)?(t=new Uint8Array(t),this.data=new e(t)):i.util.isArrayBufferView(t)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),this.data=new e(t)),this.data&&(this.write=this.data.length,t=void 0),this.growSize=r.growSize||n.DEFAULT_GROW_SIZE,this.write=this.write||0,this.read=this.read||0,t?this.putBytes(t):this.data||this.accommodate(0),r.readOffset="readOffset"in r?r.readOffset:this.read,this.write="writeOffset"in r?r.writeOffset:this.write,this.read=Math.min(r.readOffset,this.write)}var i=r(30),a=r(66);n.DEFAULT_GROW_SIZE=16,n.prototype.length=function(){return this.write-this.read},n.prototype.available=function(){return this.data.length-this.write},n.prototype.isEmpty=function(){return this.length()<=0},n.prototype.accommodate=function(t){if(this.data){if(this.available()<t){t=Math.max(t,this.growSize);var r=this.data,n=new e(r.length+t);r.copy(n,0),this.data=n}}else t=Math.max(this.write+t,this.growSize),this.data=new e(t);return this.data.fill(0,this.write),this},n.prototype.clear=function(){return this.read=this.write=0,this.data=new e(0),this},n.prototype.truncate=function(t){return this.write=this.read+Math.max(0,this.length()-t),this.data.fill(0,this.write),this},n.prototype.compact=function(){return this.read>0&&(this.write===this.read?this.read=this.write=0:(this.data.copy(this.data,0,this.read,this.write),this.write=this.write-this.read,this.read=0),this.data.fill(0,this.write)),this},n.prototype.copy=function(){return new n(this,{readOffset:this.read,writeOffset:this.write,growSize:this.growSize})},n.prototype.equals=function(t){if(!n.isBuffer(t))return!1;if(t.length()!==this.length())return!1;for(var e=!0,r=this.read-t.read,i=t.read;t.write>i;i++)e=e&&this.data[i+r]===t.data[i];return e},n.prototype.at=function(t){return this.data[this.read+t]},n.prototype.setAt=function(t,e){return this.data[this.read+t]=e,this},n.prototype.last=function(){return this.data[this.write-1]},n.prototype.bytes=function(t){var e;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)e="";else{var r=this.read,n=r+t,i=this.data.slice(r,n);e=String.fromCharCode.apply(null,i)}return e},n.prototype.buffer=function(t){var e;if(void 0===t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)e=new ArrayBuffer(0);else{var r=this.read,n=r+t,i=this.data.slice(r,n);e=new Uint8Array(n-r),e.set(i)}return e},n.prototype["native"]=function(t){var r;if("undefined"==typeof t?t=this.length():t&&(t=Math.min(t,this.length())),0===t)r=new e(0);else{var n=this.read,i=n+t;r=this.data.slice(n,i)}return r},n.prototype.toHex=function(){return this.toString("hex")},n.prototype.toString=function(t){if(0===this.length())return"";var e=this.data.slice(this.read,this.write);switch(t=t||"utf8"){case"raw":return e.toString("binary");case"base64url":return a.encode(e);case"utf16":return e.toString("ucs2");default:return e.toString(t)}},n.prototype.fillWithByte=function(t,e){return e||(e=this.available()),this.accommodate(e),this.data.fill(t,this.write,this.write+e),this.write+=e,this},n.prototype.getBuffer=function(t){var e=this.buffer(t);return this.read+=e.byteLength,e},n.prototype.putBuffer=function(t){return this.putBytes(t)},n.prototype.getBytes=function(t){var e=this.bytes(t);return this.read+=e.length,e},n.prototype.putBytes=function(t,r){if("string"==typeof t){switch(r=r||"binary"){case"utf16":r="ucs-2";break;case"raw":r="binary";break;case"base64url":t=a.decode(t)}e.isBuffer(t)||(t=new e(t,r))}var o,s;if(t instanceof n){var u=t;t=u.data.slice(u.read,u.write),u.read=u.write}else t instanceof i.util.ByteStringBuffer&&(t=t.getBytes());if(e.isBuffer(t))o=t;else if(Array.isArray(t))o=new e(t);else if(i.util.isArrayBuffer(t))o=new Uint8Array(t),o=new e(o);else{if(!i.util.isArrayBufferView(t))throw new TypeError("invalid source type");o=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),o=new e(o)}return this.accommodate(o.length),s=this.data,o.copy(s,this.write),this.write+=o.length,this},n.prototype.getNative=function(t){var e=this["native"](t);return this.read+=e.length,e},n.prototype.putNative=n.prototype.putBuffer,n.prototype.getByte=function(){var t=this.data[this.read];return this.read=Math.min(this.read+1,this.write),t},n.prototype.putByte=function(t){return this.accommodate(1),this.data[this.write]=255&t,this.write++,this},n.prototype.getInt16=function(){var t=this.data[this.read]<<8^this.data[this.read+1];return this.read=Math.min(this.read+2,this.write),t},n.prototype.putInt16=function(t){return this.accommodate(2),this.data[this.write]=t>>>8&255,this.data[this.write+1]=255&t,this.write+=2,this},n.prototype.getInt24=function(){var t=this.data[this.read]<<16^this.data[this.read+1]<<8^this.data[this.read+2];return this.read=Math.min(this.read+3,this.write),t},n.prototype.putInt24=function(t){return this.accommodate(3),this.data[this.write]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write+2]=255&t,this.write+=3,this},n.prototype.getInt32=function(){var t=this.data[this.read]<<24^this.data[this.read+1]<<16^this.data[this.read+2]<<8^this.data[this.read+3];return this.read=Math.min(this.read+4,this.write),t},n.prototype.putInt32=function(t){return this.accommodate(4),this.data[this.write]=t>>>24&255,this.data[this.write+1]=t>>>16&255,this.data[this.write+2]=t>>>8&255,this.data[this.write+3]=255&t,this.write+=4,this},n.prototype.getInt16Le=function(){var t=this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+2,this.write),t},n.prototype.putInt16Le=function(t){return this.accommodate(2),this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=2,this},n.prototype.getInt24Le=function(){var t=this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+3,this.write),t},n.prototype.putInt24Le=function(t){return this.accommodate(3),this.data[this.write+2]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=3,this},n.prototype.getInt32Le=function(){var t=this.data[this.read+3]<<24^this.data[this.read+2]<<16^this.data[this.read+1]<<8^this.data[this.read];return this.read=Math.min(this.read+4,this.write),t},n.prototype.putInt32Le=function(t){return this.accommodate(4),this.data[this.write+3]=t>>>24&255,this.data[this.write+2]=t>>>16&255,this.data[this.write+1]=t>>>8&255,this.data[this.write]=255&t,this.write+=4,this},n.prototype.getInt=function(t){var e=0;do e=e<<8|this.getByte(),t-=8;while(t>0);return e},n.prototype.putInt=function(t,e){this.accommodate(Math.ceil(e/8));do e-=8,this.putByte(t>>e&255);while(e>0);return this},n.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)},n.prototype.putString=function(t){return this.putBytes(t,"utf16")},n.isBuffer=function(t){return t instanceof n},n.asBuffer=function(t){return n.isBuffer(t)?t:t?new n(t):new n},t.exports=i.util.ByteBuffer=n}).call(e,r(1).Buffer)},function(t,e,r){/*!
	 * util/base64url.js - Implementation of web-safe Base64 Encoder/Decoder
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";var n=r(67),i={encode:n.encode,decode:n.decode};t.exports=i},function(t,e,r){t.exports=r(68)},function(t,e,r){(function(t){/*!
	 * urlsafe-base64
	 */
e.version="1.0.0",e.encode=function(e,r){return e instanceof ArrayBuffer&&(e=new Uint8Array(e)),t.isBuffer(e)||(e=new t(e,r)),e.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},e.decode=function(e){return e+=Array(5-e.length%4).join("="),e=e.replace(/\-/g,"+").replace(/\_/g,"/"),new t(e,"base64")},e.validate=function(t){return/^[A-Za-z0-9\-_]+$/.test(t)}}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * algorithms/sha.js - Cryptographic Secure Hash Algorithms, versions 1 and 2
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){var r=t.replace("SHA-","SHA").toLowerCase(),n={name:t},o=function(t){var e=i.md[r].create();return e.update(t),e=e.digest()["native"](),Promise.resolve(e)},s=function(t){var r;return r=a.subtleCrypto.digest(n,t),r=r.then(function(t){return t=new e(t)})},u=function(t){var e=a.nodeCrypto.createHash(r);return e.update(t),e.digest()};return a.setupFallback(u,s,o)}var i=r(30),a=r(26),o={};["SHA-1","SHA-256","SHA-384","SHA-512"].forEach(function(t){o[t]={digest:n(t)}}),t.exports=o}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * util/index.js - Utilities Entry Point
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t,r){if(e.isBuffer(t))return t;if("string"==typeof t)return r=r||"binary","base64url"===r?a.base64url.decode(t):new e(t,r);o.util.isArrayBufferView(t)?t=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteOffset+t.byteLength):o.util.isArrayBuffer(t)&&(t=new Uint8Array(t));var n;return n=new e(t)}function i(t){return new e(o.random.getBytes(t),"binary")}var a,o=r(30);a={base64url:r(66),utf8:r(71),asBuffer:n,randomBytes:i},t.exports=a}).call(e,r(1).Buffer)},function(t,e){/*!
	 * util/utf8.js - Implementation of UTF-8 Encoder/Decoder
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";var r=e;r.encode=function(t){var e=encodeURIComponent(t||"");return e=e.replace(/\%([0-9a-fA-F]{2})/g,function(t,e){return e=parseInt(e,16),String.fromCharCode(e)})},r.decode=function(t){var e=(t||"").replace(/[\u0080-\u00ff]/g,function(t){var e=(256|t.charCodeAt(0)).toString(16).substring(1);return"%"+e});return e=decodeURIComponent(e)}},function(t,e,r){(function(e){/*!
	 * algorithms/aes-gcm.js - AES-GCM Encryption and Key-Wrapping
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){function r(e,r){if(t!==e.length<<3)throw new Error("invalid key size");if(12!==r.length)throw new Error("invalid iv")}var n=function(t,n,i){var a,u,c=i.iv||new e(0),f=i.aad||i.adata||new e(0);try{r(t,c,f)}catch(l){return Promise.reject(l)}a=s.createCipher({key:t,iv:c,additionalData:f}),u=new e(n.length);var h=new Promise(function(t,e){var r=o.CHUNK_SIZE,i=0,s=0;!function c(){var o=Math.min(r,n.length-s);if(i+=a.update(n,s,o,u,i),s+=o,n.length>s)return void setTimeout(c,0);if(i+=a.finish(u,i),i!==n.length)return void e(new Error("encryption failed"));var f=a.tag;t({data:u,tag:f})}()});return h},i=function(t,n,i){var o=i.iv||new e(0),s=i.aad||i.adata||new e(0);try{r(t,o,s)}catch(u){return Promise.reject(u)}var c,f={name:"AES-GCM"};return c=a.subtleCrypto.importKey("raw",t,f,!0,["encrypt"]),c=c.then(function(t){return f.iv=o,f.tagLength=128,s.length&&(f.additionalData=s),a.subtleCrypto.encrypt(f,t,n)}),c=c.then(function(t){var r=t.byteLength-16,n=t.slice(r);n=new e(n);var i=t.slice(0,r);return i=new e(i),{data:i,tag:n}})},u=function(t,n,i){var o=i.iv||new e(0),s=i.aad||i.adata||new e(0);try{r(t,o,s)}catch(u){return Promise.reject(u)}var c,f="aes-"+8*t.length+"-gcm";try{c=a.nodeCrypto.createCipheriv(f,t,o)}catch(u){throw new Error("unsupported algorithm: "+f)}if("function"!=typeof c.setAAD)throw new Error("unsupported algorithm: "+f);s.length&&c.setAAD(s);var l=e.concat([c.update(n),c["final"]()]),h=c.getAuthTag();return{data:l,tag:h}};return a.setupFallback(u,i,n)}function i(t){function r(e,r,n){if(t!==e.length<<3)throw new Error("invalid key size");if(12!==r.length)throw new Error("invalid iv");if(16!==n.length)throw new Error("invalid tag length")}var n=function(t,n,i){var a,u,c=i.aad||i.adata||new e(0),f=i.iv||new e(0),l=i.tag||i.mac||new e(0);try{r(t,f,l)}catch(h){return Promise.reject(h)}a=s.createDecipher({key:t,iv:f,additionalData:c,tag:l}),u=new e(n.length);var p=new Promise(function(t,e){var r=o.CHUNK_SIZE,i=0,s=0;!function c(){var o=Math.min(r,n.length-s);if(i+=a.update(n,s,o,u,i),s+=o,n.length>s)return void setTimeout(c,0);try{i+=a.finish(u,i)}catch(f){return void e(new Error("decryption failed"))}return i!==n.length?void e(new Error("decryption failed")):void t(u)}()});return p},i=function(t,n,i){var o=i.aad||i.adata||new e(0),s=i.iv||new e(0),u=i.tag||i.mac||new e(0);try{r(t,s,u)}catch(c){return Promise.reject(c)}var f,l={name:"AES-GCM"};return f=a.subtleCrypto.importKey("raw",t,l,!0,["decrypt"]),f=f.then(function(t){return l.iv=s,l.tagLength=128,o.length&&(l.additionalData=o),n=e.concat([n,u],n.length+u.length),a.subtleCrypto.decrypt(l,t,n)}),f=f.then(function(t){return t=new e(t)})},u=function(t,n,i){var o=i.aad||i.adata||new e(0),s=i.iv||new e(0),u=i.tag||i.mac||new e(0);try{r(t,s,u)}catch(c){return Promise.reject(c)}var f,l="aes-"+8*t.length+"-gcm";try{f=a.nodeCrypto.createDecipheriv(l,t,s)}catch(c){throw new Error("unsupported algorithm: "+l)}if("function"!=typeof f.setAAD)throw new Error("unsupported algorithm: "+l);f.setAuthTag(u),o.length&&f.setAAD(o);try{var h=e.concat([f.update(n),f["final"]()]);return h}catch(c){throw new Error("decryption failed")}};return a.setupFallback(u,i,n)}var a=r(26),o=r(29),s=r(73),u={};["A128GCM","A192GCM","A256GCM","A128GCMKW","A192GCMKW","A256GCMKW"].forEach(function(t){var e=parseInt(/A(\d+)GCM(?:KW)?/g.exec(t)[1]);u[t]={encrypt:n(e),decrypt:i(e)}}),t.exports=u}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * deps/ciphermodes/gcm/index.js - AES-GCM implementation Entry Point
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=this.blockSize||16}var i=r(74),a=r(30),o=r(75),s=r(76),u=r(78),c=r(65),f=r(79),l=16;t.exports={createCipher:function(t){var e=new a.aes.Algorithm("AES-GCM",n);return e.initialize({key:new c(t.key)}),e.mode.start(t),e.mode},createDecipher:function(t){var e=new a.aes.Algorithm("AES-GCM",n);return e.initialize({key:new c(t.key)}),e.mode._decrypt=!0,e.mode.start(t),e.mode}},n.prototype.start=function(t){if(this.tag=null,t=t||{},!("iv"in t))throw new Error("Gcm needs ParametersWithIV or AEADParameters");if(this.nonce=t.iv,null==this.nonce||this.nonce.length<1)throw new Error("IV must be at least 1 byte");this.tagLength=16,"tag"in t&&(this.tag=new e(t.tag));var r=this._decrypt?this.blockSize+this.tagLength:this.blockSize;this.bufBlock=new e(r),this.bufBlock.fill(0);var n=t.multiplier;if(null==n&&(n=new o["8k"]),this.multiplier=n,this.H=this.zeroBlock(),f.encrypt(this.cipher,this.H,0,this.H,0),this.multiplier.init(this.H),this.exp=null,this.J0=this.zeroBlock(),12===this.nonce.length)this.nonce.copy(this.J0,0,0,this.nonce.length),this.J0[this.blockSize-1]=1;else{this.gHASH(this.J0,this.nonce,this.nonce.length);var a=this.zeroBlock();u.longToBigEndian(new i(this.nonce.length).multiply(8),a,8),this.gHASHBlock(this.J0,a)}this.S=this.zeroBlock(),this.SAt=this.zeroBlock(),this.SAtPre=this.zeroBlock(),this.atBlock=this.zeroBlock(),this.atBlockPos=0,this.atLength=i.ZERO,this.atLengthPre=i.ZERO,this.counter=new e(this.J0),this.bufOff=0,this.totalLength=i.ZERO,"additionalData"in t&&this.processAADBytes(t.additionalData,0,t.additionalData.length)},n.prototype.update=function(t,e,r,n,i){for(var a=0;r>0;){var o=Math.min(r,this.bufBlock.length-this.bufOff);t.copy(this.bufBlock,this.bufOff,e,e+o),r-=o,e+=o,this.bufOff+=o,this.bufOff===this.bufBlock.length&&(this.outputBlock(n,i+a),a+=this.blockSize)}return a},n.prototype.finish=function(t,r){var n=0;this._decrypt&&(n+=this.update(this.tag,0,this.tag.length,t,r)),this.totalLength.isZero()&&this.initCipher();var i=this.bufOff;if(this._decrypt){if(i<this.tagLength)throw new Error("data too short");i-=this.tagLength}i>0&&(this.gCTRPartial(this.bufBlock,0,i,t,r+n),n+=i),this.atLength=this.atLength.add(this.atBlockPos);var a=this.zeroBlock();u.longToBigEndian(this.atLength.multiply(8),a,0),u.longToBigEndian(this.totalLength.multiply(8),a,8),this.gHASHBlock(this.S,a);var o=new e(this.blockSize);if(o.fill(0),f.encrypt(this.cipher,this.J0,0,o,0),this.xor(o,this.S),this._decrypt){if(!s.arrayEqual(this.tag,o))throw new Error("mac check in Gcm failed")}else this.tag=new e(this.tagLength),o.copy(this.tag,0,0,this.tagLength);return n},n.prototype.initCipher=function(){this.atLength.greaterThan(i.ZERO)&&(this.SAt.copy(this.SAtPre,0,0,this.blockSize),this.atLengthPre=this.atLength.add(i.ZERO)),this.atBlockPos>0&&(this.gHASHPartial(this.SAtPre,this.atBlock,0,this.atBlockPos),this.atLengthPre=this.atLengthPre.add(this.atBlockPos)),this.atLengthPre.greaterThan(i.ZERO)&&this.SAtPre.copy(this.S,0,0,this.blockSize)},n.prototype.outputBlock=function(t,e){this.totalLength.isZero()&&this.initCipher(),this.gCTRBlock(this.bufBlock,t,e),this._decrypt?(this.bufBlock.copy(this.bufBlock,0,this.blockSize,this.blockSize+this.tagLength),this.bufOff=this.tagLength):this.bufOff=0},n.prototype.processAADBytes=function(t,e,r){for(var n=0;n<r;++n)this.atBlock[this.atBlockPos]=t[e+n],++this.atBlockPos===this.blockSize&&(this.gHASHBlock(this.SAt,this.atBlock),this.atBlockPos=0,this.atLength=this.atLength.add(this.blockSize))},n.prototype.getNextCounterBlock=function(){for(var t=15;t>=12;--t){var r=this.counter[t]+1&255;if(this.counter[t]=r,0!==r)break}var n=new e(this.blockSize);return n.fill(0),f.encrypt(this.cipher,this.counter,0,n,0),n},n.prototype.gCTRBlock=function(t,e,r){var n=this.getNextCounterBlock();this.xor(n,t),n.copy(e,r,0,this.blockSize),this.gHASHBlock(this.S,this._decrypt?t:n),this.totalLength=this.totalLength.add(this.blockSize)},n.prototype.gCTRPartial=function(t,e,r,n,i){var a=this.getNextCounterBlock();this.xor(a,t,e,r),a.copy(n,i,0,r),this.gHASHPartial(this.S,this._decrypt?t:a,0,r),this.totalLength=this.totalLength.add(r)},n.prototype.gHASHBlock=function(t,e){this.xor(t,e),this.multiplier.multiplyH(t)},n.prototype.gHASHPartial=function(t,e,r,n){this.xor(t,e,r,n),this.multiplier.multiplyH(t)},n.prototype.xor=function(t,e,r,n){switch(arguments.length){case 2:for(var i=15;i>=0;--i)t[i]^=e[i];break;case 4:for(;n-- >0;)t[n]^=e[r+n];break;default:throw new TypeError("Expected 2 or 4 arguments.")}return t},n.prototype.zeroBlock=function(){var t=new e(l);return t.fill(0),t}}).call(e,r(1).Buffer)},function(t,e,r){var n,i,a;(function(t){/**
	 * @license long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
	 * Released under the Apache License, Version 2.0
	 * see: https://github.com/dcodeIO/long.js for details
	 */
!function(o,s){r(23).amd?(i=[],n=s,a="function"==typeof n?n.apply(e,i):n,!(void 0!==a&&(t.exports=a))):"object"==typeof t&&t&&t.exports?t.exports=s():(o.dcodeIO=o.dcodeIO||{}).Long=s()}(this,function(){"use strict";function t(t,e,r){this.low=0|t,this.high=0|e,this.unsigned=!!r}function e(t){return(t&&t.__isLong__)===!0}function r(t,e){var r,n,a;return e?(t>>>=0,(a=0<=t&&t<256)&&(n=u[t])?n:(r=i(t,(0|t)<0?-1:0,!0),a&&(u[t]=r),r)):(t|=0,(a=-128<=t&&t<128)&&(n=s[t])?n:(r=i(t,t<0?-1:0,!1),a&&(s[t]=r),r))}function n(t,e){if(isNaN(t)||!isFinite(t))return e?g:y;if(e){if(t<0)return g;if(t>=h)return w}else{if(t<=-p)return _;if(t+1>=p)return E}return t<0?n(-t,e).neg():i(t%l|0,t/l|0,e)}function i(e,r,n){return new t(e,r,n)}function a(t,e,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return y;if("number"==typeof e?(r=e,e=!1):e=!!e,r=r||10,r<2||36<r)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return a(t.substring(1),e,r).neg();for(var o=n(c(r,8)),s=y,u=0;u<t.length;u+=8){var f=Math.min(8,t.length-u),l=parseInt(t.substring(u,u+f),r);if(f<8){var h=n(c(r,f));s=s.mul(h).add(n(l))}else s=s.mul(o),s=s.add(n(l))}return s.unsigned=e,s}function o(e){return e instanceof t?e:"number"==typeof e?n(e):"string"==typeof e?a(e):i(e.low,e.high,e.unsigned)}t.prototype.__isLong__,Object.defineProperty(t.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1}),t.isLong=e;var s={},u={};t.fromInt=r,t.fromNumber=n,t.fromBits=i;var c=Math.pow;t.fromString=a,t.fromValue=o;var f=1<<24,l=4294967296,h=0x10000000000000000,p=h/2,d=r(f),y=r(0);t.ZERO=y;var g=r(0,!0);t.UZERO=g;var v=r(1);t.ONE=v;var m=r(1,!0);t.UONE=m;var b=r(-1);t.NEG_ONE=b;var E=i(-1,2147483647,!1);t.MAX_VALUE=E;var w=i(-1,-1,!0);t.MAX_UNSIGNED_VALUE=w;var _=i(0,-2147483648,!1);t.MIN_VALUE=_;var C=t.prototype;return C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},C.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var e=n(t),r=this.div(e),i=r.mul(e).sub(this);return r.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var a=n(c(t,6),this.unsigned),o=this,s="";;){var u=o.div(a),f=o.sub(u.mul(a)).toInt()>>>0,l=f.toString(t);if(o=u,o.isZero())return l+s;for(;l.length<6;)l="0"+l;s=""+l+s}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},C.isZero=function(){return 0===this.high&&0===this.low},C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1===(1&this.low)},C.isEven=function(){return 0===(1&this.low)},C.equals=function(t){return e(t)||(t=o(t)),(this.unsigned===t.unsigned||this.high>>>31!==1||t.high>>>31!==1)&&(this.high===t.high&&this.low===t.low)},C.eq=C.equals,C.notEquals=function(t){return!this.eq(t)},C.neq=C.notEquals,C.lessThan=function(t){return this.comp(t)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(t){return this.comp(t)<=0},C.lte=C.lessThanOrEqual,C.greaterThan=function(t){return this.comp(t)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(t){return this.comp(t)>=0},C.gte=C.greaterThanOrEqual,C.compare=function(t){if(e(t)||(t=o(t)),this.eq(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(v)},C.neg=C.negate,C.add=function(t){e(t)||(t=o(t));var r=this.high>>>16,n=65535&this.high,a=this.low>>>16,s=65535&this.low,u=t.high>>>16,c=65535&t.high,f=t.low>>>16,l=65535&t.low,h=0,p=0,d=0,y=0;return y+=s+l,d+=y>>>16,y&=65535,d+=a+f,p+=d>>>16,d&=65535,p+=n+c,h+=p>>>16,p&=65535,h+=r+u,h&=65535,i(d<<16|y,h<<16|p,this.unsigned)},C.subtract=function(t){return e(t)||(t=o(t)),this.add(t.neg())},C.sub=C.subtract,C.multiply=function(t){if(this.isZero())return y;if(e(t)||(t=o(t)),t.isZero())return y;if(this.eq(_))return t.isOdd()?_:y;if(t.eq(_))return this.isOdd()?_:y;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(d)&&t.lt(d))return n(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,a=65535&this.high,s=this.low>>>16,u=65535&this.low,c=t.high>>>16,f=65535&t.high,l=t.low>>>16,h=65535&t.low,p=0,g=0,v=0,m=0;return m+=u*h,v+=m>>>16,m&=65535,v+=s*h,g+=v>>>16,v&=65535,v+=u*l,g+=v>>>16,v&=65535,g+=a*h,p+=g>>>16,g&=65535,g+=s*l,p+=g>>>16,g&=65535,g+=u*f,p+=g>>>16,g&=65535,p+=r*h+a*l+s*f+u*c,p&=65535,i(v<<16|m,p<<16|g,this.unsigned)},C.mul=C.multiply,C.divide=function(t){if(e(t)||(t=o(t)),t.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?g:y;var r,i,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return g;if(t.gt(this.shru(1)))return m;a=g}else{if(this.eq(_)){if(t.eq(v)||t.eq(b))return _;if(t.eq(_))return v;var s=this.shr(1);return r=s.div(t).shl(1),r.eq(y)?t.isNegative()?v:b:(i=this.sub(t.mul(r)),a=r.add(i.div(t)))}if(t.eq(_))return this.unsigned?g:y;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=y}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var u=Math.ceil(Math.log(r)/Math.LN2),f=u<=48?1:c(2,u-48),l=n(r),h=l.mul(t);h.isNegative()||h.gt(i);)r-=f,l=n(r,this.unsigned),h=l.mul(t);l.isZero()&&(l=v),a=a.add(l),i=i.sub(h)}return a},C.div=C.divide,C.modulo=function(t){return e(t)||(t=o(t)),this.sub(this.div(t).mul(t))},C.mod=C.modulo,C.not=function(){return i(~this.low,~this.high,this.unsigned)},C.and=function(t){return e(t)||(t=o(t)),i(this.low&t.low,this.high&t.high,this.unsigned)},C.or=function(t){return e(t)||(t=o(t)),i(this.low|t.low,this.high|t.high,this.unsigned)},C.xor=function(t){return e(t)||(t=o(t)),i(this.low^t.low,this.high^t.high,this.unsigned)},C.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?i(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):i(0,this.low<<t-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(t){return e(t)&&(t=t.toInt()),0===(t&=63)?this:t<32?i(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):i(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),t&=63,0===t)return this;var r=this.high;if(t<32){var n=this.low;return i(n>>>t|r<<32-t,r>>>t,this.unsigned)}return 32===t?i(r,0,this.unsigned):i(r>>>t-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?i(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:i(this.low,this.high,!0)},C.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&t,t>>>8&255,t>>>16&255,t>>>24&255]},C.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24&255,t>>>16&255,t>>>8&255,255&t,e>>>24&255,e>>>16&255,e>>>8&255,255&e]},t})}).call(e,r(21)(t))},function(t,e,r){/*!
	 * deps/ciphermodes/gcm/multipliers.js - AES-GCM Multipliers
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(){this.H=[],this.M=null}var i=r(76),a=r(78);n.prototype.init=function(t){var e,r,n;if(null==this.M)for(this.M=[],e=0;e<32;++e)for(this.M[e]=[],r=0;r<16;++r)for(this.M[e][r]=[],n=0;n<4;++n)this.M[e][r][n]=0;else if(i.arrayEqual(this.H,t))return;for(this.H=t.slice(),i.asInts(t,this.M[1][8]),r=4;r>=1;r>>=1)i.multiplyP(this.M[1][r+r],this.M[1][r]);for(i.multiplyP(this.M[1][1],this.M[0][8]),r=4;r>=1;r>>=1)i.multiplyP(this.M[0][r+r],this.M[0][r]);for(e=0;;){for(r=2;r<16;r+=r)for(n=1;n<r;++n)i.xor(this.M[e][r],this.M[e][n],this.M[e][r+n]);if(32===++e)return;if(e>1)for(r=8;r>0;r>>=1)i.multiplyP8(this.M[e-2][r],this.M[e][r])}},n.prototype.multiplyH=function(t){for(var e=[],r=15;r>=0;--r){var n=this.M[r+r][15&t[r]];e[0]^=n[0],e[1]^=n[1],e[2]^=n[2],e[3]^=n[3],n=this.M[r+r+1][(240&t[r])>>>4],e[0]^=n[0],e[1]^=n[1],e[2]^=n[2],e[3]^=n[3]}a.intToBigEndian(e,t,0)},t.exports={"8k":n}},function(t,e,r){(function(e){/*!
	 * deps/ciphermodes/gcm/helpers.js - AES-GCM Helper Functions
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(){for(var t=[],e=0;e<256;++e){for(var r=0,n=7;n>=0;--n)0!==(e&1<<n)&&(r^=s>>>7-n);t.push(r)}return t}var i=r(74),a=r(77),o=r(78),s=3774873600,u=225,c=new i(s>>8),f=t.exports={E1:s,E1B:u,E1L:c,LOOKUP:n(),arrayCopy:function(t,e,r,n,i){if(e<0||n<0||i<0)throw new TypeError("Invalid input.");if(r instanceof Uint8Array){if(n>=r.length||n+i>r.length)throw new TypeError("Invalid input.");(0!==e||i<t.length)&&(t=t instanceof Uint8Array?t.subarray(e,e+i):t.slice(e,e+i)),r.set(t,n)}else for(var a=0;a<i;++a)r[n+a]=t[e+a]},arrayEqual:function(t,e){t=t||[],e=e||[];for(var r=Math.min(t.length,e.length),n=t.length===e.length,i=0;i<r;i++)n=n&&"undefined"!=typeof t[i]&&"undefined"!=typeof e[i]&&t[i]===e[i];return n},asBytes:function(t,r){switch(arguments.length){case 1:return r=new e(16),r.fill(0),o.intToBigEndian(t,r,0),r;case 2:o.intToBigEndian(t,r,0);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},asInts:function(t,e){switch(arguments.length){case 1:return e=[],a(e,0,0,4),o.bigEndianToInt(t,0,e),e;case 2:o.bigEndianToInt(t,0,e);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},oneAsInts:function(){for(var t=[],e=0;e<4;++e)t.push(1<<31);return t},shiftRight:function(t,e){var r,n;switch(arguments.length){case 1:return r=t[0],t[0]=r>>>1,n=r<<31,r=t[1],t[1]=r>>>1|n,n=r<<31,r=t[2],t[2]=r>>>1|n,n=r<<31,r=t[3],t[3]=r>>>1|n,r<<31&4294967295;case 2:return r=t[0],e[0]=r>>>1,n=r<<31,r=t[1],e[1]=r>>>1|n,n=r<<31,r=t[2],e[2]=r>>>1|n,n=r<<31,r=t[3],e[3]=r>>>1|n,r<<31&4294967295;default:throw new TypeError("Expected 1 or 2 arguments.")}},shiftRightN:function(t,e,r){var n,i,a;switch(arguments.length){case 2:return i=t[0],n=32-e,t[0]=i>>>e,a=i<<n,i=t[1],t[1]=i>>>e|a,a=i<<n,i=t[2],t[2]=i>>>e|a,a=i<<n,i=t[3],t[3]=i>>>e|a,i<<n;case 3:return i=t[0],n=32-e,r[0]=i>>>e,a=i<<n,i=t[1],r[1]=i>>>e|a,a=i<<n,i=t[2],r[2]=i>>>e|a,a=i<<n,i=t[3],r[3]=i>>>e|a,i<<n;default:throw new TypeError("Expected 2 or 3 arguments.")}},xor:function(t,e,r){switch(arguments.length){case 2:t[0]^=e[0],t[1]^=e[1],t[2]^=e[2],t[3]^=e[3];break;case 3:r[0]=t[0]^e[0],r[1]=t[1]^e[1],r[2]=t[2]^e[2],r[3]=t[3]^e[3];break;default:throw new TypeError("Expected 2 or 3 arguments.")}},multiply:function(t,e){for(var r=t.slice(),n=[],i=0;i<4;++i)for(var a=e[i],o=31;o>=0;--o)0!==(a&1<<o)&&f.xor(n,r),0!==f.shiftRight(r)&&(r[0]^=f.E1);f.arrayCopy(n,0,t,0,4)},multiplyP:function(t,e){switch(arguments.length){case 1:0!==f.shiftRight(t)&&(t[0]^=f.E1);break;case 2:0!==f.shiftRight(t,e)&&(e[0]^=f.E1);break;default:throw new TypeError("Expected 1 or 2 arguments.")}},multiplyP8:function(t,e){var r;switch(arguments.length){case 1:r=f.shiftRightN(t,8),t[0]^=f.LOOKUP[r>>>24];break;case 2:r=f.shiftRightN(t,8,e),e[0]^=f.LOOKUP[r>>>24];break;default:throw new TypeError("Expected 1 or 2 arguments.")}}}}).call(e,r(1).Buffer)},function(t,e){function r(t,e,r){return t===t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=t>=e?t:e)),t}function n(t,e,r,n){var i=t.length;for(r=y(r),r<0&&(r=-r>i?0:i+r),n=void 0===n||n>i?i:y(n),n<0&&(n+=i),n=r>n?0:g(n);r<n;)t[r++]=e;return t}function i(t,e){return e=null==e?b:e,!!e&&("number"==typeof t||R.test(t))&&t>-1&&t%1==0&&t<e}function a(t,e,r){if(!l(r))return!1;var n=typeof e;return!!("number"==n?u(r)&&i(e,r.length):"string"==n&&e in r)&&s(r[e],t)}function o(t,e,r,i){var o=t?t.length:0;return o?(r&&"number"!=typeof r&&a(t,e,r)&&(r=0,i=o),n(t,e,r,i)):[]}function s(t,e){return t===e||t!==t&&e!==e}function u(t){return null!=t&&f(t.length)&&!c(t)}function c(t){var e=l(t)?P.call(t):"";return e==C||e==S}function f(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=b}function l(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function h(t){return!!t&&"object"==typeof t}function p(t){return"symbol"==typeof t||h(t)&&P.call(t)==A}function d(t){if(!t)return 0===t?t:0;if(t=v(t),t===m||t===-m){var e=t<0?-1:1;return e*E}return t===t?t:0}function y(t){var e=d(t),r=e%1;return e===e?r?e-r:e:0}function g(t){return t?r(y(t),0,_):0}function v(t){if("number"==typeof t)return t;if(p(t))return w;if(l(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=l(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(T,"");var r=I.test(t);return r||k.test(t)?N(t.slice(2),r?2:8):B.test(t)?w:+t}var m=1/0,b=9007199254740991,E=1.7976931348623157e308,w=NaN,_=4294967295,C="[object Function]",S="[object GeneratorFunction]",A="[object Symbol]",T=/^\s+|\s+$/g,B=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,k=/^0o[0-7]+$/i,R=/^(?:0|[1-9]\d*)$/,N=parseInt,F=Object.prototype,P=F.toString;t.exports=o},function(t,e,r){(function(e){/*!
	 * deps/ciphermodes/pack.js - Pack/Unpack Functions
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";var n=r(74),i=t.exports={intToBigEndian:function(t,r,n){if("number"==typeof t)switch(arguments.length){case 1:r=new e(4),r.fill(0),i.intToBigEndian(t,r,0);break;case 3:r[n]=255&t>>>24,r[++n]=255&t>>>16,r[++n]=255&t>>>8,r[++n]=255&t;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:r=new e(4*t.length),r.fill(0),i.intToBigEndian(t,r,0);break;case 3:for(var a=0;a<t.length;++a)i.intToBigEndian(t[a],r,n),n+=4;break;default:throw new TypeError("Expected 1 or 3 arguments.")}return r},longToBigEndian:function(t,r,n){if(Array.isArray(t))switch(arguments.length){case 1:r=new e(8*t.length),r.fill(0),i.longToBigEndian(t,r,0);break;case 3:for(var a=0;a<t.length;++a)i.longToBigEndian(t[a],r,n),n+=8;break;default:throw new TypeError("Expected 1 or 3 arguments.")}else switch(arguments.length){case 1:r=new e(8),r.fill(0),i.longToBigEndian(t,r,0);break;case 3:var o=t.low,s=t.high;i.intToBigEndian(s,r,n),i.intToBigEndian(o,r,n+4);break;default:throw new TypeError("Expected 1 or 3 arguments.")}return r},bigEndianToInt:function(t,e,r){switch(arguments.length){case 2:var n=t[e]<<24;return n|=(255&t[++e])<<16,n|=(255&t[++e])<<8,n|=255&t[++e];case 3:for(var a=0;a<r.length;++a)r[a]=i.bigEndianToInt(t,e),e+=4;break;default:throw new TypeError("Expected 2 or 3 arguments.")}},bigEndianToLong:function(t,e,r){switch(arguments.length){case 2:var a=i.bigEndianToInt(t,e),o=i.bigEndianToInt(t,e+4),s=new n(o,a);return s;case 3:for(var u=0;u<r.length;++u)r[u]=i.bigEndianToLong(t,e),e+=8;break;default:throw new TypeError("Expected 2 or 3 arguments.")}}}}).call(e,r(1).Buffer)},function(t,e,r){/*!
	 * deps/ciphermodes/helpers.js - Cipher Helper Functions
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t,e,r,n,a){var o=new Array(4),s=new Array(4);i.bigEndianToInt(e,r,o),t.encrypt(o,s),i.intToBigEndian(s,n,a)}var i=r(78);t.exports={encrypt:n}},function(t,e,r){(function(e){/*!
	 * algorithms/aes-kw.js - AES-KW Key-Wrapping
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t,r){for(var n=Math.max(t.length,r.length),i=new e(n),a=0;n>a;a++)i[a]=(t[a]||0)^(r[a]||0);return i}function i(t,e){for(var r=[],n=0;t.length>n;n+=e)r.push(t.slice(n,n+e));return r}function a(t){var r=Math.floor(t/4294967296),n=t%4294967296,i=new e(8);return i[0]=255&r>>>24,i[1]=255&r>>>16,i[2]=255&r>>>8,i[3]=255&r>>>0,i[4]=255&n>>>24,i[5]=255&n>>>16,i[6]=255&n>>>8,i[7]=255&n>>>0,i}function o(t){function r(e,r){if(t!==e.length<<3)throw new Error("invalid key size");if(0<r.length&&0!==r.length%8)throw new Error("invalid data length")}var o=function(t,o){try{r(t,o)}catch(s){return Promise.reject(s)}var u,h,p,d=c.cipher.createCipher("AES",new f(t)),y=i(o,8);u=l;for(var g=0;6>g;g++)for(var v=0;y.length>v;v++)p=y.length*g+v+1,h=e.concat([u,y[v]]),d.start(),d.update(new f(h)),d.finish(),h=d.output["native"](),u=n(h.slice(0,8),a(p)),y[v]=h.slice(8,16);y=[u].concat(y);var m=e.concat(y);return Promise.resolve({data:m})},s=function(t,n){try{r(t,n)}catch(i){return Promise.reject(i)}var a={name:"AES-KW"},o=[u.subtleCrypto.importKey("raw",n,{name:"HMAC",hash:"SHA-256"},!0,["sign"]),u.subtleCrypto.importKey("raw",t,a,!0,["wrapKey"])];return o=Promise.all(o),o=o.then(function(t){return u.subtleCrypto.wrapKey("raw",t[0],t[1],a)}),o=o.then(function(t){return t=new e(t),{data:t}})};return u.setupFallback(null,s,o)}function s(t){function r(e,r){if(t!==e.length<<3)throw new Error("invalid key size");if(0<r.length-8&&0!==r.length%8)throw new Error("invalid data length")}var o=function(t,o){try{r(t,o)}catch(s){return Promise.reject(s)}var u,h,p,d=c.cipher.createDecipher("AES",new f(t)),y=i(o,8);u=y[0],y=y.slice(1);for(var g=5;0<=g;--g)for(var v=y.length-1;0<=v;--v)p=y.length*g+v+1,h=n(u,a(p)),h=e.concat([h,y[v]]),d.start(),d.update(new f(h)),d.finish(),h=d.output["native"](),u=h.slice(0,8),y[v]=h.slice(8,16);if(u.toString()!==l.toString())return Promise.reject(new Error("decryption failed"));var m=e.concat(y);return Promise.resolve(m)},s=function(t,n){try{r(t,n)}catch(i){return Promise.reject(i)}var a={name:"AES-KW"},o=u.subtleCrypto.importKey("raw",t,a,!0,["unwrapKey"]);return o=o.then(function(t){return u.subtleCrypto.unwrapKey("raw",n,t,a,{name:"HMAC",hash:"SHA-256"},!0,["sign"])}),o=o.then(function(t){return u.subtleCrypto.exportKey("raw",t)}),o=o.then(function(t){return t=new e(t)})};return u.setupFallback(null,s,o)}var u=r(26),c=r(30),f=r(65),l=new e("a6a6a6a6a6a6a6a6","hex"),h={};["A128KW","A192KW","A256KW"].forEach(function(t){var e=parseInt(/A(\d+)KW/g.exec(t)[1]);h[t]={encrypt:o(e),decrypt:s(e)}}),t.exports=h}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * algorithms/concat.js - Concat Key Derivation
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){t=t.replace("CONCAT-","");var r=function(r,n){function o(){if(l===h++)return e.concat(p).slice(0,s);var t=new e(4+r.length+c.length);return t.writeUInt32BE(h,0),r.copy(t,4),c.copy(t,4+r.length),f(t).then(function(t){return p.push(t),o()})}n=n||{};var s=n.length,u=i.HASHLENGTH[t];if(!s)return Promise.reject(new Error("invalid key length"));if(!n.otherInfo)return Promise.reject(new Error("invalid otherInfo"));var c=n.otherInfo,f=a[t].digest,l=Math.ceil(s/u),h=0,p=[];return o()};return r}var i=r(29),a=r(69),o={};["CONCAT-SHA-1","CONCAT-SHA-256","CONCAT-SHA-384","CONCAT-SHA-512"].forEach(function(t){o[t]={derive:n(t)}}),t.exports=o}).call(e,r(1).Buffer)},function(t,e){/*!
	 * algorithms/dir.js - Direct key mode
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function r(t){return Promise.resolve({data:t,once:!0,direct:!0})}function n(t){return Promise.resolve(t)}var i={dir:{encrypt:r,decrypt:n}};t.exports=i},function(t,e,r){(function(e){/*!
	 * algorithms/ecdh.js - Elliptic Curve Diffie-Hellman algorithms
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){switch(t){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Error("unsupported curve: "+t)}}function i(){var t={name:"ECDH"},r=function(t,e){e=e||{};var r=e.length||0,n=v.convertToForge(t,!1);if(!e["public"])return Promise.reject(new Error("invalid EC public key"));var i=v.convertToForge(e["public"],!0),a=n.computeSecret(i);if(r){if(a.length<r)return Promise.reject(new Error("key length too large: "+r));a=a.slice(0,r)}return Promise.resolve(a)},n=function(r,n){r=r||{},n=n||{};var i=n.length||0,a=p(h(t),{namedCurve:r.crv});i||(i=r.d.length);var o=v.convertToJWK(r,!1);if(o=w.subtleCrypto.importKey("jwk",o,a,!1,["deriveBits"]),!n["public"])return Promise.reject(new Error("invalid EC public key"));var s=v.convertToJWK(n["public"],!0);s=w.subtleCrypto.importKey("jwk",s,a,!1,[]);var u=Promise.all([o,s]);return u=u.then(function(e){var r=e[0],n=e[1],a=p(h(t),{"public":n});return w.subtleCrypto.deriveBits(a,r,8*i)}),u=u.then(function(t){return t=new e(t)})},i=function(t,e){if("function"!=typeof w.nodeCrypto.createECDH)throw new Error("unsupported algorithm: ECDH");e=e||{};var r,n=e.length||0;switch(t.crv){case"P-256":r="prime256v1";break;case"P-384":r="secp384r1";break;case"P-521":r="secp521r1";break;default:return Promise.reject(new Error("invalid curve: "+r))}var i=v.convertToBuffer(t,!1),a=v.convertToBuffer(e["public"],!0),o=w.nodeCrypto.createECDH(r);o.generateKeys(),o.setPrivateKey(i);var s=o.computeSecret(a);if(n){if(s.length<n)return Promise.reject(new Error("key length too large: "+n));s=s.slice(0,n)}return Promise.resolve(s)};return w.setupFallback(i,n,r)}function a(){var t=function(t,e){e=e||{};var r;try{if(r=e.hash||n(t.crv),!r)throw new Error("invalid hash: "+r);r.toUpperCase()}catch(i){return Promise.reject(i)}var a=["public"],o=C.ECDH.derive(t,y(e,a));return o=o.then(function(t){return b["CONCAT-"+r].derive(t,d(e,a))})};return t}function o(){var t=function(t,e){e=e||{};var r;try{if(r=e.hash||n(t.crv),!r)throw new Error("invalid hash: "+r);r.toUpperCase()}catch(i){return Promise.reject(i)}var a=["public"],o=C.ECDH.derive(t,y(e,a));return o=o.then(function(t){return m["HKDF-"+r].derive(t,d(e,a))})};return t}function s(t,r,n){function i(t){return e.concat([w.int32ToBuffer(t.length),t])}var a=n.algorithm||"",o=_.KEYLENGTH[a],s=g.asBuffer(n.apu||"","base64url"),u=g.asBuffer(n.apv||"","base64url"),c=e.concat([i(new e(a,"utf8")),i(s),i(u),w.int32ToBuffer(o)]),f={"public":r,length:o/8,hash:"SHA-256",otherInfo:c};return C["ECDH-CONCAT"].derive(t,f)}function u(){var t=function(t,e,r){if(r=r||{},!r.epk||!r.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var n=v.convertToObj(r.epk,!1);if(!t||!t.x||!t.y)return Promise.reject(new Error("missing static public key"));var i=v.convertToObj(t,!0),a=s(n,i,{algorithm:r.enc,apu:r.apu,apv:r.apv});return a=a.then(function(t){return{data:t,once:!0,direct:!0}})};return t}function c(){var t=function(t,e,r){if(r=r||{},!r.epk||!r.epk.x||!r.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var n=v.convertToObj(r.epk,!0);if(!t||!t.d)return Promise.reject(new Error("missing static private key"));var i=v.convertToObj(t,!1),a=s(i,n,{algorithm:r.enc,apu:r.apu,apv:r.apv});return a=a.then(function(t){return t})};return t}function f(t){var e=function(e,r,n){if(n=n||{},!n.epk||!n.epk.d)return Promise.reject(new Error("missing ephemeral private key"));var i=v.convertToObj(n.epk,!1);if(!e||!e.x||!e.y)return Promise.reject(new Error("missing static public key"));var a=v.convertToObj(e,!0),o=s(i,a,{algorithm:n.alg,apu:n.apu,apv:n.apv});return o=o.then(function(e){return t(e,r)})};return e}function l(t){var e=function(e,r,n){if(n=n||{},!n.epk||!n.epk.x||!n.epk.y)return Promise.reject(new Error("missing ephemeral public key"));var i=v.convertToObj(n.epk,!0);if(!e||!e.d)return Promise.reject(new Error("missing static private key"));var a=v.convertToObj(e,!1),o=s(a,i,{algorithm:n.alg,apu:n.apu,apv:n.apv});return o=o.then(function(e){return t(e,r)})};return e}var h=r(84),p=r(85),d=r(88),y=r(89),g=r(70),v=r(90),m=r(95),b=r(81),E=r(80),w=r(26),_=r(29),C=t.exports={};["ECDH","ECDH-HKDF","ECDH-CONCAT"].forEach(function(t){var e=/^ECDH(?:-(\w+))?$/g.exec(t||"")[1],r=C[t]=C[t]||{};switch(e||""){case"CONCAT":r.derive=a();break;case"HKDF":r.derive=o();break;case"":r.derive=i();break;default:r.derive=null}}),["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"].forEach(function(t){var e=/^ECDH-ES(?:\+(.+))?/g.exec(t||"")[1],r=C[t]=C[t]||{};e?(e=E[e],e?(r.encrypt=f(e.encrypt),r.decrypt=l(e.decrypt)):r.ecrypt=r.decrypt=null):(r.encrypt=u(),r.decrypt=c())})}).call(e,r(1).Buffer)},function(t,e,r){(function(t,r){function n(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function a(t,e){for(var r=-1,n=t?t.length:0;++r<n&&e(t[r],r,t)!==!1;);return t}function o(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function s(t,e,r,n){var i=-1,a=t?t.length:0;for(n&&a&&(r=t[++i]);++i<a;)r=e(r,t[i],i,t);return r}function u(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function c(t,e){return null==t?void 0:t[e]}function f(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function l(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function h(t,e){return function(r){return t(e(r))}}function p(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function d(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function y(){this.__data__=je?je(null):{}}function g(t){return this.has(t)&&delete this.__data__[t]}function v(t){var e=this.__data__;if(je){var r=e[t];return r===kt?void 0:r}return we.call(e,t)?e[t]:void 0}function m(t){var e=this.__data__;return je?void 0!==e[t]:we.call(e,t)}function b(t,e){var r=this.__data__;return r[t]=je&&void 0===e?kt:e,this}function E(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function w(){this.__data__=[]}function _(t){var e=this.__data__,r=M(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Re.call(e,r,1),!0}function C(t){var e=this.__data__,r=M(e,t);return r<0?void 0:e[r][1]}function S(t){return M(this.__data__,t)>-1}function A(t,e){var r=this.__data__,n=M(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function T(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function B(){this.__data__={hash:new d,map:new(Le||E),string:new d}}function I(t){return ot(this,t)["delete"](t)}function k(t){return ot(this,t).get(t)}function R(t){return ot(this,t).has(t)}function N(t,e){return ot(this,t).set(t,e),this}function F(t){this.__data__=new E(t)}function P(){this.__data__=new E}function O(t){return this.__data__["delete"](t)}function L(t){return this.__data__.get(t)}function x(t){return this.__data__.has(t)}function D(t,e){var r=this.__data__;if(r instanceof E){var n=r.__data__;if(!Le||n.length<It-1)return n.push([t,e]),this;r=this.__data__=new T(n)}return r.set(t,e),this}function U(t,e){var r=Qe(t)||mt(t)?u(t.length,String):[],n=r.length,i=!!n;for(var a in t)!e&&!we.call(t,a)||i&&("length"==a||lt(a,n))||r.push(a);return r}function j(t,e,r){var n=t[e];we.call(t,e)&&vt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function M(t,e){for(var r=t.length;r--;)if(vt(t[r][0],e))return r;return-1}function K(t,e){return t&&nt(e,At(e),t)}function V(t,e,r,n,i,o,s){var u;if(n&&(u=o?n(t,i,o,s):n(t)),void 0!==u)return u;if(!Ct(t))return t;var c=Qe(t);if(c){if(u=ut(t),!e)return rt(t,u)}else{var l=Ze(t),h=l==xt||l==Dt;if(Ye(t))return Z(t,e);if(l==Mt||l==Nt||h&&!o){if(f(t))return o?t:{};if(u=ct(h?{}:t),!e)return it(t,K(u,t))}else{if(!ue[l])return o?t:{};u=ft(t,l,V,e)}}s||(s=new F);var p=s.get(t);if(p)return p;if(s.set(t,u),!c)var d=r?at(t):At(t);return a(d||t,function(i,a){d&&(a=i,i=t[a]),j(u,a,V(i,e,r,n,a,t,s))}),u}function H(t){return Ct(t)?Ie(t):{}}function q(t,e,r){var n=e(t);return Qe(t)?n:o(n,r(t))}function z(t){return _e.call(t)}function G(t){if(!Ct(t)||pt(t))return!1;var e=wt(t)||f(t)?Ce:oe;return e.test(yt(t))}function W(t){if(!dt(t))return Pe(t);var e=[];for(var r in Object(t))we.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Z(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function Q(t){var e=new t.constructor(t.byteLength);return new Te(e).set(new Te(t)),e}function Y(t,e){var r=e?Q(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function J(t,e,r){var i=e?r(l(t),!0):l(t);return s(i,n,new t.constructor)}function $(t){var e=new t.constructor(t.source,ae.exec(t));return e.lastIndex=t.lastIndex,e}function X(t,e,r){var n=e?r(p(t),!0):p(t);return s(n,i,new t.constructor)}function tt(t){return Ge?Object(Ge.call(t)):{}}function et(t,e){var r=e?Q(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function rt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function nt(t,e,r,n){r||(r={});for(var i=-1,a=e.length;++i<a;){var o=e[i],s=n?n(r[o],t[o],o,r,t):void 0;j(r,o,void 0===s?t[o]:s)}return r}function it(t,e){return nt(t,We(t),e)}function at(t){return q(t,At,We)}function ot(t,e){var r=t.__data__;return ht(e)?r["string"==typeof e?"string":"hash"]:r.map}function st(t,e){var r=c(t,e);return G(r)?r:void 0}function ut(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&we.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function ct(t){return"function"!=typeof t.constructor||dt(t)?{}:H(Be(t))}function ft(t,e,r,n){var i=t.constructor;switch(e){case Wt:return Q(t);case Pt:case Ot:return new i((+t));case Zt:return Y(t,n);case Qt:case Yt:case Jt:case $t:case Xt:case te:case ee:case re:case ne:return et(t,n);case Ut:return J(t,n,r);case jt:case qt:return new i(t);case Vt:return $(t);case Ht:return X(t,n,r);case zt:return tt(t)}}function lt(t,e){return e=null==e?Rt:e,!!e&&("number"==typeof t||se.test(t))&&t>-1&&t%1==0&&t<e}function ht(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function pt(t){return!!be&&be in t}function dt(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||ve;return t===r}function yt(t){if(null!=t){try{return Ee.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function gt(t){return V(t,!1,!0)}function vt(t,e){return t===e||t!==t&&e!==e}function mt(t){return Et(t)&&we.call(t,"callee")&&(!ke.call(t,"callee")||_e.call(t)==Nt)}function bt(t){return null!=t&&_t(t.length)&&!wt(t)}function Et(t){return St(t)&&bt(t)}function wt(t){var e=Ct(t)?_e.call(t):"";return e==xt||e==Dt}function _t(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Rt}function Ct(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function St(t){return!!t&&"object"==typeof t}function At(t){return bt(t)?U(t):W(t)}function Tt(){return[]}function Bt(){return!1}var It=200,kt="__lodash_hash_undefined__",Rt=9007199254740991,Nt="[object Arguments]",Ft="[object Array]",Pt="[object Boolean]",Ot="[object Date]",Lt="[object Error]",xt="[object Function]",Dt="[object GeneratorFunction]",Ut="[object Map]",jt="[object Number]",Mt="[object Object]",Kt="[object Promise]",Vt="[object RegExp]",Ht="[object Set]",qt="[object String]",zt="[object Symbol]",Gt="[object WeakMap]",Wt="[object ArrayBuffer]",Zt="[object DataView]",Qt="[object Float32Array]",Yt="[object Float64Array]",Jt="[object Int8Array]",$t="[object Int16Array]",Xt="[object Int32Array]",te="[object Uint8Array]",ee="[object Uint8ClampedArray]",re="[object Uint16Array]",ne="[object Uint32Array]",ie=/[\\^$.*+?()[\]{}|]/g,ae=/\w*$/,oe=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,ue={};ue[Nt]=ue[Ft]=ue[Wt]=ue[Zt]=ue[Pt]=ue[Ot]=ue[Qt]=ue[Yt]=ue[Jt]=ue[$t]=ue[Xt]=ue[Ut]=ue[jt]=ue[Mt]=ue[Vt]=ue[Ht]=ue[qt]=ue[zt]=ue[te]=ue[ee]=ue[re]=ue[ne]=!0,ue[Lt]=ue[xt]=ue[Gt]=!1;var ce="object"==typeof t&&t&&t.Object===Object&&t,fe="object"==typeof self&&self&&self.Object===Object&&self,le=ce||fe||Function("return this")(),he="object"==typeof e&&e&&!e.nodeType&&e,pe=he&&"object"==typeof r&&r&&!r.nodeType&&r,de=pe&&pe.exports===he,ye=Array.prototype,ge=Function.prototype,ve=Object.prototype,me=le["__core-js_shared__"],be=function(){var t=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ee=ge.toString,we=ve.hasOwnProperty,_e=ve.toString,Ce=RegExp("^"+Ee.call(we).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Se=de?le.Buffer:void 0,Ae=le.Symbol,Te=le.Uint8Array,Be=h(Object.getPrototypeOf,Object),Ie=Object.create,ke=ve.propertyIsEnumerable,Re=ye.splice,Ne=Object.getOwnPropertySymbols,Fe=Se?Se.isBuffer:void 0,Pe=h(Object.keys,Object),Oe=st(le,"DataView"),Le=st(le,"Map"),xe=st(le,"Promise"),De=st(le,"Set"),Ue=st(le,"WeakMap"),je=st(Object,"create"),Me=yt(Oe),Ke=yt(Le),Ve=yt(xe),He=yt(De),qe=yt(Ue),ze=Ae?Ae.prototype:void 0,Ge=ze?ze.valueOf:void 0;d.prototype.clear=y,d.prototype["delete"]=g,d.prototype.get=v,d.prototype.has=m,d.prototype.set=b,E.prototype.clear=w,E.prototype["delete"]=_,E.prototype.get=C,E.prototype.has=S,E.prototype.set=A,T.prototype.clear=B,T.prototype["delete"]=I,T.prototype.get=k,T.prototype.has=R,T.prototype.set=N,F.prototype.clear=P,F.prototype["delete"]=O,F.prototype.get=L,F.prototype.has=x,F.prototype.set=D;var We=Ne?h(Ne,Object):Tt,Ze=z;(Oe&&Ze(new Oe(new ArrayBuffer(1)))!=Zt||Le&&Ze(new Le)!=Ut||xe&&Ze(xe.resolve())!=Kt||De&&Ze(new De)!=Ht||Ue&&Ze(new Ue)!=Gt)&&(Ze=function(t){var e=_e.call(t),r=e==Mt?t.constructor:void 0,n=r?yt(r):void 0;if(n)switch(n){case Me:return Zt;case Ke:return Ut;case Ve:return Kt;case He:return Ht;case qe:return Gt}return e});var Qe=Array.isArray,Ye=Fe||Bt;r.exports=gt}).call(e,function(){return this}(),r(21)(t))},function(t,e,r){(function(e){/*!
	 * util/utf8.js - Implementation of UTF-8 Encoder/Decoder
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t){for(var e,r=0;!e&&s.length>r;r++)t instanceof s[r]&&(e=s[r]);return e}function i(t,r){if(e.isBuffer(r))r=new e(r);else{var i=n(r);r=i?new i(r,r.byteOffset,r.byteLength):void 0}return t=r,r}var a=r(86),o=r(87),s=function(){var t=[];return"undefined"!=typeof Uint8ClampedArray&&t.push(Uint8ClampedArray),"undefined"!=typeof Uint8Array&&t.push(Uint8Array),"undefined"!=typeof Uint16Array&&t.push(Uint16Array),"undefined"!=typeof Uint32Array&&t.push(Uint32Array),"undefined"!=typeof Float32Array&&t.push(Float32Array),"undefined"!=typeof Float64Array&&t.push(Float64Array),t}();t.exports=a(o,i)}).call(e,r(1).Buffer)},function(t,e){(function(e){function r(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function n(t,e){for(var r=-1,n=t?t.length:0;++r<n&&e(t[r],r,t)!==!1;);return t}function i(t,e){var r=t?t.length:0;return!!r&&o(t,e,0)>-1}function a(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function o(t,e,r){if(e!==e)return a(t,s,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function s(t){return t!==t}function u(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&n++;return n}function c(t,e){return null==t?void 0:t[e]}function f(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function l(t,e){for(var r=-1,n=t.length,i=0,a=[];++r<n;){var o=t[r];o!==e&&o!==q||(t[r]=q,a[i++]=r)}return a}function h(t){return L(t)?Nt(t):{}}function p(t){if(!L(t)||R(t))return!1;var e=O(t)||f(t)?Rt:gt;return e.test(F(t))}function d(t,e){return e=Ft(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Ft(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=o,r(t,this,s)}}function y(t,e,r,n){for(var i=-1,a=t.length,o=r.length,s=-1,u=e.length,c=Ft(a-o,0),f=Array(u+c),l=!n;++s<u;)f[s]=e[s];for(;++i<o;)(l||i<a)&&(f[r[i]]=t[i]);for(;c--;)f[s++]=t[i++];return f}function g(t,e,r,n){for(var i=-1,a=t.length,o=-1,s=r.length,u=-1,c=e.length,f=Ft(a-s,0),l=Array(f+c),h=!n;++i<f;)l[i]=t[i];for(var p=i;++u<c;)l[p+u]=e[u];for(;++o<s;)(h||i<a)&&(l[p+r[o]]=t[i++]);return l}function v(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function m(t,e,r){function n(){var e=this&&this!==_t&&this instanceof n?a:t;return e.apply(i?r:this,arguments)}var i=e&z,a=b(t);return n}function b(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=h(t.prototype),n=t.apply(r,e);return L(n)?n:r}}function E(t,e,n){function i(){for(var o=arguments.length,s=Array(o),u=o,c=A(i);u--;)s[u]=arguments[u];var f=o<3&&s[0]!==c&&s[o-1]!==c?[]:l(s,c);if(o-=f.length,o<n)return C(t,e,w,i.placeholder,void 0,s,f,void 0,void 0,n-o);var h=this&&this!==_t&&this instanceof i?a:t;return r(h,this,s)}var a=b(t);return i}function w(t,e,r,n,i,a,o,s,c,f){function h(){for(var S=arguments.length,T=Array(S),B=S;B--;)T[B]=arguments[B];if(m)var I=A(h),k=u(T,I);if(n&&(T=y(T,n,i,m)),a&&(T=g(T,a,o,m)),S-=k,m&&S<f){var R=l(T,I);return C(t,e,w,h.placeholder,r,T,R,s,c,f-S)}var F=d?r:this,P=v?F[t]:t;return S=T.length,s?T=N(T,s):E&&S>1&&T.reverse(),p&&c<S&&(T.length=c),this&&this!==_t&&this instanceof h&&(P=_||b(P)),P.apply(F,T)}var p=e&$,d=e&z,v=e&G,m=e&(Z|Q),E=e&tt,_=v?void 0:b(t);return h}function _(t,e,n,i){function a(){for(var e=-1,u=arguments.length,c=-1,f=i.length,l=Array(f+u),h=this&&this!==_t&&this instanceof a?s:t;++c<f;)l[c]=i[c];for(;u--;)l[c++]=arguments[++e];return r(h,o?n:this,l)}var o=e&z,s=b(t);return a}function C(t,e,r,n,i,a,o,s,u,c){var f=e&Z,l=f?o:void 0,h=f?void 0:o,p=f?a:void 0,d=f?void 0:a;e|=f?Y:J,e&=~(f?J:Y),e&W||(e&=~(z|G));var y=r(t,e,i,p,l,d,h,s,u,c);return y.placeholder=n,Lt(y,t,e)}function S(t,e,r,n,i,a,o,s){var u=e&G;if(!u&&"function"!=typeof t)throw new TypeError(H);var c=n?n.length:0;if(c||(e&=~(Y|J),n=i=void 0),o=void 0===o?o:Ft(j(o),0),s=void 0===s?s:j(s),c-=i?i.length:0,e&J){var f=n,l=i;n=i=void 0}var h=[t,e,r,n,i,f,l,a,o,s];if(t=h[0],e=h[1],r=h[2],n=h[3],i=h[4],s=h[9]=null==h[9]?u?0:t.length:Ft(h[9]-c,0),!s&&e&(Z|Q)&&(e&=~(Z|Q)),e&&e!=z)p=e==Z||e==Q?E(t,e,s):e!=Y&&e!=(z|Y)||i.length?w.apply(void 0,h):_(t,e,r,n);else var p=m(t,e,r);return Lt(p,t,e)}function A(t){var e=t;return e.placeholder}function T(t,e){var r=c(t,e);return p(r)?r:void 0}function B(t){var e=t.match(ht);return e?e[1].split(pt):[]}function I(t,e){var r=e.length,n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(lt,"{\n/* [wrapped with "+e+"] */\n")}function k(t,e){return e=null==e?rt:e,!!e&&("number"==typeof t||mt.test(t))&&t>-1&&t%1==0&&t<e}function R(t){return!!Tt&&Tt in t}function N(t,e){for(var r=t.length,n=Pt(e.length,r),i=v(t);n--;){var a=e[n];t[n]=k(a,r)?i[a]:void 0}return t}function F(t){if(null!=t){try{return Bt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function P(t,e){return n(at,function(r){var n="_."+r[0];e&r[1]&&!i(t,n)&&t.push(n)}),t.sort()}function O(t){var e=L(t)?kt.call(t):"";return e==ot||e==st}function L(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function x(t){return!!t&&"object"==typeof t}function D(t){return"symbol"==typeof t||x(t)&&kt.call(t)==ut}function U(t){if(!t)return 0===t?t:0;if(t=M(t),t===et||t===-et){var e=t<0?-1:1;return e*nt}return t===t?t:0}function j(t){var e=U(t),r=e%1;return e===e?r?e-r:e:0}function M(t){if("number"==typeof t)return t;if(D(t))return it;if(L(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=L(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ft,"");var r=yt.test(t);return r||vt.test(t)?bt(t.slice(2),r?2:8):dt.test(t)?it:+t}function K(t){return function(){return t}}function V(t){return t}var H="Expected a function",q="__lodash_placeholder__",z=1,G=2,W=4,Z=8,Q=16,Y=32,J=64,$=128,X=256,tt=512,et=1/0,rt=9007199254740991,nt=1.7976931348623157e308,it=NaN,at=[["ary",$],["bind",z],["bindKey",G],["curry",Z],["curryRight",Q],["flip",tt],["partial",Y],["partialRight",J],["rearg",X]],ot="[object Function]",st="[object GeneratorFunction]",ut="[object Symbol]",ct=/[\\^$.*+?()[\]{}|]/g,ft=/^\s+|\s+$/g,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ht=/\{\n\/\* \[wrapped with (.+)\] \*/,pt=/,? & /,dt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,gt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,bt=parseInt,Et="object"==typeof e&&e&&e.Object===Object&&e,wt="object"==typeof self&&self&&self.Object===Object&&self,_t=Et||wt||Function("return this")(),Ct=Function.prototype,St=Object.prototype,At=_t["__core-js_shared__"],Tt=function(){var t=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Bt=Ct.toString,It=St.hasOwnProperty,kt=St.toString,Rt=RegExp("^"+Bt.call(It).replace(ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=Object.create,Ft=Math.max,Pt=Math.min,Ot=function(){var t=T(Object,"defineProperty"),e=T.name;return e&&e.length>2?t:void 0}(),Lt=Ot?function(t,e,r){var n=e+"";return Ot(t,"toString",{configurable:!0,enumerable:!1,value:K(I(n,P(B(n),r)))})}:V,xt=d(function(t,e){var r=l(e,A(xt));return S(t,J,void 0,e,r)});xt.placeholder={},t.exports=xt}).call(e,function(){return this}())},function(t,e,r){(function(t,r){function n(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function a(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function o(t,e){for(var r=-1,n=t?t.length:0;++r<n&&e(t[r],r,t)!==!1;);return t}function s(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function u(t,e,r,n){var i=-1,a=t?t.length:0;for(n&&a&&(r=t[++i]);++i<a;)r=e(r,t[i],i,t);return r}function c(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function f(t){return function(e){return t(e)}}function l(t,e){return null==t?void 0:t[e]}function h(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function p(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function d(t,e){return function(r){return t(e(r))}}function y(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function g(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function v(){this.__data__=ir?ir(null):{}}function m(t){return this.has(t)&&delete this.__data__[t]}function b(t){var e=this.__data__;if(ir){var r=e[t];return r===Vt?void 0:r}return Ue.call(e,t)?e[t]:void 0}function E(t){var e=this.__data__;return ir?void 0!==e[t]:Ue.call(e,t)}function w(t,e){var r=this.__data__;return r[t]=ir&&void 0===e?Vt:e,this}function _(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function C(){this.__data__=[]}function S(t){var e=this.__data__,r=H(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Ze.call(e,r,1),!0}function A(t){var e=this.__data__,r=H(e,t);return r<0?void 0:e[r][1]}function T(t){return H(this.__data__,t)>-1}function B(t,e){var r=this.__data__,n=H(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function I(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function k(){this.__data__={hash:new g,map:new(tr||_),string:new g}}function R(t){return yt(this,t)["delete"](t)}function N(t){return yt(this,t).get(t)}function F(t){return yt(this,t).has(t)}function P(t,e){return yt(this,t).set(t,e),this}function O(t){this.__data__=new _(t)}function L(){this.__data__=new _}function x(t){return this.__data__["delete"](t)}function D(t){return this.__data__.get(t)}function U(t){return this.__data__.has(t)}function j(t,e){var r=this.__data__;if(r instanceof _){var n=r.__data__;if(!tr||n.length<Kt-1)return n.push([t,e]),this;r=this.__data__=new I(n)}return r.set(t,e),this}function M(t,e){var r=dr(t)||It(t)?c(t.length,String):[],n=r.length,i=!!n;for(var a in t)!e&&!Ue.call(t,a)||i&&("length"==a||Et(a,n))||r.push(a);return r}function K(t,e,r){(void 0===r||Bt(t[e],r))&&("number"!=typeof e||void 0!==r||e in t)||(t[e]=r)}function V(t,e,r){var n=t[e];Ue.call(t,e)&&Bt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function H(t,e){for(var r=t.length;r--;)if(Bt(t[r][0],e))return r;return-1}function q(t,e){return t&&lt(e,Dt(e),t)}function z(t,e,r,n,i,a,s){var u;if(n&&(u=a?n(t,i,a,s):n(t)),void 0!==u)return u;if(!Pt(t))return t;var c=dr(t);if(c){if(u=vt(t),!e)return ft(t,u)}else{var f=pr(t),l=f==Qt||f==Yt;if(yr(t))return rt(t,e);if(f==Xt||f==qt||l&&!a){if(h(t))return a?t:{};if(u=mt(l?{}:t),!e)return ht(t,q(u,t))}else{if(!_e[f])return a?t:{};u=bt(t,f,z,e)}}s||(s=new O);var p=s.get(t);if(p)return p;if(s.set(t,u),!c)var d=r?dt(t):Dt(t);return o(d||t,function(i,a){d&&(a=i,i=t[a]),V(u,a,z(i,e,r,n,a,t,s))}),u}function G(t){return Pt(t)?Ge(t):{}}function W(t,e,r){var n=e(t);return dr(t)?n:s(n,r(t))}function Z(t){return Me.call(t)}function Q(t){if(!Pt(t)||Ct(t))return!1;var e=Nt(t)||h(t)?Ke:be;return e.test(Tt(t))}function Y(t){return Ot(t)&&Ft(t.length)&&!!we[Me.call(t)]}function J(t){if(!St(t))return Je(t);var e=[];for(var r in Object(t))Ue.call(t,r)&&"constructor"!=r&&e.push(r);return e}function $(t){if(!Pt(t))return At(t);var e=St(t),r=[];for(var n in t)("constructor"!=n||!e&&Ue.call(t,n))&&r.push(n);return r}function X(t,e,r,n,i){if(t!==e){if(!dr(e)&&!gr(e))var a=$(e);o(a||e,function(o,s){if(a&&(s=o,o=e[s]),Pt(o))i||(i=new O),tt(t,e,s,r,X,n,i);else{var u=n?n(t[s],o,s+"",t,e,i):void 0;void 0===u&&(u=o),K(t,s,u)}})}}function tt(t,e,r,n,i,a,o){var s=t[r],u=e[r],c=o.get(u);if(c)return void K(t,r,c);var f=a?a(s,u,r+"",t,e,o):void 0,l=void 0===f;l&&(f=u,dr(u)||gr(u)?dr(s)?f=s:Rt(s)?f=ft(s):(l=!1,f=z(u,!0)):Lt(u)||It(u)?It(s)?f=xt(s):!Pt(s)||n&&Nt(s)?(l=!1,f=z(u,!0)):f=s:l=!1),l&&(o.set(u,f),i(f,u,n,a,o),o["delete"](u)),K(t,r,f)}function et(t,e){return e=$e(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,i=$e(r.length-e,0),o=Array(i);++n<i;)o[n]=r[e+n];n=-1;for(var s=Array(e+1);++n<e;)s[n]=r[n];return s[e]=o,a(t,this,s)}}function rt(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function nt(t){var e=new t.constructor(t.byteLength);return new qe(e).set(new qe(t)),e}function it(t,e){var r=e?nt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}function at(t,e,r){var i=e?r(p(t),!0):p(t);return u(i,n,new t.constructor)}function ot(t){var e=new t.constructor(t.source,me.exec(t));return e.lastIndex=t.lastIndex,e}function st(t,e,r){var n=e?r(y(t),!0):y(t);return u(n,i,new t.constructor)}function ut(t){return lr?Object(lr.call(t)):{}}function ct(t,e){var r=e?nt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function ft(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}function lt(t,e,r,n){r||(r={});for(var i=-1,a=e.length;++i<a;){var o=e[i],s=n?n(r[o],t[o],o,r,t):void 0;V(r,o,void 0===s?t[o]:s)}return r}function ht(t,e){return lt(t,hr(t),e)}function pt(t){return et(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,o&&wt(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}function dt(t){return W(t,Dt,hr)}function yt(t,e){var r=t.__data__;return _t(e)?r["string"==typeof e?"string":"hash"]:r.map}function gt(t,e){var r=l(t,e);return Q(r)?r:void 0}function vt(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&Ue.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function mt(t){return"function"!=typeof t.constructor||St(t)?{}:G(ze(t))}function bt(t,e,r,n){var i=t.constructor;switch(e){case oe:return nt(t);case Gt:case Wt:return new i((+t));case se:return it(t,n);case ue:case ce:case fe:case le:case he:case pe:case de:case ye:case ge:return ct(t,n);case Jt:return at(t,n,r);case $t:case ne:return new i(t);case ee:return ot(t);case re:return st(t,n,r);case ie:return ut(t)}}function Et(t,e){return e=null==e?Ht:e,!!e&&("number"==typeof t||Ee.test(t))&&t>-1&&t%1==0&&t<e}function wt(t,e,r){if(!Pt(r))return!1;var n=typeof e;return!!("number"==n?kt(r)&&Et(e,r.length):"string"==n&&e in r)&&Bt(r[e],t)}function _t(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ct(t){return!!xe&&xe in t}function St(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||Oe;return t===r}function At(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}function Tt(t){if(null!=t){try{return De.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Bt(t,e){return t===e||t!==t&&e!==e}function It(t){return Rt(t)&&Ue.call(t,"callee")&&(!We.call(t,"callee")||Me.call(t)==qt)}function kt(t){return null!=t&&Ft(t.length)&&!Nt(t)}function Rt(t){return Ot(t)&&kt(t)}function Nt(t){var e=Pt(t)?Me.call(t):"";return e==Qt||e==Yt}function Ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ht}function Pt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ot(t){return!!t&&"object"==typeof t}function Lt(t){if(!Ot(t)||Me.call(t)!=Xt||h(t))return!1;var e=ze(t);if(null===e)return!0;var r=Ue.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&De.call(r)==je}function xt(t){return lt(t,Ut(t))}function Dt(t){return kt(t)?M(t):J(t)}function Ut(t){return kt(t)?M(t,!0):$(t)}function jt(){return[]}function Mt(){return!1}var Kt=200,Vt="__lodash_hash_undefined__",Ht=9007199254740991,qt="[object Arguments]",zt="[object Array]",Gt="[object Boolean]",Wt="[object Date]",Zt="[object Error]",Qt="[object Function]",Yt="[object GeneratorFunction]",Jt="[object Map]",$t="[object Number]",Xt="[object Object]",te="[object Promise]",ee="[object RegExp]",re="[object Set]",ne="[object String]",ie="[object Symbol]",ae="[object WeakMap]",oe="[object ArrayBuffer]",se="[object DataView]",ue="[object Float32Array]",ce="[object Float64Array]",fe="[object Int8Array]",le="[object Int16Array]",he="[object Int32Array]",pe="[object Uint8Array]",de="[object Uint8ClampedArray]",ye="[object Uint16Array]",ge="[object Uint32Array]",ve=/[\\^$.*+?()[\]{}|]/g,me=/\w*$/,be=/^\[object .+?Constructor\]$/,Ee=/^(?:0|[1-9]\d*)$/,we={};we[ue]=we[ce]=we[fe]=we[le]=we[he]=we[pe]=we[de]=we[ye]=we[ge]=!0,we[qt]=we[zt]=we[oe]=we[Gt]=we[se]=we[Wt]=we[Zt]=we[Qt]=we[Jt]=we[$t]=we[Xt]=we[ee]=we[re]=we[ne]=we[ae]=!1;var _e={};_e[qt]=_e[zt]=_e[oe]=_e[se]=_e[Gt]=_e[Wt]=_e[ue]=_e[ce]=_e[fe]=_e[le]=_e[he]=_e[Jt]=_e[$t]=_e[Xt]=_e[ee]=_e[re]=_e[ne]=_e[ie]=_e[pe]=_e[de]=_e[ye]=_e[ge]=!0,_e[Zt]=_e[Qt]=_e[ae]=!1;var Ce="object"==typeof t&&t&&t.Object===Object&&t,Se="object"==typeof self&&self&&self.Object===Object&&self,Ae=Ce||Se||Function("return this")(),Te="object"==typeof e&&e&&!e.nodeType&&e,Be=Te&&"object"==typeof r&&r&&!r.nodeType&&r,Ie=Be&&Be.exports===Te,ke=Ie&&Ce.process,Re=function(){try{return ke&&ke.binding("util")}catch(t){}}(),Ne=Re&&Re.isTypedArray,Fe=Array.prototype,Pe=Function.prototype,Oe=Object.prototype,Le=Ae["__core-js_shared__"],xe=function(){var t=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),De=Pe.toString,Ue=Oe.hasOwnProperty,je=De.call(Object),Me=Oe.toString,Ke=RegExp("^"+De.call(Ue).replace(ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=Ie?Ae.Buffer:void 0,He=Ae.Symbol,qe=Ae.Uint8Array,ze=d(Object.getPrototypeOf,Object),Ge=Object.create,We=Oe.propertyIsEnumerable,Ze=Fe.splice,Qe=Object.getOwnPropertySymbols,Ye=Ve?Ve.isBuffer:void 0,Je=d(Object.keys,Object),$e=Math.max,Xe=gt(Ae,"DataView"),tr=gt(Ae,"Map"),er=gt(Ae,"Promise"),rr=gt(Ae,"Set"),nr=gt(Ae,"WeakMap"),ir=gt(Object,"create"),ar=Tt(Xe),or=Tt(tr),sr=Tt(er),ur=Tt(rr),cr=Tt(nr),fr=He?He.prototype:void 0,lr=fr?fr.valueOf:void 0;g.prototype.clear=v,g.prototype["delete"]=m,g.prototype.get=b,g.prototype.has=E,g.prototype.set=w,_.prototype.clear=C,_.prototype["delete"]=S,_.prototype.get=A,_.prototype.has=T,_.prototype.set=B,I.prototype.clear=k,I.prototype["delete"]=R,I.prototype.get=N,I.prototype.has=F,I.prototype.set=P,O.prototype.clear=L,O.prototype["delete"]=x,O.prototype.get=D,O.prototype.has=U,O.prototype.set=j;var hr=Qe?d(Qe,Object):jt,pr=Z;(Xe&&pr(new Xe(new ArrayBuffer(1)))!=se||tr&&pr(new tr)!=Jt||er&&pr(er.resolve())!=te||rr&&pr(new rr)!=re||nr&&pr(new nr)!=ae)&&(pr=function(t){var e=Me.call(t),r=e==Xt?t.constructor:void 0,n=r?Tt(r):void 0;if(n)switch(n){case ar:return se;case or:return Jt;case sr:return te;case ur:return re;case cr:return ae}return e});var dr=Array.isArray,yr=Ye||Mt,gr=Ne?f(Ne):Y,vr=pt(function(t,e,r){X(t,e,r)});r.exports=vr}).call(e,function(){return this}(),r(21)(t))},function(t,e){(function(e){function r(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function n(t,e){var r=t?t.length:0;return!!r&&u(t,e,0)>-1}function i(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function a(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function o(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function s(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function u(t,e,r){if(e!==e)return s(t,c,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function c(t){return t!==t}function f(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function l(t){return function(e){return t(e)}}function h(t,e){return t.has(e)}function p(t,e){return null==t?void 0:t[e]}function d(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function y(t,e){return function(r){return t(e(r))}}function g(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function v(){this.__data__=Gt?Gt(null):{}}function m(t){return this.has(t)&&delete this.__data__[t]}function b(t){var e=this.__data__;if(Gt){var r=e[t];return r===gt?void 0:r}return Lt.call(e,t)?e[t]:void 0}function E(t){var e=this.__data__;return Gt?void 0!==e[t]:Lt.call(e,t)}function w(t,e){var r=this.__data__;return r[t]=Gt&&void 0===e?gt:e,this}function _(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function C(){this.__data__=[]}function S(t){var e=this.__data__,r=U(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Kt.call(e,r,1),!0}function A(t){var e=this.__data__,r=U(e,t);return r<0?void 0:e[r][1]}function T(t){return U(this.__data__,t)>-1}function B(t,e){var r=this.__data__,n=U(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function I(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function k(){this.__data__={hash:new g,map:new(zt||_),string:new g}}function R(t){return Z(this,t)["delete"](t)}function N(t){return Z(this,t).get(t)}function F(t){return Z(this,t).has(t)}function P(t,e){return Z(this,t).set(t,e),this}function O(t){var e=-1,r=t?t.length:0;for(this.__data__=new I;++e<r;)this.add(t[e])}function L(t){return this.__data__.set(t,gt),this}function x(t){return this.__data__.has(t)}function D(t,e){var r=Qt(t)||at(t)?f(t.length,String):[],n=r.length,i=!!n;for(var a in t)!e&&!Lt.call(t,a)||i&&("length"==a||J(a,n))||r.push(a);return r}function U(t,e){for(var r=t.length;r--;)if(it(t[r][0],e))return r;return-1}function j(t,e,r,o){var s=-1,u=n,c=!0,f=t.length,p=[],d=e.length;if(!f)return p;r&&(e=a(e,l(r))),o?(u=i,c=!1):e.length>=yt&&(u=h,c=!1,e=new O(e));t:for(;++s<f;){var y=t[s],g=r?r(y):y;if(y=o||0!==y?y:0,c&&g===g){for(var v=d;v--;)if(e[v]===g)continue t;p.push(y)}else u(e,g,o)||p.push(y)}return p}function M(t,e,r,n,i){var a=-1,s=t.length;for(r||(r=Y),i||(i=[]);++a<s;){var u=t[a];e>0&&r(u)?e>1?M(u,e-1,r,n,i):o(i,u):n||(i[i.length]=u)}return i}function K(t,e,r){var n=e(t);return Qt(t)?n:o(n,r(t))}function V(t){if(!ft(t)||X(t))return!1;var e=ut(t)||d(t)?Dt:St;return e.test(nt(t))}function H(t){if(!ft(t))return et(t);var e=tt(t),r=[];for(var n in t)("constructor"!=n||!e&&Lt.call(t,n))&&r.push(n);return r}function q(t,e){return t=Object(t),z(t,e,function(e,r){return r in t})}function z(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=t[o];r(s,o)&&(a[o]=s)}return a}function G(t,e){return e=qt(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=qt(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=o,r(t,this,s)}}function W(t){return K(t,pt,Zt)}function Z(t,e){var r=t.__data__;return $(e)?r["string"==typeof e?"string":"hash"]:r.map}function Q(t,e){var r=p(t,e);return V(r)?r:void 0}function Y(t){return Qt(t)||at(t)||!!(Vt&&t&&t[Vt])}function J(t,e){return e=null==e?mt:e,!!e&&("number"==typeof t||At.test(t))&&t>-1&&t%1==0&&t<e}function $(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function X(t){return!!Pt&&Pt in t}function tt(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||Nt;return t===r}function et(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}function rt(t){if("string"==typeof t||ht(t))return t;var e=t+"";return"0"==e&&1/t==-vt?"-0":e}function nt(t){if(null!=t){try{return Ot.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function it(t,e){return t===e||t!==t&&e!==e}function at(t){return st(t)&&Lt.call(t,"callee")&&(!Mt.call(t,"callee")||xt.call(t)==bt)}function ot(t){return null!=t&&ct(t.length)&&!ut(t)}function st(t){return lt(t)&&ot(t)}function ut(t){var e=ft(t)?xt.call(t):"";return e==Et||e==wt}function ct(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=mt}function ft(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function lt(t){return!!t&&"object"==typeof t}function ht(t){return"symbol"==typeof t||lt(t)&&xt.call(t)==_t}function pt(t){return ot(t)?D(t,!0):H(t)}function dt(){return[]}var yt=200,gt="__lodash_hash_undefined__",vt=1/0,mt=9007199254740991,bt="[object Arguments]",Et="[object Function]",wt="[object GeneratorFunction]",_t="[object Symbol]",Ct=/[\\^$.*+?()[\]{}|]/g,St=/^\[object .+?Constructor\]$/,At=/^(?:0|[1-9]\d*)$/,Tt="object"==typeof e&&e&&e.Object===Object&&e,Bt="object"==typeof self&&self&&self.Object===Object&&self,It=Tt||Bt||Function("return this")(),kt=Array.prototype,Rt=Function.prototype,Nt=Object.prototype,Ft=It["__core-js_shared__"],Pt=function(){var t=/[^.]+$/.exec(Ft&&Ft.keys&&Ft.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ot=Rt.toString,Lt=Nt.hasOwnProperty,xt=Nt.toString,Dt=RegExp("^"+Ot.call(Lt).replace(Ct,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ut=It.Symbol,jt=y(Object.getPrototypeOf,Object),Mt=Nt.propertyIsEnumerable,Kt=kt.splice,Vt=Ut?Ut.isConcatSpreadable:void 0,Ht=Object.getOwnPropertySymbols,qt=Math.max,zt=Q(It,"Map"),Gt=Q(Object,"create");g.prototype.clear=v,g.prototype["delete"]=m,g.prototype.get=b,g.prototype.has=E,g.prototype.set=w,_.prototype.clear=C,_.prototype["delete"]=S,_.prototype.get=A,_.prototype.has=T,_.prototype.set=B,I.prototype.clear=k,I.prototype["delete"]=R,I.prototype.get=N,I.prototype.has=F,I.prototype.set=P,O.prototype.add=O.prototype.push=L,O.prototype.has=x;var Wt=Ht?y(Ht,Object):dt,Zt=Ht?function(t){for(var e=[];t;)o(e,Wt(t)),t=jt(t);return e}:dt,Qt=Array.isArray,Yt=G(function(t,e){return null==t?{}:(e=a(M(e,1),rt),q(t,j(W(t),e)))});t.exports=Yt}).call(e,function(){return this}())},function(t,e){(function(e){function r(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function n(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function i(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function a(t,e,r,n,o){var s=-1,u=t.length;for(r||(r=c),o||(o=[]);++s<u;){var f=t[s];e>0&&r(f)?e>1?a(f,e-1,r,n,o):i(o,f):n||(o[o.length]=f)}return o}function o(t,e){return t=Object(t),s(t,e,function(e,r){return r in t})}function s(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=t[o];r(s,o)&&(a[o]=s)}return a}function u(t,e){return e=O(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=O(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=o,r(t,this,s)}}function c(t){return L(t)||l(t)||!!(P&&t&&t[P])}function f(t){if("string"==typeof t||m(t))return t;var e=t+"";return"0"==e&&1/t==-b?"-0":e}function l(t){return p(t)&&k.call(t,"callee")&&(!F.call(t,"callee")||R.call(t)==w)}function h(t){return null!=t&&y(t.length)&&!d(t)}function p(t){return v(t)&&h(t)}function d(t){var e=g(t)?R.call(t):"";return e==_||e==C}function y(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=E}function g(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function v(t){return!!t&&"object"==typeof t}function m(t){return"symbol"==typeof t||v(t)&&R.call(t)==S}var b=1/0,E=9007199254740991,w="[object Arguments]",_="[object Function]",C="[object GeneratorFunction]",S="[object Symbol]",A="object"==typeof e&&e&&e.Object===Object&&e,T="object"==typeof self&&self&&self.Object===Object&&self,B=A||T||Function("return this")(),I=Object.prototype,k=I.hasOwnProperty,R=I.toString,N=B.Symbol,F=I.propertyIsEnumerable,P=N?N.isConcatSpreadable:void 0,O=Math.max,L=Array.isArray,x=u(function(t,e){return null==t?{}:o(t,n(a(e,1),f))});t.exports=x}).call(e,function(){return this}())},function(t,e,r){(function(e){/*!
	 * algorithms/ec-util.js - Elliptic Curve Utility Functions
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t,e){var r=e?["x","y"]:["d"];r=r.map(function(e){return new f.jsbn.BigInteger(t[e].toString("hex"),16)}),r=[t.crv].concat(r);var n=e?c.asPublicKey:c.asPrivateKey;return n.apply(c,r)}function i(t,e){var r=u(t),n=e?["x","y"]:["x","y","d"];return n.forEach(function(t){r[t]=l.base64url.encode(r[t])}),delete r.key_ops,delete r.use,delete r.alg,e&&delete r.d,r}function a(t,e){var r=u(t),n=e?["x","y"]:["d"];return n.forEach(function(t){r[t]=l.asBuffer(r[t],"base64url")}),r}function o(t,r){t=a(t,r);var n=r?e.concat([p,t.x,t.y]):t.d;return n}function s(t){return h[t||""]||NaN}var u=r(84),c=r(91),f=r(30),l=r(70),h={"P-256":256,"P-384":384,"P-521":521},p=new e([4]);t.exports={convertToForge:n,convertToJWK:i,convertToObj:a,convertToBuffer:o,curveSize:s}}).call(e,r(1).Buffer)},function(t,e,r){(function(t){"use strict";function n(t){return new h(t,16)}function i(e,r){r||(r=Math.ceil(e.bitLength()/8)),r=2*r;var n=e.toString(16);for(n=n.substring(Math.max(n.length-r,0));r>n.length;)n="0"+n;return new t(n,"hex")}function a(e){return"string"==typeof e&&(e=new t(e,"binary")),n(e.toString("hex"))}function o(t){return Math.ceil(t.getN().bitLength()/8)}function s(t){var e=d[t];if(!e)throw new TypeError("unsupported named curve: "+t);return e}function u(t,e){var r=t.getN().bitLength(),n=8*e.length,i=a(e);return r<n&&(i=i.shiftRight(n-r)),i}function c(t,e,r){var n=s(t),a=n.getCurve(),u=new p.ECPointFp(a,a.fromBigInteger(e),a.fromBigInteger(r));this.curve=t,this.params=n,this.point=u;var c=o(n);this.x=i(e,c),this.y=i(r,c)}function f(t,e){var r=s(t);this.curve=t,this.params=r;var n=o(r);this.d=i(e,n)}var l=r(30),h=r(92).BigInteger,p=r(93),d=r(94);c.prototype.verify=function(t,e){var r=this.params.getN(),n=this.params.getG(),i=a(e.r),o=a(e.s);if(i.compareTo(h.ONE)<0||i.compareTo(r)>=0)return!1;if(o.compareTo(h.ONE)<0||i.compareTo(r)>=0)return!1;var s=u(this.params,t),c=o.modInverse(r),f=s.multiply(c).mod(r),l=i.multiply(c).mod(r),p=n.multiplyTwo(f,this.point,l).getX().toBigInteger();return p=p.mod(r),p.equals(i)},f.prototype.toPublicKey=function(){var t=a(this.d),e=this.params.getG().multiply(t);return new c(this.curve,e.getX().toBigInteger(),e.getY().toBigInteger())},f.prototype.sign=function(t){var e,r,n,s,c,f=o(this.params),p=this.params.getN(),d=this.params.getG(),y=u(this.params,t),g=a(this.d);do{do{do n=a(l.random.getBytes(f));while(n.equals(h.ZERO)||n.compareTo(p)>=0);s=d.multiply(n).getX().toBigInteger(),e=s.mod(p)}while(e.equals(h.ZERO));c=g.multiply(e),c=y.add(c),r=n.modInverse(p).multiply(c).mod(p)}while(r.equals(h.ONE));var v=o(this.params);return e=i(e,v),r=i(r,v),{r:e,s:r}},f.prototype.computeSecret=function(t){var e=a(this.d),r=t.point.multiply(e).getX().toBigInteger();return r=i(r,o(this.params))},e.generateKeyPair=function(t){var e=s(t),r=e.getN(),n=l.random.getBytes(o(e));n=a(n);var i=r.subtract(h.ONE),u=n.mod(i).add(h.ONE),c=new f(t,u),p=c.toPublicKey();return{"private":c,"public":p}},e.asPublicKey=function(e,r,i){"string"==typeof r?r=n(r):t.isBuffer(r)&&(r=a(r)),"string"==typeof i?i=n(i):t.isBuffer(i)&&(i=a(i));var o=new c(e,r,i);return o},e.asPrivateKey=function(e,r){"string"==typeof r?r=n(r):t.isBuffer(r)&&(r=a(r));var i=new f(e,r);return i}}).call(e,r(1).Buffer)},function(t,e,r){(function(){function r(t,e,r){null!=t&&("number"==typeof t?this.fromNumber(t,e,r):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function n(){return new r(null)}function i(t,e,r,n,i,a){for(;--a>=0;){var o=e*this[t++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=67108863&o}return i}function a(t,e,r,n,i,a){for(var o=32767&e,s=e>>15;--a>=0;){var u=32767&this[t],c=this[t++]>>15,f=s*u+c*o;u=o*u+((32767&f)<<15)+r[n]+(1073741823&i),i=(u>>>30)+(f>>>15)+s*c+(i>>>30),r[n++]=1073741823&u}return i}function o(t,e,r,n,i,a){for(var o=16383&e,s=e>>14;--a>=0;){var u=16383&this[t],c=this[t++]>>14,f=s*u+c*o;u=o*u+((16383&f)<<14)+r[n]+i,i=(u>>28)+(f>>14)+s*c,r[n++]=268435455&u}return i}function s(t){return ge.charAt(t)}function u(t,e){var r=ve[t.charCodeAt(e)];return null==r?-1:r}function c(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function f(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function l(t){var e=n();return e.fromInt(t),e}function h(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var i=t.length,a=!1,o=0;--i>=0;){var s=8==n?255&t[i]:u(t,i);s<0?"-"==t.charAt(i)&&(a=!0):(a=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=n,o>=this.DB&&(o-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),a&&r.ZERO.subTo(this,this)}function p(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function d(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var r,n=(1<<e)-1,i=!1,a="",o=this.t,u=this.DB-o*this.DB%e;if(o-- >0)for(u<this.DB&&(r=this[o]>>u)>0&&(i=!0,a=s(r));o>=0;)u<e?(r=(this[o]&(1<<u)-1)<<e-u,r|=this[--o]>>(u+=this.DB-e)):(r=this[o]>>(u-=e)&n,u<=0&&(u+=this.DB,--o)),r>0&&(i=!0),i&&(a+=s(r));return i?a:"0"}function y(){var t=n();return r.ZERO.subTo(this,t),t}function g(){return this.s<0?this.negate():this}function v(t){var e=this.s-t.s;if(0!=e)return e;var r=this.t;if(e=r-t.t,0!=e)return this.s<0?-e:e;for(;--r>=0;)if(0!=(e=this[r]-t[r]))return e;return 0}function m(t){var e,r=1;return 0!=(e=t>>>16)&&(t=e,r+=16),0!=(e=t>>8)&&(t=e,r+=8),0!=(e=t>>4)&&(t=e,r+=4),0!=(e=t>>2)&&(t=e,r+=2),0!=(e=t>>1)&&(t=e,r+=1),r}function b(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)}function E(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s}function w(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s}function _(t,e){var r,n=t%this.DB,i=this.DB-n,a=(1<<i)-1,o=Math.floor(t/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)e[r+o+1]=this[r]>>i|s,s=(this[r]&a)<<n;for(r=o-1;r>=0;--r)e[r]=0;e[o]=s,e.t=this.t+o+1,e.s=this.s,e.clamp()}function C(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t)return void(e.t=0);var n=t%this.DB,i=this.DB-n,a=(1<<n)-1;e[0]=this[r]>>n;for(var o=r+1;o<this.t;++o)e[o-r-1]|=(this[o]&a)<<i,e[o-r]=this[o]>>n;n>0&&(e[this.t-r-1]|=(this.s&a)<<i),e.t=this.t-r,e.clamp()}function S(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]-t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t[r],e[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e[r++]=this.DV+n:n>0&&(e[r++]=n),e.t=r,e.clamp()}function A(t,e){var n=this.abs(),i=t.abs(),a=n.t;for(e.t=a+i.t;--a>=0;)e[a]=0;for(a=0;a<i.t;++a)e[a+n.t]=n.am(0,i[a],e,a,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&r.ZERO.subTo(e,e)}function T(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()}function B(t,e,i){var a=t.abs();if(!(a.t<=0)){var o=this.abs();if(o.t<a.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=n());var s=n(),u=this.s,c=t.s,f=this.DB-m(a[a.t-1]);f>0?(a.lShiftTo(f,s),o.lShiftTo(f,i)):(a.copyTo(s),o.copyTo(i));var l=s.t,h=s[l-1];if(0!=h){var p=h*(1<<this.F1)+(l>1?s[l-2]>>this.F2:0),d=this.FV/p,y=(1<<this.F1)/p,g=1<<this.F2,v=i.t,b=v-l,E=null==e?n():e;for(s.dlShiftTo(b,E),i.compareTo(E)>=0&&(i[i.t++]=1,i.subTo(E,i)),r.ONE.dlShiftTo(l,E),E.subTo(s,s);s.t<l;)s[s.t++]=0;for(;--b>=0;){var w=i[--v]==h?this.DM:Math.floor(i[v]*d+(i[v-1]+g)*y);if((i[v]+=s.am(0,w,i,b,0,l))<w)for(s.dlShiftTo(b,E),i.subTo(E,i);i[v]<--w;)i.subTo(E,i)}null!=e&&(i.drShiftTo(l,e),u!=c&&r.ZERO.subTo(e,e)),i.t=l,i.clamp(),f>0&&i.rShiftTo(f,i),u<0&&r.ZERO.subTo(i,i)}}}function I(t){var e=n();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(r.ZERO)>0&&t.subTo(e,e),e}function k(t){this.m=t}function R(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function N(t){return t}function F(t){t.divRemTo(this.m,null,t)}function P(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function O(t,e){t.squareTo(e),this.reduce(e)}function L(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function x(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function D(t){var e=n();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(r.ZERO)>0&&this.m.subTo(e,e),e}function U(t){var e=n();return t.copyTo(e),this.reduce(e),e}function j(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=32767&t[e],n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t[r]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function M(t,e){t.squareTo(e),this.reduce(e)}function K(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function V(){return 0==(this.t>0?1&this[0]:this.s)}function H(t,e){if(t>4294967295||t<1)return r.ONE;var i=n(),a=n(),o=e.convert(this),s=m(t)-1;for(o.copyTo(i);--s>=0;)if(e.sqrTo(i,a),(t&1<<s)>0)e.mulTo(a,o,i);else{var u=i;i=a,a=u}return e.revert(i)}function q(t,e){var r;return r=t<256||e.isEven()?new k(e):new x(e),this.exp(t,r)}function z(){var t=n();return this.copyTo(t),t}function G(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function W(){return 0==this.t?this.s:this[0]<<24>>24}function Z(){return 0==this.t?this.s:this[0]<<16>>16}function Q(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function Y(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function J(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),i=l(r),a=n(),o=n(),s="";for(this.divRemTo(i,a,o);a.signum()>0;)s=(r+o.intValue()).toString(t).substr(1)+s,a.divRemTo(i,a,o);return o.intValue().toString(t)+s}function $(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),i=Math.pow(e,n),a=!1,o=0,s=0,c=0;c<t.length;++c){var f=u(t,c);f<0?"-"==t.charAt(c)&&0==this.signum()&&(a=!0):(s=e*s+f,++o>=n&&(this.dMultiply(i),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),a&&r.ZERO.subTo(this,this)}function X(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(r.ONE.shiftLeft(t-1),st,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(r.ONE.shiftLeft(t-1),this);else{var i=new Array,a=7&t;i.length=(t>>3)+1,e.nextBytes(i),a>0?i[0]&=(1<<a)-1:i[0]=0,this.fromString(i,256)}}function tt(){var t=this.t,e=new Array;e[0]=this.s;var r,n=this.DB-t*this.DB%8,i=0;if(t-- >0)for(n<this.DB&&(r=this[t]>>n)!=(this.s&this.DM)>>n&&(e[i++]=r|this.s<<this.DB-n);t>=0;)n<8?(r=(this[t]&(1<<n)-1)<<8-n,r|=this[--t]>>(n+=this.DB-8)):(r=this[t]>>(n-=8)&255,n<=0&&(n+=this.DB,--t)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(e[i++]=r);return e}function et(t){return 0==this.compareTo(t)}function rt(t){return this.compareTo(t)<0?this:t}function nt(t){return this.compareTo(t)>0?this:t}function it(t,e,r){var n,i,a=Math.min(t.t,this.t);for(n=0;n<a;++n)r[n]=e(this[n],t[n]);if(t.t<this.t){for(i=t.s&this.DM,n=a;n<this.t;++n)r[n]=e(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<t.t;++n)r[n]=e(i,t[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function at(t,e){return t&e}function ot(t){var e=n();return this.bitwiseTo(t,at,e),e}function st(t,e){return t|e}function ut(t){var e=n();return this.bitwiseTo(t,st,e),e}function ct(t,e){return t^e}function ft(t){var e=n();return this.bitwiseTo(t,ct,e),e}function lt(t,e){return t&~e}function ht(t){var e=n();return this.bitwiseTo(t,lt,e),e}function pt(){for(var t=n(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function dt(t){var e=n();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function yt(t){var e=n();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function gt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function vt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+gt(this[t]);return this.s<0?this.t*this.DB:-1}function mt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function bt(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=mt(this[r]^e);return t}function Et(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function wt(t,e){var n=r.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n}function _t(t){return this.changeBit(t,st)}function Ct(t){return this.changeBit(t,lt)}function St(t){return this.changeBit(t,ct)}function At(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this[r]+t[r],e[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this[r],e[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t[r],e[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e[r++]=n:n<-1&&(e[r++]=this.DV+n),e.t=r,e.clamp()}function Tt(t){var e=n();return this.addTo(t,e),e}function Bt(t){var e=n();return this.subTo(t,e),e}function It(t){var e=n();return this.multiplyTo(t,e),e}function kt(){var t=n();return this.squareTo(t),t}function Rt(t){var e=n();return this.divRemTo(t,e,null),e}function Nt(t){var e=n();return this.divRemTo(t,null,e),e}function Ft(t){var e=n(),r=n();return this.divRemTo(t,e,r),new Array(e,r)}function Pt(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Ot(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Lt(){}function xt(t){return t}function Dt(t,e,r){t.multiplyTo(e,r)}function Ut(t,e){t.squareTo(e)}function jt(t){return this.exp(t,new Lt)}function Mt(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()}function Kt(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function Vt(t){this.r2=n(),this.q3=n(),r.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Ht(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=n();return t.copyTo(e),this.reduce(e),e}function qt(t){return t}function zt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Gt(t,e){t.squareTo(e),this.reduce(e)}function Wt(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Zt(t,e){var r,i,a=t.bitLength(),o=l(1);if(a<=0)return o;r=a<18?1:a<48?3:a<144?4:a<768?5:6,i=a<8?new k(e):e.isEven()?new Vt(e):new x(e);var s=new Array,u=3,c=r-1,f=(1<<r)-1;if(s[1]=i.convert(this),r>1){var h=n();for(i.sqrTo(s[1],h);u<=f;)s[u]=n(),i.mulTo(h,s[u-2],s[u]),u+=2}var p,d,y=t.t-1,g=!0,v=n();for(a=m(t[y])-1;y>=0;){for(a>=c?p=t[y]>>a-c&f:(p=(t[y]&(1<<a+1)-1)<<c-a,y>0&&(p|=t[y-1]>>this.DB+a-c)),u=r;0==(1&p);)p>>=1,--u;if((a-=u)<0&&(a+=this.DB,--y),g)s[p].copyTo(o),g=!1;else{for(;u>1;)i.sqrTo(o,v),i.sqrTo(v,o),u-=2;u>0?i.sqrTo(o,v):(d=o,o=v,v=d),i.mulTo(v,s[p],o)}for(;y>=0&&0==(t[y]&1<<a);)i.sqrTo(o,v),d=o,o=v,v=d,--a<0&&(a=this.DB-1,--y)}return i.revert(o)}function Qt(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(i<a&&(a=i),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function Yt(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(0==e)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r}function Jt(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return r.ZERO;for(var n=t.clone(),i=this.clone(),a=l(1),o=l(0),s=l(0),u=l(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(a.isEven()&&o.isEven()||(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),e?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(t,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);n.compareTo(i)>=0?(n.subTo(i,n),e&&a.subTo(s,a),o.subTo(u,o)):(i.subTo(n,i),e&&s.subTo(a,s),u.subTo(o,u))}return 0!=i.compareTo(r.ONE)?r.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u}function $t(t){var e,r=this.abs();if(1==r.t&&r[0]<=me[me.length-1]){for(e=0;e<me.length;++e)if(r[0]==me[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<me.length;){for(var n=me[e],i=e+1;i<me.length&&n<be;)n*=me[i++];for(n=r.modInt(n);e<i;)if(n%me[e++]==0)return!1}return r.millerRabin(t)}function Xt(t){var e=this.subtract(r.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var a=e.shiftRight(i);t=t+1>>1,t>me.length&&(t=me.length);for(var o=n(),s=0;s<t;++s){o.fromInt(me[Math.floor(Math.random()*me.length)]);var u=o.modPow(a,this);if(0!=u.compareTo(r.ONE)&&0!=u.compareTo(e)){for(var c=1;c++<i&&0!=u.compareTo(e);)if(u=u.modPowInt(2,this),0==u.compareTo(r.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0}function te(t){we[_e++]^=255&t,we[_e++]^=t>>8&255,we[_e++]^=t>>16&255,we[_e++]^=t>>24&255,_e>=Te&&(_e-=Te)}function ee(){te((new Date).getTime())}function re(){if(null==Ee){for(ee(),Ee=ue(),Ee.init(we),_e=0;_e<we.length;++_e)we[_e]=0;_e=0}return Ee.next()}function ne(t){var e;for(e=0;e<t.length;++e)t[e]=re()}function ie(){}function ae(){this.i=0,this.j=0,this.S=new Array}function oe(t){var e,r,n;for(e=0;e<256;++e)this.S[e]=e;for(r=0,e=0;e<256;++e)r=r+this.S[e]+t[e%t.length]&255,n=this.S[e],this.S[e]=this.S[r],this.S[r]=n;this.i=0,this.j=0}function se(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function ue(){return new ae}var ce,fe=0xdeadbeefcafe,le=15715070==(16777215&fe),he="undefined"!=typeof navigator;he&&le&&"Microsoft Internet Explorer"==navigator.appName?(r.prototype.am=a,ce=30):he&&le&&"Netscape"!=navigator.appName?(r.prototype.am=i,ce=26):(r.prototype.am=o,ce=28),r.prototype.DB=ce,r.prototype.DM=(1<<ce)-1,r.prototype.DV=1<<ce;var pe=52;r.prototype.FV=Math.pow(2,pe),r.prototype.F1=pe-ce,r.prototype.F2=2*ce-pe;var de,ye,ge="0123456789abcdefghijklmnopqrstuvwxyz",ve=new Array;for(de="0".charCodeAt(0),ye=0;ye<=9;++ye)ve[de++]=ye;for(de="a".charCodeAt(0),ye=10;ye<36;++ye)ve[de++]=ye;for(de="A".charCodeAt(0),ye=10;ye<36;++ye)ve[de++]=ye;k.prototype.convert=R,k.prototype.revert=N,k.prototype.reduce=F,k.prototype.mulTo=P,k.prototype.sqrTo=O,x.prototype.convert=D,x.prototype.revert=U,x.prototype.reduce=j,x.prototype.mulTo=K,x.prototype.sqrTo=M,r.prototype.copyTo=c,r.prototype.fromInt=f,r.prototype.fromString=h,r.prototype.clamp=p,r.prototype.dlShiftTo=E,r.prototype.drShiftTo=w,r.prototype.lShiftTo=_,r.prototype.rShiftTo=C,r.prototype.subTo=S,r.prototype.multiplyTo=A,r.prototype.squareTo=T,r.prototype.divRemTo=B,r.prototype.invDigit=L,r.prototype.isEven=V,r.prototype.exp=H,r.prototype.toString=d,r.prototype.negate=y,r.prototype.abs=g,r.prototype.compareTo=v,r.prototype.bitLength=b,r.prototype.mod=I,r.prototype.modPowInt=q,r.ZERO=l(0),r.ONE=l(1),Lt.prototype.convert=xt,Lt.prototype.revert=xt,Lt.prototype.mulTo=Dt,Lt.prototype.sqrTo=Ut,Vt.prototype.convert=Ht,Vt.prototype.revert=qt,Vt.prototype.reduce=zt,Vt.prototype.mulTo=Wt,Vt.prototype.sqrTo=Gt;var me=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],be=(1<<26)/me[me.length-1];r.prototype.chunkSize=Q,r.prototype.toRadix=J,r.prototype.fromRadix=$,r.prototype.fromNumber=X,r.prototype.bitwiseTo=it,r.prototype.changeBit=wt,r.prototype.addTo=At,r.prototype.dMultiply=Pt,r.prototype.dAddOffset=Ot,r.prototype.multiplyLowerTo=Mt,r.prototype.multiplyUpperTo=Kt,r.prototype.modInt=Yt,r.prototype.millerRabin=Xt,r.prototype.clone=z,r.prototype.intValue=G,r.prototype.byteValue=W,r.prototype.shortValue=Z,r.prototype.signum=Y,r.prototype.toByteArray=tt,r.prototype.equals=et,r.prototype.min=rt,r.prototype.max=nt,r.prototype.and=ot,r.prototype.or=ut,r.prototype.xor=ft,r.prototype.andNot=ht,r.prototype.not=pt,r.prototype.shiftLeft=dt,r.prototype.shiftRight=yt,r.prototype.getLowestSetBit=vt,r.prototype.bitCount=bt,r.prototype.testBit=Et,r.prototype.setBit=_t,r.prototype.clearBit=Ct,r.prototype.flipBit=St,r.prototype.add=Tt,r.prototype.subtract=Bt,r.prototype.multiply=It,r.prototype.divide=Rt,r.prototype.remainder=Nt,r.prototype.divideAndRemainder=Ft,r.prototype.modPow=Zt,r.prototype.modInverse=Jt,r.prototype.pow=jt,r.prototype.gcd=Qt,r.prototype.isProbablePrime=$t,r.prototype.square=kt,r.prototype.Barrett=Vt;var Ee,we,_e;if(null==we){we=new Array,_e=0;var Ce;if("undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var Se=new Uint8Array(32);for(window.crypto.getRandomValues(Se),Ce=0;Ce<32;++Ce)we[_e++]=Se[Ce]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var Ae=window.crypto.random(32);for(Ce=0;Ce<Ae.length;++Ce)we[_e++]=255&Ae.charCodeAt(Ce)}for(;_e<Te;)Ce=Math.floor(65536*Math.random()),we[_e++]=Ce>>>8,we[_e++]=255&Ce;_e=0,ee()}ie.prototype.nextBytes=ne,ae.prototype.init=oe,ae.prototype.next=se;var Te=256;e=t.exports={BigInteger:r,SecureRandom:ie}}).call(this)},function(t,e,r){"use strict";function n(t,e){this.x=e,this.q=t}function i(t){return t===this||this.q.equals(t.q)&&this.x.equals(t.x)}function a(){return this.x}function o(){return new n(this.q,this.x.negate().mod(this.q))}function s(t){return new n(this.q,this.x.add(t.toBigInteger()).mod(this.q))}function u(t){return new n(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))}function c(t){return new n(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))}function f(){return new n(this.q,this.x.square().mod(this.q))}function l(t){return new n(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))}function h(t,e,r,n){this.curve=t,this.x=e,this.y=r,n?this.z=n:this.z=P.ONE,this.zinv=null}function p(){this.zinv||(this.zinv=this.z.modInverse(this.curve.q));var t=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)}function d(){this.zinv||(this.zinv=this.z.modInverse(this.curve.q));var t=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(t),this.curve.fromBigInteger(t)}function y(t){if(t===this)return!0;if(this.isInfinity())return t.isInfinity();if(t.isInfinity())return this.isInfinity();var e,r;return e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),!!e.equals(P.ZERO)&&(r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q),r.equals(P.ZERO))}function g(){return null==this.x&&null==this.y||this.z.equals(P.ZERO)&&!this.y.toBigInteger().equals(P.ZERO)}function v(){return new h(this.curve,this.x,this.y.negate(),this.z)}function m(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),r=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(P.ZERO.equals(r))return P.ZERO.equals(e)?this.twice():this.curve.getInfinity();var n=new P("3"),i=this.x.toBigInteger(),a=this.y.toBigInteger(),o=r.square(),s=o.multiply(r),u=i.multiply(o),c=e.square().multiply(this.z),f=c.subtract(u.shiftLeft(1)).multiply(t.z).subtract(s).multiply(r).mod(this.curve.q),l=u.multiply(n).multiply(e).subtract(a.multiply(s)).subtract(c.multiply(e)).multiply(t.z).add(e.multiply(s)).mod(this.curve.q),p=s.multiply(this.z).multiply(t.z).mod(this.curve.q);return new h(this.curve,this.curve.fromBigInteger(f),this.curve.fromBigInteger(l),p)}function b(){if(this.isInfinity())return this;if(0===this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new P("3"),e=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),a=this.curve.a.toBigInteger(),o=e.square().multiply(t);P.ZERO.equals(a)||(o=o.add(this.z.square().multiply(a))),o=o.mod(this.curve.q);var s=o.square().subtract(e.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),u=o.multiply(t).multiply(e).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(o.square().multiply(o)).mod(this.curve.q),c=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new h(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(u),c)}function E(t){if(this.isInfinity())return this;if(0===t.signum())return this.curve.getInfinity();var e,r=t,n=r.multiply(new P("3")),i=this.negate(),a=this;for(e=n.bitLength()-2;e>0;--e){a=a.twice();var o=n.testBit(e),s=r.testBit(e);o!==s&&(a=a.add(o?this:i))}return a}function w(t,e,r){var n;n=t.bitLength()>r.bitLength()?t.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),a=this.add(e);n>=0;)i=i.twice(),t.testBit(n)?i=r.testBit(n)?i.add(a):i.add(this):r.testBit(n)&&(i=i.add(e)),--n;return i}function _(t,e,r){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(r),this.infinity=new h(this,null,null),this.reducer=new O(this.q)}function C(){return this.q}function S(){return this.a}function A(){return this.b}function T(t){return t===this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)}function B(){return this.infinity}function I(t){return new n(this.q,t)}function k(t){this.reducer.reduce(t)}function R(t){switch(parseInt(t.substring(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,r=t.substr(2,e),n=t.substr(e+2,e);return new h(this,this.fromBigInteger(new P(r,16)),this.fromBigInteger(new P(n,16)));default:return null}}function N(t){if(t.isInfinity())return"00";var e=t.getX().toBigInteger().toString(16),r=t.getY().toBigInteger().toString(16),n=this.getQ().toString(16).length;for(n%2!==0&&n++;e.length<n;)e="0"+e;for(;r.length<n;)r="0"+r;return"04"+e+r}var F=r(92),P=F.BigInteger,O=P.prototype.Barrett;n.prototype.equals=i,n.prototype.toBigInteger=a,n.prototype.negate=o,n.prototype.add=s,n.prototype.subtract=u,n.prototype.multiply=c,n.prototype.square=f,n.prototype.divide=l,h.prototype.getX=p,h.prototype.getY=d,h.prototype.equals=y,h.prototype.isInfinity=g,h.prototype.negate=v,h.prototype.add=m,h.prototype.twice=b,h.prototype.multiply=E,h.prototype.multiplyTwo=w,_.prototype.getQ=C,_.prototype.getA=S,_.prototype.getB=A,_.prototype.equals=T,_.prototype.getInfinity=B,_.prototype.fromBigInteger=I,_.prototype.reduce=k,_.prototype.decodePointHex=R,_.prototype.encodePointHex=N,t.exports={ECFieldElementFp:n,ECPointFp:h,ECCurveFp:_}},function(t,e,r){"use strict";function n(t,e,r,n){this.curve=t,this.g=e,this.n=r,this.h=n}function i(){return this.curve}function a(){return this.g}function o(){return this.n}function s(){return this.h}function u(t){return new h(t,16)}function c(){var t=u("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),e=u("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),r=u("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),i=u("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),a=h.ONE,o=new p.ECCurveFp(t,e,r),s=o.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5");return new n(o,s,i,a)}function f(){var t=u("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF"),e=u("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC"),r=u("B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF"),i=u("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973"),a=h.ONE,o=new p.ECCurveFp(t,e,r),s=o.decodePointHex("04AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB73617DE4A96262C6F5D9E98BF9292DC29F8F41DBD289A147CE9DA3113B5F0B8C00A60B1CE1D7E819D7A431D7C90EA0E5F");return new n(o,s,i,a)}function l(){var t=u("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"),e=u("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC"),r=u("0051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00"),i=u("01FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409"),a=h.ONE,o=new p.ECCurveFp(t,e,r),s=o.decodePointHex("0400C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66011839296A789A3BC0045C8A5FB42C7D1BD998F54449579B446817AFBD17273E662C97EE72995EF42640C550B9013FAD0761353C7086A272C24088BE94769FD16650");return new n(o,s,i,a)}var h=r(92).BigInteger,p=r(93);n.prototype.getCurve=i,n.prototype.getG=a,n.prototype.getN=o,n.prototype.getH=s;var d=t.exports={secp256r1:c(),secp384r1:f(),secp521r1:l()};d["P-256"]=d.secp256r1,d["P-384"]=d.secp384r1,d["P-521"]=d.secp521r1},function(t,e,r){(function(e){/*!
	 * algorithms/hkdf.js - HMAC-based Extract-and-Expand Key Derivation
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){var r=t.replace("HKDF-",""),n=t.replace("HKDF-SHA-","HS"),o=function(t,o){function s(t,r){return p===y++?e.concat(d).slice(0,h):(r||(r=new e(0)),r=e.concat([r,l,new e([y])]),r=n(t,r,{loose:!0}),r=r.then(function(e){return r=e.mac,d.push(r),s(t,r)}))}var u=i.HASHLENGTH[r]/8;"string"==typeof n&&(n=a[n].sign),o=o||{};var c=o.salt;c&&0!==c.length||(c=new e(u),c.fill(0));var f,l=o.info||new e(0),h=o.length||u,p=Math.ceil(h/u),d=[],y=0;return f=n(c,t,{loose:!0}),f=f.then(function(t){return s(t.mac)})};return o}var i=r(29),a=r(28),o={};["HKDF-SHA-1","HKDF-SHA-256","HKDF-SHA-384","HKDF-SHA-512"].forEach(function(t){o[t]={derive:n(t)}}),t.exports=o}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * algorithms/ecdsa.js - Elliptic Curve Digitial Signature Algorithms
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){switch(t){case"SHA-256":return"P-256";case"SHA-384":return"P-384";case"SHA-512":return"P-521";default:throw new Error("unsupported hash: "+t)}}function i(t){var r=n(t),i=function(n,i){if(r!==n.crv)return Promise.reject(new Error("invalid curve"));var a,s=o.convertToForge(n,!1);return a=u[t].digest(i),a=a.then(function(t){return t=s.sign(t),t=e.concat([t.r,t.s]),{data:i,mac:t}})},a=function(n,i){if(r!==n.crv)return Promise.reject(new Error("invalid curve"));var a,u=o.convertToJWK(n,!1),c={name:"ECDSA",namedCurve:u.crv,hash:{name:t}};return a=s.subtleCrypto.importKey("jwk",u,c,!0,["sign"]),a=a.then(function(t){return s.subtleCrypto.sign(c,t,i)}),a=a.then(function(t){return t=new e(t),{data:i,mac:t}})};return s.setupFallback(null,a,i)}function a(t){var e=n(t),r=function(r,n,i){if(e!==r.crv)return Promise.reject(new Error("invalid curve"));var a,s=o.convertToForge(r,!0);return a=u[t].digest(n),a=a.then(function(t){var e=i.length/2,r={r:i.slice(0,e),s:i.slice(e)};return s.verify(t,r)?{data:n,mac:i,valid:!0}:Promise.reject(new Error("verification failed"))})},i=function(r,n,i){if(e!==r.crv)return Promise.reject(new Error("invalid curve"));var a,u=o.convertToJWK(r,!0),c={name:"ECDSA",namedCurve:u.crv,hash:{name:t}};return a=s.subtleCrypto.importKey("jwk",u,c,!0,["verify"]),a=a.then(function(t){return s.subtleCrypto.verify(c,t,i,n)}),a=a.then(function(t){return t?{data:n,mac:i,valid:!0}:Promise.reject(new Error("verification failed"))})};return s.setupFallback(null,i,r)}var o=r(90),s=r(26),u=r(69),c={};["ES256","ES384","ES512"].forEach(function(t){var e=t.replace(/ES(\d+)/g,function(t,e){return"SHA-"+e});c[t]={sign:i(e),verify:a(e)}}),t.exports=c}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * algorithms/pbes2.js - Password-Based Encryption (v2) Algorithms
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t,r,n){var i="PBES2-"+t+"+"+r,a=[new e(i,"utf8"),l,n];return e.concat(a)}function i(t,r){var i=c.KEYLENGTH[r]/8,a=function(a,u,c){c=c||{};var l=s.asBuffer(c.p2s||new e(0),"base64url"),h=c.p2c||0;if(0>=h)return Promise.reject(new Error("invalid iteration count"));if(8>l.length)return Promise.reject(new Error("salt too small"));l=n(t,r,l);var p;return p=new Promise(function(r,n){var s=o.md[t.replace("HS","SHA").toLowerCase()].create(),u=function(t,i){t?n(t):(i=new e(i,"binary"),r(i))};o.pkcs5.pbkdf2(a.toString("binary"),l.toString("binary"),h,i,s,u)}),p=p.then(function(t){return f[r].encrypt(t,u)})},l=null,h=function(a,o,c){if(6>u.nodeCrypto.pbkdf2.length)throw new Error("unsupported algorithm: PBES2-"+t+"+"+r);c=c||{};var l=s.asBuffer(c.p2s||new e(0),"base64url"),h=c.p2c||0;if(0>=h)return Promise.reject(new Error("invalid iteration count"));if(8>l.length)return Promise.reject(new Error("salt too small"));l=n(t,r,l);var p,d=t.replace("HS","SHA");return p=new Promise(function(t,e){function r(r,n){r?e(r):t(n)}u.nodeCrypto.pbkdf2(a,l,h,i,d,r)}),p=p.then(function(t){return f[r].encrypt(t,o)})};return u.setupFallback(h,l,a)}function a(t,r){var i=c.KEYLENGTH[r]/8,a=function(a,u,c){c=c||{};var l=s.asBuffer(c.p2s||new e(0),"base64url"),h=c.p2c||0;if(0>=h)return Promise.reject(new Error("invalid iteration count"));if(8>l.length)return Promise.reject(new Error("salt too small"));l=n(t,r,l);var p;return p=new Promise(function(r,n){var s=o.md[t.replace("HS","SHA").toLowerCase()].create(),u=function(t,i){t?n(t):(i=new e(i,"binary"),r(i))};o.pkcs5.pbkdf2(a.toString("binary"),l.toString("binary"),h,i,s,u)}),p=p.then(function(t){return f[r].decrypt(t,u)})},l=null,h=function(a,o,c){if(6>u.nodeCrypto.pbkdf2.length)throw new Error("unsupported algorithm: PBES2-"+t+"+"+r);c=c||{};var l=s.asBuffer(c.p2s||new e(0),"base64url"),h=c.p2c||0;if(0>=h)return Promise.reject(new Error("invalid iteration count"));if(8>l.length)return Promise.reject(new Error("salt too small"));l=n(t,r,l);var p,d=t.replace("HS","SHA");return p=new Promise(function(t,e){function r(r,n){r?e(r):t(n)}u.nodeCrypto.pbkdf2(a,l,h,i,d,r)}),p=p.then(function(t){return f[r].decrypt(t,o)})};return u.setupFallback(h,l,a)}var o=r(30),s=r(70),u=r(26),c=r(29),f=r(80),l=new e([0]),h={};["PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW"].forEach(function(t){var e=/PBES2-(HS\d+)\+(A\d+KW)/g.exec(t),r=e[1],n=e[2];h[t]={encrypt:i(r,n),decrypt:a(r,n)}}),t.exports=h}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * algorithms/rsassa.js - RSA Signatures
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){var r={name:t};"RSA-OAEP-256"===t?(r.name="RSA-OAEP",r.hash={name:"SHA-256"}):"RSA-OAEP"===t?r.hash={name:"SHA-1"}:r.name="RSAES-PKCS1-v1_5";var n,i=function(t,e){e=new s(e).bytes();var n=u.convertToForge(t,!0),i={};"RSA-OAEP"===r.name&&(i.md=r.hash.name.toLowerCase().replace(/\-/g,""),i.md=a.md[i.md].create());var o=n.encrypt(e,r.name.toUpperCase(),i);return o=new s(o)["native"](),Promise.resolve({data:o})};return n="RSAES-PKCS1-v1_5"!==r.name?function(t,n){t=u.convertToJWK(t,!0);var i;return i=o.subtleCrypto.importKey("jwk",t,r,!0,["encrypt"]),i=i.then(function(t){return o.subtleCrypto.encrypt(r,t,n)}),i=i.then(function(t){var r=new e(t);return{data:r}})}:null,o.setupFallback(null,n,i)}function i(t){var r={name:t};"RSA-OAEP-256"===t?(r.name="RSA-OAEP",r.hash={name:"SHA-256"}):"RSA-OAEP"===t?r.hash={name:"SHA-1"}:r.name="RSAES-PKCS1-v1_5";var n,i=function(t,e){e=new s(e).bytes();var n=u.convertToForge(t,!1),i={};"RSA-OAEP"===r.name&&(i.md=r.hash.name.toLowerCase().replace(/\-/g,""),i.md=a.md[i.md].create());var o=n.decrypt(e,r.name.toUpperCase(),i);return o=new s(o)["native"](),Promise.resolve(o)};return n="RSAES-PKCS1-v1_5"!==r.name?function(t,n){t=u.convertToJWK(t,!1);var i;return i=o.subtleCrypto.importKey("jwk",t,r,!0,["decrypt"]),i=i.then(function(t){return o.subtleCrypto.decrypt(r,t,n)}),i=i.then(function(t){var r=new e(t);return r})}:null,o.setupFallback(null,n,i)}var a=r(30),o=r(26),s=r(65),u=r(99),c={};["RSA-OAEP","RSA-OAEP-256","RSA1_5"].forEach(function(t){c[t]={encrypt:n(t),decrypt:i(t)}}),t.exports=c}).call(e,r(1).Buffer)},function(t,e,r){/*!
	 * algorithms/rsa-util.js - RSA Utility Functions
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t,e){var r=e?["n","e"]:["n","e","d","p","q","dp","dq","qi"];r=r.map(function(e){return new o.jsbn.BigInteger(t[e].toString("hex"),16)});var n=e?o.pki.rsa.setPublicKey:o.pki.rsa.setPrivateKey;return n.apply(o.pki.rsa,r)}function i(t,e){var r=a(t),n=e?["n","e"]:["n","e","d","p","q","dp","dq","qi"];return n.forEach(function(t){r[t]=s.base64url.encode(r[t])}),delete r.key_ops,delete r.use,delete r.alg,e&&(delete r.d,delete r.p,delete r.q,delete r.dp,delete r.dq,delete r.qi),r}var a=r(84),o=r(30),s=r(70);t.exports={convertToForge:n,convertToJWK:i}},function(t,e,r){(function(e){/*!
	 * algorithms/rsassa.js - RSA Signatures
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc.  See LICENSE file.
	 */
"use strict";function n(t){var r=t.replace("RS","SHA").toLowerCase(),n=t.replace("RS","SHA-"),i={name:"RSASSA-PKCS1-V1_5",hash:{name:n}},a=function(t,n){var i=s.md[r].create();i.start(),i.update(n);var a=f.convertToForge(t,!1),o=a.sign(i,"RSASSA-PKCS1-V1_5");return o=new e(o,"binary"),Promise.resolve({data:n,mac:o})},o=function(t,r){t=f.convertToJWK(t,!1);var n;return n=c.subtleCrypto.importKey("jwk",t,i,!0,["sign"]),n=n.then(function(t){return c.subtleCrypto.sign(i,t,r)}),n=n.then(function(t){var n=new e(t);return{data:r,mac:n}})};return c.setupFallback(null,o,a)}function i(t){var e=t.replace("RS","SHA").toLowerCase(),r=t.replace("RS","SHA-"),n={name:"RSASSA-PKCS1-V1_5",hash:{name:r}},i=function(t,r,n){var i=s.md[e].create();i.start(),i.update(r),i=i.digest().bytes();var a=f.convertToForge(t,!0),o=n.toString("binary"),u=a.verify(i,o,"RSASSA-PKCS1-V1_5");return u?Promise.resolve({data:r,mac:n,valid:!0}):Promise.reject(new Error("verification failed"))},a=function(t,e,r){t=f.convertToJWK(t,!0);var i;return i=c.subtleCrypto.importKey("jwk",t,n,!0,["verify"]),i=i.then(function(t){return c.subtleCrypto.verify(n,t,r,e)}),i=i.then(function(t){return t?{data:e,mac:r,valid:!0}:Promise.reject(new Error("verification failed"))})};return c.setupFallback(null,a,i)}function a(t){var r=t.replace("PS","SHA").toLowerCase(),n=t.replace("PS","SHA-");return function(t,i){var a=s.md[r].create();a.start(),a.update(i);var o=s.pss.create({md:s.md[r].create(),mgf:s.mgf.mgf1.create(s.md[r].create()),saltLength:u.HASHLENGTH[n]/8}),c=f.convertToForge(t,!1),l=c.sign(a,o);return l=new e(l,"binary"),Promise.resolve({data:i,mac:l})}}function o(t){var e=t.replace("PS","SHA").toLowerCase(),r=t.replace("PS","SHA-");return function(t,n,i){var a=s.md[e].create();a.start(),a.update(n),a=a.digest().bytes();var o=s.pss.create({md:s.md[e].create(),mgf:s.mgf.mgf1.create(s.md[e].create()),saltLength:u.HASHLENGTH[r]/8}),c=f.convertToForge(t,!0),l=i.toString("binary"),h=c.verify(a,l,o);return h?Promise.resolve({data:n,mac:i,valid:!0}):Promise.reject(new Error("verification failed"))}}var s=r(30),u=r(29),c=r(26),f=r(99),l={};["PS256","PS384","PS512"].forEach(function(t){l[t]={sign:a(t),verify:o(t)}}),["RS256","RS384","RS512"].forEach(function(t){l[t]={sign:n(t),verify:i(t)}}),t.exports=l}).call(e,r(1).Buffer)},function(t,e,r){/*!
	 * jwe/index.js - JSON Web Encryption (JWE) Entry Point
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";var n={createEncrypt:r(102).createEncrypt,createDecrypt:r(152).createDecrypt};t.exports=n},function(t,e,r){(function(e){/*!
	 * jwe/encrypt.js - Encrypt to a JWE
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t,r,n){var i=!1,f=t.format||"general",p=!!t.protectAll,d=new e(0);Object.defineProperty(this,"zip",{get:function(){return r.zip||""},enumerable:!0}),Object.defineProperty(this,"compact",{get:function(){return"compact"===f},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return f},enumerable:!0}),Object.defineProperty(this,"protected",{get:function(){return o(t.protect)},enumerable:!0}),Object.defineProperty(this,"header",{get:function(){return o(r)},enumerable:!0}),Object.defineProperty(this,"update",{value:function(t,r){if(i)throw new Error("already final");return null!=t&&(t=s.asBuffer(t,r),d=d.length?e.concat([d,t],d.length+t.length):t),this}}),Object.defineProperty(this,"final",{value:function(y,g){if(i)return Promise.reject(new Error("already final"));this.update(y,g),i=!0;var v,m=Promise.resolve({}),b=r.enc;m=m.then(function(e){return t.cek&&(v=c.asKey(t.cek)),e}),m=m.then(function(e){var i=function(e,n){var i={};i=a(i,r),i=a(i,e.header);var f,l,h=e.key,p=i.alg;return 0===i.alg.indexOf("ECDH-ES")?(f=h.keystore.temp(),l=e.epk?Promise.resolve(e.epk).then(function(t){e.header.epk=t.toJSON(!1,["kid"]),i.epk=t.toObject(!0,["kid"])}):f.generate("EC",h.get("crv")).then(function(t){e.header.epk=t.toJSON(!1,["kid"]),i.epk=t.toObject(!0,["kid"])})):l=Promise.resolve(),l=l.then(function(){var e,a;return"dir"===p&&n?(v=Promise.resolve(h),a=v.then(function(t){return b||(i.enc=r.enc=b=t.algorithms(c.MODE_ENCRYPT)[0]),{once:!0,direct:!0}})):(v||(b||(i.enc=r.enc=b=t.contentAlg),v=u(b)),a=v.then(function(t){return e=t.get("k",!0),h}),a=a.then(function(t){return t.wrap(p,e,i)})),a}),l=l.then(function(t){if(t.once&&!n)return Promise.reject(new Error("cannot use 'alg':'"+p+"' with multiple recipients"));var r,i={};return t.data&&(r=t.data,r=s.base64url.encode(r)),t.direct&&r?v=c.asKey({kty:"oct",k:r}):r&&(i.encrypted_key=r),e.header&&Object.keys(e.header).length&&(i.header=o(e.header||{})),t.header&&(i.header=a(i.header||{},t.header)),i})},f=Promise.all(n);return f=f.then(function(t){var e=1===t.length;return t=t.map(function(t){return i(t,e)}),Promise.all(t)}),f=f.then(function(t){return e.recipients=t.filter(function(t){return!!t}),e})});var E={};switch(m=m.then(function(e){var n,i,u,c;return u=o(r),p&&1===e.recipients.length||"compact"===f?(n=a(e.recipients[0].header||{},u),i=Object.keys(n).length,u=void 0,c=0,delete e.recipients[0].header,0===Object.keys(e.recipients[0]).length&&e.recipients.splice(0,1)):(n={},i=0,c=Object.keys(u).length,t.protect.forEach(function(t){t in u&&(n[t]=u[t],i++,delete u[t],c--)})),e.recipients&&0!==e.recipients.length||delete e.recipients,u&&c>0&&(E=a(E,u),e.unprotected=u),n&&i>0&&(E=a(E,n),n=JSON.stringify(n),e["protected"]=s.base64url.encode(n,"utf8")),e}),m=m.then(function(t){var r=d;return E.zip?"DEF"===E.zip?new Promise(function(n,i){l.deflateRaw(new e(r,"binary"),function(e,r){e?i(e):(t.plaintext=r,n(t))})}):Promise.reject(new Error("unsupported 'zip' mode")):(t.plaintext=r,t)}),m=m.then(function(r){E.adata=r["protected"],"aad"in t&&null!=t.aad&&(E.adata+="."+t.aad,E.adata=new e(E.adata,"utf8"));var n=t.iv||s.randomBytes(h.NONCELENGTH[b]/8);"string"==typeof n&&(n=s.base64url.decode(n)),E.iv=n,"recipients"in r&&1===r.recipients.length&&(E.kdata=r.recipients[0].encrypted_key),"epu"in t&&null!=t.epu&&(E.epu=t.epu),"epv"in t&&null!=t.epv&&(E.epv=t.epv);var i=r.plaintext;return delete r.plaintext,v.then(function(e){var a=e.encrypt(b,i,E);return a=a.then(function(e){return r.iv=s.base64url.encode(n,"binary"),"aad"in t&&null!=t.aad&&(r.aad=t.aad),r.ciphertext=s.base64url.encode(e.data,"binary"),r.tag=s.base64url.encode(e.tag,"binary"),r})})}),f){case"compact":m=m.then(function(t){var e=new Array(5);return e[0]=t["protected"],t.recipients&&t.recipients[0]&&(e[1]=t.recipients[0].encrypted_key),e[2]=t.iv,e[3]=t.ciphertext,e[4]=t.tag,e=e.join(".")});break;case"flattened":m=m.then(function(t){var e={},r=t.recipients&&t.recipients[0];return t["protected"]&&(e["protected"]=t["protected"]),t.unprotected&&(e.unprotected=t.unprotected),["header","encrypted_key"].forEach(function(t){r&&t in r&&(e[t]=r[t])}),t.aad&&(e.aad=t.aad),e.iv=t.iv,e.ciphertext=t.ciphertext,e.tag=t.tag,e})}return m}})}function i(t,e){var r=t,i=1,u=e;if(0===arguments.length)throw new Error("at least one recipient must be provided");1===arguments.length?(u=t,i=0,r={}):c.isKey(t)||t&&"kty"in t||t&&"key"in t&&(c.isKey(t.key)||"kty"in t.key)?(u=t,i=0,r={}):r=o(t),Array.isArray(u)||(u=f(arguments,i)),r=a(o(p),r);var l=o(r.fields||{});switch(r.zip&&(l.zip="boolean"==typeof r.zip?!!r.zip&&"DEF":r.zip),r.format=(r.compact?"compact":r.format)||"general",r.format){case"compact":if("aad"in t)throw new Error("additional authenticated data cannot be used for compact serialization");case"flattened":if(u.length>1)throw new Error("too many recipients for compact serialization")}var h=!1;if("compact"===r.format||"*"===r.protect)h=!0,r.protect=Object.keys(l).concat("enc");else if("string"==typeof r.protect)r.protect=[r.protect];else if(Array.isArray(r.protect))r.protect=r.protect.concat();else{if(r.protect)throw new Error("protect must be a list of fields");r.protect=[]}if(h&&1<u.length)throw new Error("too many recipients to protect all header parameters");u=u.map(function(t,e){var r;return t&&"kty"in t?(r=c.asKey(t),r=r.then(function(t){return{key:t}})):t?(r=c.asKey(t.key),r=r.then(function(e){return{header:t.header,reference:t.reference,key:e}})):r=Promise.reject(new Error("missing key for recipient "+e)),t.epk&&(r=r.then(function(e){return c.asKey(t.epk).then(function(t){return e.epk=t,e})})),r=r.then(function(t){var e=t.key,r=t.header||{};t.header=r;var n={};n=a(n,l),n=a(n,t.header),n.alg||(n.alg=e.algorithms(c.MODE_WRAP)[0]),r.alg=n.alg;var i=t.reference;delete t.reference,void 0===i?(i=["kid","jku","x5c","x5t","x5u"].some(function(t){return t in r}),i=i?null:"kid"):"boolean"==typeof i&&(i=i?"kid":null);var o;return i&&(o=e.toJSON(),"jwk"===i?r.jwk=o:i in o&&(r[i]=o[i])),t=Object.freeze(t)})});var d={aad:"aad"in r?s.base64url.encode(r.aad||""):null,contentAlg:r.contentAlg,format:r.format,protect:r.protect,cek:r.cek,iv:r.iv,protectAll:h},y=new n(d,l,u);return y}var a=r(103),o=r(84),s=r(70),u=r(104).generateCEK,c=r(105),f=r(104).slice,l=r(118),h=r(29),p=r(151);t.exports={encrypter:n,createEncrypt:i}}).call(e,r(1).Buffer)},function(t,e){function r(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function n(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function i(t,e){return function(r){return t(e(r))}}function a(t,e){var r=L(t)||y(t)?n(t.length,String):[],i=r.length,a=!!i;for(var o in t)!e&&!k.call(t,o)||a&&("length"==o||l(o,i))||r.push(o);return r}function o(t,e,r){var n=t[e];k.call(t,e)&&d(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function s(t){if(!p(t))return F(t);var e=[];for(var r in Object(t))k.call(t,r)&&"constructor"!=r&&e.push(r);return e}function u(t,e){return e=P(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=P(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=o,r(t,this,s)}}function c(t,e,r,n){r||(r={});for(var i=-1,a=e.length;++i<a;){var s=e[i],u=n?n(r[s],t[s],s,r,t):void 0;o(r,s,void 0===u?t[s]:u)}return r}function f(t){return u(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,o&&h(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}function l(t,e){return e=null==e?C:e,!!e&&("number"==typeof t||B.test(t))&&t>-1&&t%1==0&&t<e}function h(t,e,r){if(!E(r))return!1;var n=typeof e;return!!("number"==n?g(r)&&l(e,r.length):"string"==n&&e in r)&&d(r[e],t)}function p(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||I;return t===r}function d(t,e){return t===e||t!==t&&e!==e}function y(t){return v(t)&&k.call(t,"callee")&&(!N.call(t,"callee")||R.call(t)==S)}function g(t){return null!=t&&b(t.length)&&!m(t)}function v(t){return w(t)&&g(t)}function m(t){var e=E(t)?R.call(t):"";return e==A||e==T}function b(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=C}function E(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function w(t){return!!t&&"object"==typeof t}function _(t){return g(t)?a(t):s(t)}var C=9007199254740991,S="[object Arguments]",A="[object Function]",T="[object GeneratorFunction]",B=/^(?:0|[1-9]\d*)$/,I=Object.prototype,k=I.hasOwnProperty,R=I.toString,N=I.propertyIsEnumerable,F=i(Object.keys,Object),P=Math.max,O=!N.call({valueOf:1},"valueOf"),L=Array.isArray,x=f(function(t,e){if(O||p(e)||g(e))return void c(e,_(e),t);for(var r in e)k.call(e,r)&&o(t,r,e[r])});t.exports=x},function(t,e,r){/*!
	 * jwe/helpers.js - JWE Internal Helper Functions
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";var n=r(29),i=r(105);t.exports={slice:function(t,e){return Array.prototype.slice.call(t,e||0)},generateCEK:function(t){var e=i.createKeyStore(),r=n.KEYLENGTH[t];if(r)return e.generate("oct",r);throw new Error("unsupported encryption algorithm")}}},function(t,e,r){/*!
	 * jwk/index.js - JSON Web Key (JWK) Entry Point
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";var n=r(106);Object.keys(n.KeyStore).forEach(function(t){e[t]=n.KeyStore[t]});var i=r(113);Object.keys(i).forEach(function(t){e[t]=i[t]}),r(115),r(116),r(117)},function(t,e,r){(function(e){/*!
	 * jwk/keystore.js - JWK KeyStore Implementation
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t){return["certIssuer","certSubject"].forEach(function(e){var r=u.pki.RDNAttributesAsArray(t[e]),n=t[e]={};r.forEach(function(t){n[t.name||t.type]=t.value})}),t}function i(t){var e={},r=u.pem.decode(t),n=r.some(function(t){switch(t.type){case"CERTIFICATE":e.form="pkix";break;case"PUBLIC KEY":e.form="spki";break;case"PRIVATE KEY":e.form="pkcs8";break;case"EC PRIVATE KEY":case"RSA PRIVATE KEY":e.form="private";break;default:return!1}return e.body=t.body,!0});if(!n)throw new Error("supported PEM type not found");return e}function a(t,r){var i,a={},o=[],s=r.form,l=r.body,p=null;switch(r=u.asn1.fromDer(l),s){case"private":t.all().some(function(t){if(i)return!1;if(!t.validators)return!1;var e=t.validators.oid,n=t.validators.privateKey;return!!n&&(a={},o=[],i=u.asn1.validate(r,n,a,o),i&&(a.keyOid=u.asn1.oidToDer(e),a.parsed=!0),i)}),a.type="private";break;case"pkcs8":i=u.asn1.validate(r,f.helpers.validators.privateKey,a,o),a.type="private";break;case"public":case"spki":i=u.asn1.validate(r,f.helpers.validators.publicKey,a,o),a.type="public";break;case"pkix":case"x509":if(i=u.asn1.validate(r,f.helpers.validators.certificate,a,o)){a=n(a);var d=u.md.sha1.create();d.update(l),p=c.base64url.encode(new e(d.digest().toHex(),"hex"))}a.type="public"}return i?(a.keyOid&&(a.keyOid=u.asn1.derToOid(a.keyOid)),i=null,h.all().forEach(function(t){i||t&&"function"==typeof t["import"]&&(i=t["import"](a))}),i&&a.certSubject&&a.certSubject.commonName&&(i.kid=a.certSubject.commonName),i&&p&&(i.x5t=p),i):null}var o=r(84),s=r(85),u=r(30),c=r(70),f={BaseKey:r(107),helpers:r(114)},l=function(){var t={};Object.defineProperty(this,"register",{value:function(e){if(!e||"string"!=typeof e.kty||!e.kty)throw new Error("invalid Key factory");var r=e.kty;return t[r]=e,this}}),Object.defineProperty(this,"unregister",{value:function(e){if(!e||"string"!=typeof e.kty||!e.kty)throw new Error("invalid Key factory");var r=e.kty;return e===t[r]&&delete t[r],this}}),Object.defineProperty(this,"get",{value:function(e){return t[e||""]||void 0}}),Object.defineProperty(this,"all",{value:function(){return Object.keys(t).map(function(e){return t[e]})}})},h=new l,p=function(t,r){var n={};Object.defineProperty(this,"generate",{value:function(e,r,n){var i=t.get(e);if(!i)return Promise.reject(new Error("unsupported key type"));n=o(n||{}),n.kty=e;var a=this,u=i.generate(r);return u.then(function(t){return t=s(n,t,{kty:e}),a.add(t)})}}),Object.defineProperty(this,"add",{value:function(r,o,s){s=s||{};var u;if(e.isBuffer(r)||"string"==typeof r)if(o=(o||"json").toLowerCase(),"json"===o)r=JSON.parse(r.toString("utf8"));else try{if(u="pem"===o?i(r):{body:r.toString("binary"),form:o},r=a(t,u),!r)throw new Error("no importer for key");Object.keys(s).forEach(function(t){r[t]=s[t]})}catch(c){return Promise.reject(c)}else p.isKey(r)&&(r=r.toJSON(!0));var l=t.get(r.kty);if(!l)return Promise.reject(new Error("unsupported key type"));var h=this,d=l.prepare(r);return d.then(function(t){return new f.BaseKey(r.kty,h,r,t)}).then(function(t){var e=t.kid||"",r=n[e]=n[e]||[];return r.push(t),t})}}),Object.defineProperty(this,"remove",{value:function(t){if(t){var e=n[t.kid];if(e){var r=e.indexOf(t);r!==-1&&(e.splice(r,1),e.length||delete n[t.kid])}}}}),Object.defineProperty(this,"all",{value:function(t,e){t=t||{};var i=[],a=function(e){return(!t.kty||!e.kty||t.kty===e.kty)&&((!t.use||!e.use||t.use===e.use)&&(!t.alg||("dir"===t.alg||!e.alg||t.alg===e.alg)&&e.supports(t.alg)))};return Object.keys(n).forEach(function(e){if(!t.kid||t.kid===e){var r=n[e].filter(a);r.length&&(i=i.concat(r))}}),!e&&r&&(i=i.concat(r.all(t))),i}}),Object.defineProperty(this,"get",{value:function(t,e,n){"boolean"==typeof t?(n=t,e=t=null):"object"==typeof t&&(n=e,e=t,t=null),e=e||{},t&&(e.kid=t);var i=this.all(e,!0);return i.length||!r||n||(i=r.get(e,n)),i[0]||null}}),Object.defineProperty(this,"temp",{value:function(){return new p(t,this)}}),Object.defineProperty(this,"toJSON",{value:function(t){var e=[];return Object.keys(n).forEach(function(r){var i=n[r].map(function(e){return e.toJSON(t)});e=e.concat(i)}),{keys:e}}})};p.isKeyStore=function(t){return!!t&&("object"==typeof t&&("function"==typeof t.get&&"function"==typeof t.all&&"function"==typeof t.generate&&"function"==typeof t.add&&"function"==typeof t.remove))},p.createKeyStore=function(){return new p(h)},p.asKeyStore=function(t){if(p.isKeyStore(t))return Promise.resolve(t);var e,r=p.createKeyStore();if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t))e=t;else{if(!("keys"in t))return Promise.reject(new Error("invalid keystore"));e=t.keys}e=e.map(function(t){return r.add(t)});var n=Promise.all(e);return n=n.then(function(){return r})},p.isKey=function(t){return!!t&&("object"==typeof t&&(!!p.isKeyStore(t.keystore)&&("string"==typeof t.kty&&"number"==typeof t.length&&"function"==typeof t.algorithms&&"function"==typeof t.supports&&"function"==typeof t.encrypt&&"function"==typeof t.decrypt&&"function"==typeof t.wrap&&"function"==typeof t.unwrap&&"function"==typeof t.sign&&"function"==typeof t.verify)))},p.asKey=function(t,e,r){if(p.isKey(t))return Promise.resolve(t);var n=p.createKeyStore();return t=n.add(t,e,r)},t.exports={KeyRegistry:l,KeyStore:p,registry:h}}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * jwk/basekey.js - JWK Key Base Class Implementation
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";var n=r(103),i=r(84),a=r(108),o=r(109),s=r(85),u=r(88),c=r(89),f=r(110),l=r(111),h=r(24),p=r(113),d=r(114),y=r(70),g=function(t,r,g,v){if(!t)throw new Error("kty cannot be null");if(!r)throw new Error("keystore cannot be null");if(!g)throw new Error("props cannot be null");if("string"==typeof g&&(g=JSON.parse(g)),!v)throw new Error("cfg cannot be null");var m,b,E=[],w={},_={};g=i(g),m=n({},g[d.INTERNALS.THUMBPRINT_KEY]||{}),delete g[d.INTERNALS.THUMBPRINT_KEY],Object.keys(m).forEach(function(t){var r=m[t];b||(b=r,e.isBuffer(b)&&(b=y.base64url.encode(b))),e.isBuffer(r)||(r=y.base64url.decode(r),m[t]=r)}),g.kty=t,g.kid=g.kid||b||l();var C=Object.keys(d.COMMON_PROPS).map(function(t){return d.COMMON_PROPS[t].name});_.base=c(g,C),E=E.concat(Object.keys(_.base)),_["public"]=i(g),w["public"]=v.publicKey(_["public"]),w["public"]&&(E=E.concat(Object.keys(_["public"]))),_["private"]=i(g),w["private"]=v.privateKey(_["private"]),w["private"]&&(E=E.concat(Object.keys(_["private"]))),_.extra=u(g,E);var S;S=w["public"]&&"length"in w["public"]?w["public"].length:w["private"]&&"length"in w["private"]?w["private"].length:NaN,Object.defineProperty(this,"keystore",{value:r,enumerable:!0}),Object.defineProperty(this,"length",{value:S,enumerable:!0}),Object.defineProperty(this,"kty",{value:t,enumerable:!0}),Object.defineProperty(this,"kid",{value:_.base.kid,enumerable:!0}),Object.defineProperty(this,"use",{value:_.base.use||"",enumerable:!0}),Object.defineProperty(this,"alg",{value:_.base.alg||"",enumerable:!0}),Object.defineProperty(this,"thumbprint",{value:function(t){if(t=(t||d.INTERNALS.THUMBPRINT_HASH).toUpperCase(),m[t])return Promise.resolve(m[t]);var e=d.thumbprint(v,_,t);return e=e.then(function(e){return e&&(m[t]=e),e})}}),Object.defineProperty(this,"algorithms",{value:function(e){var r=[];this.use&&"sig"!==this.use||(e&&p.MODE_SIGN!==e||r.push(p.MODE_SIGN),e&&p.MODE_VERIFY!==e||r.push(p.MODE_VERIFY)),this.use&&"enc"!==this.use||(e&&p.MODE_ENCRYPT!==e||r.push(p.MODE_ENCRYPT),e&&p.MODE_DECRYPT!==e||r.push(p.MODE_DECRYPT),e&&p.MODE_WRAP!==e||r.push(p.MODE_WRAP),e&&p.MODE_UNWRAP!==e||r.push(p.MODE_UNWRAP));var n=this,i=r.map(function(t){return v.algorithms.call(n,w,t)});if(i=a(i),i=f(i),this.alg){var s;s="oct"===t?[this.alg,"dir"]:[this.alg],i=o(i,s)}return i}}),Object.defineProperty(this,"supports",{value:function(t,e){return this.algorithms(e).indexOf(t)!==-1}}),Object.defineProperty(this,"has",{value:function(t,e){var r=!1;return r=r||!!(_.base&&t in _.base),r=r||!!(w["public"]&&t in w["public"]),r=r||!!(_.extra&&t in _.extra),r=r||!!(e&&w["private"]&&t in w["private"])}}),Object.defineProperty(this,"get",{value:function(t,e){var r;return _.base&&t in _.base?r=_.base:w["public"]&&t in w["public"]?r=w["public"]:_.extra&&t in _.extra?r=_.extra:e&&w["private"]&&t in w["private"]&&(r=w["private"]),r&&r[t]||null}}),Object.defineProperty(this,"toJSON",{value:function(t,e){Array.isArray(t)&&(e=t,t=!1);var r={};return r=s(r,_.base,_["public"],"boolean"==typeof t&&t?_["private"]:{},_.extra),r=u(r,e||[])}}),Object.defineProperty(this,"toPEM",{value:function(t){if(null===t&&(t=!1),!v.convertToPEM)throw new Error("Unsupported key type for PEM encoding");var e=t?w["private"]:w["public"];if(!e)throw new Error("Invalid key");return v.convertToPEM.call(this,e,t)}}),Object.defineProperty(this,"toObject",{value:function(t,e){Array.isArray(t)&&(e=t,t=!1);var r={};return r=s(r,_.base,w["public"],"boolean"==typeof t&&t?w["private"]:{},_.extra),r=u(r,(e||[]).concat("length"))}}),Object.defineProperty(this,"sign",{value:function(t,e,r){if(this.algorithms("sign").indexOf(t)===-1)return Promise.reject(new Error("unsupported algorithm"));var n=v.signKey.call(this,t,w);return n?(r=r?i(r):{},v.signProps&&(r=s(r,v.signProps.call(this,t,r))),h.sign(t,n,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"verify",{value:function(t,e,r,n){if(this.algorithms("verify").indexOf(t)===-1)return Promise.reject(new Error("unsupported algorithm"));var a=v.verifyKey.call(this,t,w);return a?(n=n?i(n):{},v.verifyProps&&(n=s(n,v.verifyProps.call(this,t,n))),h.verify(t,a,e,r,n)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"encrypt",{value:function(t,e,r){if(this.algorithms("encrypt").indexOf(t)===-1)return Promise.reject(new Error("unsupported algorithm"));var n=v.encryptKey.call(this,t,w);return n?(r=r?i(r):{},v.encryptProps&&(r=s(r,v.encryptProps.call(this,t,r))),h.encrypt(t,n,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"decrypt",{value:function(t,e,r){if(this.algorithms("decrypt").indexOf(t)===-1)return Promise.reject(new Error("unsupported algorithm"));var n=v.decryptKey.call(this,t,w);return n?(r=r?i(r):{},v.decryptProps&&(r=s(r,v.decryptProps.call(this,t,r))),h.decrypt(t,n,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"wrap",{value:function(t,e,r){if(this.algorithms("wrap").indexOf(t)===-1)return Promise.reject(new Error("unsupported algorithm"));var n=v.wrapKey.call(this,t,w);return n?(r=r?i(r):{},v.wrapProps&&(r=s(r,v.wrapProps.call(this,t,r))),h.encrypt(t,n,e,r)):Promise.reject(new Error("improper key"))}}),Object.defineProperty(this,"unwrap",{value:function(t,e,r){if(this.algorithms("unwrap").indexOf(t)===-1)return Promise.reject(new Error("unsupported algorithm"));var n=v.unwrapKey.call(this,t,w);return n?(r=r?i(r):{},v.unwrapProps&&(r=s(r,v.unwrapProps.call(this,t,r))),h.decrypt(t,n,e,r)):Promise.reject(new Error("improper key"))}})};t.exports=g}).call(e,r(1).Buffer)},function(t,e){(function(e){function r(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function n(t,e,a,o,s){var u=-1,c=t.length;for(a||(a=i),s||(s=[]);++u<c;){var f=t[u];e>0&&a(f)?e>1?n(f,e-1,a,o,s):r(s,f):o||(s[s.length]=f)}return s}function i(t){return T(t)||o(t)||!!(A&&t&&t[A])}function a(t){var e=t?t.length:0;return e?n(t,1):[]}function o(t){return u(t)&&w.call(t,"callee")&&(!S.call(t,"callee")||_.call(t)==d)}function s(t){return null!=t&&f(t.length)&&!c(t)}function u(t){return h(t)&&s(t)}function c(t){var e=l(t)?_.call(t):"";return e==y||e==g}function f(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=p}function l(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function h(t){return!!t&&"object"==typeof t}var p=9007199254740991,d="[object Arguments]",y="[object Function]",g="[object GeneratorFunction]",v="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,b=v||m||Function("return this")(),E=Object.prototype,w=E.hasOwnProperty,_=E.toString,C=b.Symbol,S=E.propertyIsEnumerable,A=C?C.isConcatSpreadable:void 0,T=Array.isArray;t.exports=a}).call(e,function(){return this}())},function(t,e){(function(e){function r(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function n(t,e){var r=t?t.length:0;return!!r&&s(t,e,0)>-1}function i(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function a(t,e){for(var r=-1,n=t?t.length:0,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function o(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function s(t,e,r){if(e!==e)return o(t,u,r);for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}function u(t){return t!==t}function c(t){return function(e){return t(e)}}function f(t,e){return t.has(e)}function l(t,e){return null==t?void 0:t[e]}function h(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function p(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function d(){this.__data__=bt?bt(null):{}}function y(t){return this.has(t)&&delete this.__data__[t]}function g(t){var e=this.__data__;if(bt){var r=e[t];return r===J?void 0:r}return ht.call(e,t)?e[t]:void 0}function v(t){var e=this.__data__;return bt?void 0!==e[t]:ht.call(e,t)}function m(t,e){var r=this.__data__;return r[t]=bt&&void 0===e?J:e,this}function b(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function E(){this.__data__=[]}function w(t){var e=this.__data__,r=O(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():yt.call(e,r,1),!0}function _(t){var e=this.__data__,r=O(e,t);return r<0?void 0:e[r][1]}function C(t){return O(this.__data__,t)>-1}function S(t,e){var r=this.__data__,n=O(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function A(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function T(){this.__data__={hash:new p,map:new(mt||b),string:new p}}function B(t){return j(this,t)["delete"](t)}function I(t){return j(this,t).get(t)}function k(t){return j(this,t).has(t)}function R(t,e){return j(this,t).set(t,e),this}function N(t){var e=-1,r=t?t.length:0;for(this.__data__=new A;++e<r;)this.add(t[e])}function F(t){return this.__data__.set(t,J),this}function P(t){return this.__data__.has(t)}function O(t,e){for(var r=t.length;r--;)if(q(t[r][0],e))return r;return-1}function L(t,e,r){for(var o=r?i:n,s=t[0].length,u=t.length,l=u,h=Array(u),p=1/0,d=[];l--;){var y=t[l];l&&e&&(y=a(y,c(e))),p=vt(y.length,p),h[l]=!r&&(e||s>=120&&y.length>=120)?new N(l&&y):void 0}y=t[0];var g=-1,v=h[0];t:for(;++g<s&&d.length<p;){var m=y[g],b=e?e(m):m;if(m=r||0!==m?m:0,!(v?f(v,b):o(d,b,r))){for(l=u;--l;){var E=h[l];if(!(E?f(E,b):o(t[l],b,r)))continue t}v&&v.push(b),d.push(m)}}return d}function x(t){if(!Q(t)||V(t))return!1;var e=W(t)||h(t)?dt:rt;return e.test(H(t))}function D(t,e){return e=gt(void 0===e?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=gt(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=o,r(t,this,s)}}function U(t){return G(t)?t:[]}function j(t,e){var r=t.__data__;return K(e)?r["string"==typeof e?"string":"hash"]:r.map}function M(t,e){var r=l(t,e);return x(r)?r:void 0}function K(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function V(t){return!!ft&&ft in t}function H(t){if(null!=t){try{return lt.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function q(t,e){return t===e||t!==t&&e!==e}function z(t){return null!=t&&Z(t.length)&&!W(t)}function G(t){return Y(t)&&z(t)}function W(t){var e=Q(t)?pt.call(t):"";return e==X||e==tt}function Z(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=$}function Q(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Y(t){return!!t&&"object"==typeof t}var J="__lodash_hash_undefined__",$=9007199254740991,X="[object Function]",tt="[object GeneratorFunction]",et=/[\\^$.*+?()[\]{}|]/g,rt=/^\[object .+?Constructor\]$/,nt="object"==typeof e&&e&&e.Object===Object&&e,it="object"==typeof self&&self&&self.Object===Object&&self,at=nt||it||Function("return this")(),ot=Array.prototype,st=Function.prototype,ut=Object.prototype,ct=at["__core-js_shared__"],ft=function(){var t=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),lt=st.toString,ht=ut.hasOwnProperty,pt=ut.toString,dt=RegExp("^"+lt.call(ht).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=ot.splice,gt=Math.max,vt=Math.min,mt=M(at,"Map"),bt=M(Object,"create");p.prototype.clear=d,p.prototype["delete"]=y,p.prototype.get=g,p.prototype.has=v,p.prototype.set=m,b.prototype.clear=E,b.prototype["delete"]=w,b.prototype.get=_,b.prototype.has=C,b.prototype.set=S,A.prototype.clear=T,A.prototype["delete"]=B,A.prototype.get=I,A.prototype.has=k,A.prototype.set=R,N.prototype.add=N.prototype.push=F,N.prototype.has=P;var Et=D(function(t){var e=a(t,U);return e.length&&e[0]===t[0]?L(e):[]});t.exports=Et}).call(e,function(){return this}())},function(t,e){(function(e){function r(t,e){var r=t?t.length:0;return!!r&&a(t,e,0)>-1}function n(t,e,r){for(var n=-1,i=t?t.length:0;++n<i;)if(r(e,t[n]))return!0;return!1}function i(t,e,r,n){for(var i=t.length,a=r+(n?1:-1);n?a--:++a<i;)if(e(t[a],a,t))return a;return-1}function a(t,e,r){if(e!==e)return i(t,o,r);for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}function o(t){return t!==t}function s(t,e){return t.has(e)}function u(t,e){return null==t?void 0:t[e]}function c(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(r){}return e}function f(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}function l(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function h(){this.__data__=pt?pt(null):{}}function p(t){return this.has(t)&&delete this.__data__[t]}function d(t){var e=this.__data__;if(pt){var r=e[t];return r===G?void 0:r}return st.call(e,t)?e[t]:void 0}function y(t){var e=this.__data__;return pt?void 0!==e[t]:st.call(e,t)}function g(t,e){var r=this.__data__;return r[t]=pt&&void 0===e?G:e,this}function v(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function m(){this.__data__=[]}function b(t){var e=this.__data__,r=F(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():ft.call(e,r,1),!0}function E(t){var e=this.__data__,r=F(e,t);return r<0?void 0:e[r][1]}function w(t){return F(this.__data__,t)>-1}function _(t,e){var r=this.__data__,n=F(r,t);return n<0?r.push([t,e]):r[n][1]=e,this}function C(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function S(){this.__data__={hash:new l,map:new(lt||v),string:new l}}function A(t){return L(this,t)["delete"](t)}function T(t){return L(this,t).get(t)}function B(t){return L(this,t).has(t)}function I(t,e){return L(this,t).set(t,e),this}function k(t){var e=-1,r=t?t.length:0;for(this.__data__=new C;++e<r;)this.add(t[e])}function R(t){return this.__data__.set(t,G),this}function N(t){return this.__data__.has(t)}function F(t,e){for(var r=t.length;r--;)if(K(t[r][0],e))return r;return-1}function P(t){if(!H(t)||U(t))return!1;var e=V(t)||c(t)?ct:J;return e.test(j(t))}function O(t,e,i){var a=-1,o=r,u=t.length,c=!0,l=[],h=l;if(i)c=!1,o=n;else if(u>=z){var p=e?null:dt(t);if(p)return f(p);c=!1,o=s,h=new k}else h=e?[]:l;t:for(;++a<u;){var d=t[a],y=e?e(d):d;if(d=i||0!==d?d:0,c&&y===y){for(var g=h.length;g--;)if(h[g]===y)continue t;e&&h.push(y),l.push(d)}else o(h,y,i)||(h!==l&&h.push(y),l.push(d))}return l}function L(t,e){var r=t.__data__;return D(e)?r["string"==typeof e?"string":"hash"]:r.map}function x(t,e){var r=u(t,e);return P(r)?r:void 0}function D(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function U(t){return!!at&&at in t}function j(t){if(null!=t){try{return ot.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function M(t){return t&&t.length?O(t):[]}function K(t,e){return t===e||t!==t&&e!==e}function V(t){var e=H(t)?ut.call(t):"";return e==Z||e==Q}function H(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function q(){}var z=200,G="__lodash_hash_undefined__",W=1/0,Z="[object Function]",Q="[object GeneratorFunction]",Y=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,$="object"==typeof e&&e&&e.Object===Object&&e,X="object"==typeof self&&self&&self.Object===Object&&self,tt=$||X||Function("return this")(),et=Array.prototype,rt=Function.prototype,nt=Object.prototype,it=tt["__core-js_shared__"],at=function(){var t=/[^.]+$/.exec(it&&it.keys&&it.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ot=rt.toString,st=nt.hasOwnProperty,ut=nt.toString,ct=RegExp("^"+ot.call(st).replace(Y,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ft=et.splice,lt=x(tt,"Map"),ht=x(tt,"Set"),pt=x(Object,"create");l.prototype.clear=h,l.prototype["delete"]=p,l.prototype.get=d,l.prototype.has=y,l.prototype.set=g,v.prototype.clear=m,v.prototype["delete"]=b,v.prototype.get=E,v.prototype.has=w,v.prototype.set=_,C.prototype.clear=S,C.prototype["delete"]=A,C.prototype.get=T,C.prototype.has=B,C.prototype.set=I,k.prototype.add=k.prototype.push=R,k.prototype.has=N;var dt=ht&&1/f(new ht([,-0]))[1]==W?function(t){return new ht(t)}:q;t.exports=M}).call(e,function(){return this}())},function(t,e,r){function n(t,e,r){var n=e&&r||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){i<16&&(e[n+i++]=c[t])});i<16;)e[n+i++]=0;return e}function i(t,e){var r=e||0,n=u;return n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+"-"+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]+n[t[r++]]}function a(t,e,r){var n=e&&r||0,a=e||[];t=t||{};var o=void 0!==t.clockseq?t.clockseq:p,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),u=void 0!==t.nsecs?t.nsecs:y+1,c=s-d+(u-y)/1e4;if(c<0&&void 0===t.clockseq&&(o=o+1&16383),(c<0||s>d)&&void 0===t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=s,y=u,p=o,s+=122192928e5;var f=(1e4*(268435455&s)+u)%4294967296;a[n++]=f>>>24&255,a[n++]=f>>>16&255,a[n++]=f>>>8&255,a[n++]=255&f;var l=s/4294967296*1e4&268435455;a[n++]=l>>>8&255,a[n++]=255&l,a[n++]=l>>>24&15|16,a[n++]=l>>>16&255,a[n++]=o>>>8|128,a[n++]=255&o;for(var g=t.node||h,v=0;v<6;v++)a[n+v]=g[v];return e?e:i(a)}function o(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var a=t.random||(t.rng||s)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var o=0;o<16;o++)e[n+o]=a[o];return e||i(a)}for(var s=r(112),u=[],c={},f=0;f<256;f++)u[f]=(f+256).toString(16).substr(1),c[u[f]]=f;var l=s(),h=[1|l[0],l[1],l[2],l[3],l[4],l[5]],p=16383&(l[6]<<8|l[7]),d=0,y=0,g=o;g.v1=a,g.v4=o,g.parse=n,g.unparse=i,t.exports=g},function(t,e){(function(e){var r;if(e.crypto&&crypto.getRandomValues){var n=new Uint8Array(16);r=function(){return crypto.getRandomValues(n),n}}if(!r){var i=new Array(16);r=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}t.exports=r}).call(e,function(){return this}())},function(t,e){/*!
	 * jwk/constants.js - Constants for JWKs
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";t.exports={MODE_SIGN:"sign",MODE_VERIFY:"verify",MODE_ENCRYPT:"encrypt",MODE_DECRYPT:"decrypt",MODE_WRAP:"wrap",MODE_UNWRAP:"unwrap"}},function(t,e,r){(function(e){/*!
	 * jwk/helpers.js - JWK Internal Helper Functions and Constants
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";var n=r(84),i=r(70),a=r(30),o=r(24),s={name:"PrivateKeyInfo",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.INTEGER,constructed:!1,capture:"keyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"PrivateKeyInfo",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.OCTETSTRING,constructed:!1,capture:"keyValue"}]},u={name:"SubjectPublicKeyInfo",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.OID,constructed:!1,capture:"keyOid"},{name:"AlgorithmIdentifier.parameters",captureAsn1:"keyParams"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.BITSTRING,constructed:!1,capture:"keyValue"}]},c={name:"Certificate",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:a.asn1.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},u,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:a.asn1.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.BITSTRING,constructed:!1,capture:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:a.asn1.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.BITSTRING,constructed:!1,capture:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:a.asn1.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:a.asn1.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:a.asn1.Class.UNIVERSAL,type:a.asn1.Type.BITSTRING,constructed:!1,capture:"certSignature"}]},f={THUMBPRINT_KEY:"internal\0thumbprint",THUMBPRINT_HASH:"SHA-256"};t.exports={validators:{privateKey:s,publicKey:u,certificate:c},thumbprint:function(t,r,n){if("function"!=typeof t.thumbprint)return Promise.reject(new Error("thumbprint not supported"));n=(n||f.THUMBPRINT_HASH).toUpperCase();var a=t.thumbprint(r),s=Object.keys(a).sort().map(function(t){var r=a[t];return e.isBuffer(r)&&(r=i.base64url.encode(r)),JSON.stringify(t)+":"+JSON.stringify(r)});s="{"+s.join(",")+"}";try{return o.digest(n,new e(s,"utf8"))}catch(u){return Promise.reject(u)}},unpackProps:function(t,r){var a;r.forEach(function(r){if(r.name in t){a=a||{};var o=t[r.name];switch(r.type){case"binary":e.isBuffer(o)?(o=o,t[r.name]=i.base64url.encode(o)):o=i.base64url.decode(o);break;case"string":case"number":case"boolean":o=o;break;case"array":o=[].concat(o);break;case"object":o=n(o);break;default:o=o}a[r.name]=o}});var o=a||{};return Object.keys(t).forEach(function(e){e in o||delete t[e]}),a},COMMON_PROPS:[{name:"kty",type:"string"},{name:"kid",type:"string"},{name:"use",type:"string"},{name:"alg",type:"string"},{name:"x5c",type:"array"},{name:"x5t",type:"binary"},{name:"x5u",type:"string"},{name:"key_ops",type:"array"}],INTERNALS:f}}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * jwk/octkey.js - Symmetric Octet Key Representation
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t,r){return"iv"in r&&(r.iv=e.isBuffer(r.iv)?r.iv:a.base64url.decode(r.iv||"")),"adata"in r&&(r.adata=e.isBuffer(r.adata)?r.adata:new e(r.adata||"","utf8")),"mac"in r&&(r.mac=e.isBuffer(r.mac)?r.mac:a.base64url.decode(r.mac||"")),"tag"in r&&(r.tag=e.isBuffer(r.tag)?r.tag:a.base64url.decode(r.tag||"")),r}function i(t,r){return"iv"in r&&(r.iv=e.isBuffer(r.iv)?r.iv:a.base64url.decode(r.iv||"")),"adata"in r&&(r.adata=e.isBuffer(r.adata)?r.adata:new e(r.adata||"","utf8")),r}var a=r(70),o={BaseKey:r(107),helpers:r(114)},s=["HS256","HS384","HS512"],u=["A128GCM","A192GCM","A256GCM","A128CBC-HS256","A192CBC-HS384","A256CBC-HS512","A128CBC+HS256","A192CBC+HS384","A256CBC+HS512"],c=["A128KW","A192KW","A256KW","A128GCMKW","A192GCMKW","A256GCMKW","PBES2-HS256+A128KW","PBES2-HS384+A192KW","PBES2-HS512+A256KW","dir"],f={publicKey:function(t){var e,r=o.helpers.COMMON_PROPS.concat([]);return e=o.helpers.unpackProps(t,r)},privateKey:function(t){var e,r=o.helpers.COMMON_PROPS.concat([{name:"k",type:"binary"}]);return e=o.helpers.unpackProps(t,r),e&&e.k?e.length=8*e.k.length:e=void 0,e},thumbprint:function(t){t["private"]&&(t=t["private"]);var e;return e={k:t.k||"",kty:"oct"}},algorithms:function(t,e){var r=t["private"]&&8*t["private"].k.length,n=[256,384,512];if(!r)return[];switch(e){case"encrypt":case"decrypt":return u.filter(function(t){return t==="A"+r/2+"CBC-HS"+r||t==="A"+r/2+"CBC+HS"+r||t==="A"+r+"GCM"});case"sign":case"verify":return s.filter(function(t){var e=!1;return n.forEach(function(n){n>r||(e|=t==="HS"+n)}),e});case"wrap":case"unwrap":return c.filter(function(t){return t==="A"+r+"KW"||t==="A"+r+"GCMKW"||0===t.indexOf("PBES2-")||"dir"===t})}return[]},encryptKey:function(t,e){return e["private"]&&e["private"].k},encryptProps:i,decryptKey:function(t,e){return e["private"]&&e["private"].k},decryptProps:n,wrapKey:function(t,e){return e["private"]&&e["private"].k},wrapProps:i,unwrapKey:function(t,e){return e["private"]&&e["private"].k},unwrapProps:n,signKey:function(t,e){return e["private"]&&e["private"].k},verifyKey:function(t,e){return e["private"]&&e["private"].k}},l={kty:"oct",prepare:function(t){var e=f,r=Promise.resolve(t);return r=r.then(function(t){return o.helpers.thumbprint(e,t)}),r=r.then(function(r){var n={};return n[o.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[o.helpers.INTERNALS.THUMBPRINT_KEY]=n,e})},generate:function(t){var e=a.randomBytes(t/8);return Promise.resolve({k:e})}};t.exports=Object.freeze({config:f,factory:l}),function(t){t.register(l)}(r(106).registry)}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * jwk/rsa.js - RSA Key Representation
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t){return t=t.toString(16),t.length%2&&(t="0"+t),new e(t,"hex")}var i=r(30),a=r(99),o={BaseKey:r(107),helpers:r(114)},s=["RS256","RS384","RS512","PS256","PS384","PS512"],u=["RSA-OAEP","RSA-OAEP-256","RSA1_5"],c={publicKey:function(t){var e,r=o.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"}]);return e=o.helpers.unpackProps(t,r),e&&e.n&&e.e?e.length=8*e.n.length:(delete e.e,delete e.n),e},privateKey:function(t){var e,r=o.helpers.COMMON_PROPS.concat([{name:"n",type:"binary"},{name:"e",type:"binary"},{name:"d",type:"binary"},{name:"p",type:"binary"},{name:"q",type:"binary"},{name:"dp",type:"binary"},{name:"dq",type:"binary"},{name:"qi",type:"binary"}]);return e=o.helpers.unpackProps(t,r),e&&e.d&&e.n&&e.e&&e.p&&e.q&&e.dp&&e.dq&&e.qi?e.length=8*e.d.length:e=void 0,e},thumbprint:function(t){t["public"]&&(t=t["public"]);var e={e:t.e,kty:"RSA",n:t.n};return e},algorithms:function(t,e){switch(e){case"encrypt":case"decrypt":return[];case"wrap":return t["public"]&&u.slice()||[];case"unwrap":return t["private"]&&u.slice()||[];case"sign":return t["private"]&&s.slice()||[];case"verify":return t["public"]&&s.slice()||[]}return[]},wrapKey:function(t,e){return e["public"]},unwrapKey:function(t,e){return e["private"]},signKey:function(t,e){return e["private"]},verifyKey:function(t,e){return e["public"]},convertToPEM:function(t,e){var r=a.convertToForge(t,!e);return e?i.pki.privateKeyToPem(r):i.pki.publicKeyToPem(r)}},f={oid:"1.2.840.113549.1.1.1",privateKey:{name:"RSAPrivateKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"version"},{name:"RSAPrivateKey.modulus",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPrivateKey.publicExponent",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"e"},{name:"RSAPrivateKey.privateExponent",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"d"},{name:"RSAPrivateKey.prime1",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"p"},{name:"RSAPrivateKey.prime2",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"q"},{name:"RSAPrivateKey.exponent1",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"dp"},{name:"RSAPrivateKey.exponent2",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"dq"},{name:"RSAPrivateKey.coefficient",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"qi"}]},publicKey:{name:"RSAPublicKey",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"n"},{name:"RSAPublicKey.exponent",tagClass:i.asn1.Class.UNIVERSAL,type:i.asn1.Type.INTEGER,constructed:!1,capture:"e"}]}},l={kty:"RSA",validators:f,prepare:function(t){var e=c,r=Promise.resolve(t);return r=r.then(function(t){return o.helpers.thumbprint(e,t)}),r=r.then(function(r){var n={};return n[o.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[o.helpers.INTERNALS.THUMBPRINT_KEY]=n,e})},generate:function(t){var e=i.pki.rsa.generateKeyPair({bits:t,e:65537});e=e.privateKey;var r={};return["e","n","d","p","q",{incoming:"dP",outgoing:"dp"},{incoming:"dQ",outgoing:"dq"},{incoming:"qInv",outgoing:"qi"}].forEach(function(t){var i,a;"string"==typeof t?i=a=t:(i=t.incoming,a=t.outgoing),i in e&&(r[a]=n(e[i]))}),Promise.resolve(r)},"import":function(t){if(f.oid!==t.keyOid)return null;if(!t.parsed){"string"==typeof t.keyValue?t.keyValue=i.asn1.fromDer(t.keyValue):Array.isArray(t.keyValue)&&(t.keyValue=t.keyValue[0]);var r="private"===t.type?f.privateKey:f.publicKey,n={},a=[];if(!i.asn1.validate(t.keyValue,r,n,a))return null;t=n}var o={kty:"RSA"};return["n","e","d","p","q","dp","dq","qi"].forEach(function(r){if(r in t){var n=new e(t[r],"binary");0===n[0]&&(n=n.slice(1)),o[r]=n}}),o}};t.exports=Object.freeze({config:c,factory:l}),function(t){t.register(l)}(r(106).registry)}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * jwk/rsa.js - RSA Key Representation
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t){switch(t){case"1.2.840.10045.3.1.7":return"P-256";case"1.3.132.0.34":return"P-384";case"1.3.132.0.35":return"P-521";default:return null}}function i(t){switch(t){case"P-256":return"1.2.840.10045.3.1.7";case"P-384":return"1.3.132.0.34";case"P-521":return"1.3.132.0.35";default:return null}}var a=r(90),o=r(30),s=r(91),u={BaseKey:r(107),helpers:r(114)},c=["ES256","ES384","ES512"],f=["ECDH-ES","ECDH-ES+A128KW","ECDH-ES+A192KW","ECDH-ES+A256KW"],l="1.2.840.10045.2.1",h={publicKey:function(t){var e=u.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"}]),r=u.helpers.unpackProps(t,e);return r&&r.crv&&r.x&&r.y?r.length=a.curveSize(r.crv):(delete r.crv,delete r.x,delete r.y),r},privateKey:function(t){var e=u.helpers.COMMON_PROPS.concat([{name:"crv",type:"string"},{name:"x",type:"binary"},{name:"y",type:"binary"},{name:"d",type:"binary"}]),r=u.helpers.unpackProps(t,e);return r&&r.crv&&r.x&&r.y&&r.d?r.length=a.curveSize(r.crv):r=void 0,r},thumbprint:function(t){t["public"]&&(t=t["public"]);var e={crv:t.crv,kty:"EC",x:t.x,y:t.y};return e},algorithms:function(t,e){var r=t["public"]&&t["public"].length||t["private"]&&t["private"].length||0;switch(521===r&&(r=512),e){case"encrypt":case"decrypt":return[];case"wrap":return t["public"]&&f||[];case"unwrap":return t["private"]&&f||[];case"sign":return t["private"]?c.filter(function(t){return t==="ES"+r}):[];case"verify":return t["public"]?c.filter(function(t){return t==="ES"+r}):[]}},encryptKey:function(t,e){return e["public"]},decryptKey:function(t,e){return e["private"]},wrapKey:function(t,e){return e["public"]},unwrapKey:function(t,e){return e["private"]},signKey:function(t,e){return e["private"]},verifyKey:function(t,e){return e["public"]},convertToPEM:function(t,r){var n=t.crv;n=i(n),n=o.asn1.oidToDer(n);var a,s,u;r?(a="EC PRIVATE KEY",s=e.concat([new e([0,4]),t.x,t.y]).toString("binary"),t=t.d.toString("binary"),u=o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.INTEGER,!1,""),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OCTETSTRING,!1,t),o.asn1.create(o.asn1.Class.CONTEXT_SPECIFIC,0,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,n.bytes())]),o.asn1.create(o.asn1.Class.CONTEXT_SPECIFIC,1,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.BITSTRING,!1,s)])])):(a="PUBLIC KEY",t=e.concat([new e([0,4]),t.x,t.y]).toString("binary"),u=o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.SEQUENCE,!0,[o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,o.asn1.oidToDer(l).bytes()),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.OID,!1,n.bytes())]),o.asn1.create(o.asn1.Class.UNIVERSAL,o.asn1.Type.BITSTRING,!1,t)])),u=o.asn1.toDer(u).bytes();var c=o.pem.encode({type:a,body:u});return c}},p={oid:l,privateKey:{name:"ECPrivateKey",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{tagClass:o.asn1.Class.CONTEXT_SPECIFIC,name:"ECPrivateKey.parameters",constructed:!0,value:[{name:"ECPrivateKey.namedCurve",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OID,constructed:!1,capture:"crv"}]},{name:"ECPrivateKey.publicKey",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]},embeddedPrivateKey:{name:"ECPrivateKey",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.SEQUENCE,constructed:!0,value:[{name:"ECPrivateKey.version",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.INTEGER,constructed:!1},{name:"ECPrivateKey.private",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.OCTETSTRING,constructed:!1,capture:"d"},{name:"ECPrivateKey.publicKey",tagClass:o.asn1.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"ECPrivateKey.point",tagClass:o.asn1.Class.UNIVERSAL,type:o.asn1.Type.BITSTRING,constructed:!1,capture:"point"}]}]}},d={kty:"EC",validators:p,prepare:function(t){var e=h,r=Promise.resolve(t);return r=r.then(function(t){return u.helpers.thumbprint(e,t)}),r=r.then(function(r){var n={};return n[u.helpers.INTERNALS.THUMBPRINT_HASH]=r,t[u.helpers.INTERNALS.THUMBPRINT_KEY]=n,e})},generate:function(t){var e=s.generateKeyPair(t),r={crv:t,x:e["public"].x,y:e["public"].y,d:e["private"].d};return Promise.resolve(r)},"import":function(t){if(p.oid!==t.keyOid)return null;var r;if(t.keyParams&&o.asn1.Type.OID===t.keyParams.type?(r=o.asn1.derToOid(t.keyParams.value),r=n(r)):t.crv&&(r=o.asn1.derToOid(t.crv),r=n(r)),!r)return null;if(!t.parsed){var i={},a=[];if("private"===t.type){if("string"==typeof t.keyValue?t.keyValue=o.asn1.fromDer(t.keyValue):Array.isArray(t.keyValue)&&(t.keyValue=t.keyValue[0]),!o.asn1.validate(t.keyValue,p.embeddedPrivateKey,i,a))return null}else i.point=t.keyValue;t=i}var s={kty:"EC",crv:r};if(t.d&&(s.d=new e(t.d,"binary")),t.point){var u=new e(t.point,"binary");if(4!==u.readUInt16BE(0))return null;u=u.slice(2);var c=u.length/2;s.x=u.slice(0,c),s.y=u.slice(c)}return s}};t.exports=Object.freeze({config:h,factory:d}),function(t){t.register(d)}(r(106).registry)}).call(e,r(1).Buffer)},function(t,e,r){(function(t,n){function i(e,r,n){function i(){for(var t;null!==(t=e.read());)s.push(t),u+=t.length;e.once("readable",i)}function a(t){e.removeListener("end",o),e.removeListener("readable",i),n(t)}function o(){var r=t.concat(s,u);s=[],n(null,r),e.close()}var s=[],u=0;e.on("error",a),e.on("end",o),e.end(r),i()}function a(e,r){if("string"==typeof r&&(r=new t(r)),!t.isBuffer(r))throw new TypeError("Not a string or buffer");var n=y.Z_FINISH;return e._processChunk(r,n)}function o(t){return this instanceof o?void p.call(this,t,y.DEFLATE):new o(t)}function s(t){return this instanceof s?void p.call(this,t,y.INFLATE):new s(t)}function u(t){return this instanceof u?void p.call(this,t,y.GZIP):new u(t)}function c(t){return this instanceof c?void p.call(this,t,y.GUNZIP):new c(t)}function f(t){return this instanceof f?void p.call(this,t,y.DEFLATERAW):new f(t)}function l(t){return this instanceof l?void p.call(this,t,y.INFLATERAW):new l(t)}function h(t){return this instanceof h?void p.call(this,t,y.UNZIP):new h(t)}function p(r,n){if(this._opts=r=r||{},this._chunkSize=r.chunkSize||e.Z_DEFAULT_CHUNK,d.call(this,r),r.flush&&r.flush!==y.Z_NO_FLUSH&&r.flush!==y.Z_PARTIAL_FLUSH&&r.flush!==y.Z_SYNC_FLUSH&&r.flush!==y.Z_FULL_FLUSH&&r.flush!==y.Z_FINISH&&r.flush!==y.Z_BLOCK)throw new Error("Invalid flush flag: "+r.flush);if(this._flushFlag=r.flush||y.Z_NO_FLUSH,r.chunkSize&&(r.chunkSize<e.Z_MIN_CHUNK||r.chunkSize>e.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+r.chunkSize);if(r.windowBits&&(r.windowBits<e.Z_MIN_WINDOWBITS||r.windowBits>e.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+r.windowBits);if(r.level&&(r.level<e.Z_MIN_LEVEL||r.level>e.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+r.level);if(r.memLevel&&(r.memLevel<e.Z_MIN_MEMLEVEL||r.memLevel>e.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+r.memLevel);if(r.strategy&&r.strategy!=e.Z_FILTERED&&r.strategy!=e.Z_HUFFMAN_ONLY&&r.strategy!=e.Z_RLE&&r.strategy!=e.Z_FIXED&&r.strategy!=e.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+r.strategy);if(r.dictionary&&!t.isBuffer(r.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new y.Zlib(n);var i=this;this._hadError=!1,this._binding.onerror=function(t,r){i._binding=null,i._hadError=!0;var n=new Error(t);n.errno=r,n.code=e.codes[r],i.emit("error",n)};var a=e.Z_DEFAULT_COMPRESSION;"number"==typeof r.level&&(a=r.level);var o=e.Z_DEFAULT_STRATEGY;"number"==typeof r.strategy&&(o=r.strategy),this._binding.init(r.windowBits||e.Z_DEFAULT_WINDOWBITS,a,r.memLevel||e.Z_DEFAULT_MEMLEVEL,o,r.dictionary),this._buffer=new t(this._chunkSize),this._offset=0,this._closed=!1,this._level=a,this._strategy=o,this.once("end",this.close)}var d=r(119),y=r(136),g=r(148),v=r(150).ok;y.Z_MIN_WINDOWBITS=8,y.Z_MAX_WINDOWBITS=15,y.Z_DEFAULT_WINDOWBITS=15,y.Z_MIN_CHUNK=64,y.Z_MAX_CHUNK=1/0,y.Z_DEFAULT_CHUNK=16384,y.Z_MIN_MEMLEVEL=1,y.Z_MAX_MEMLEVEL=9,y.Z_DEFAULT_MEMLEVEL=8,y.Z_MIN_LEVEL=-1,y.Z_MAX_LEVEL=9,y.Z_DEFAULT_LEVEL=y.Z_DEFAULT_COMPRESSION,Object.keys(y).forEach(function(t){t.match(/^Z/)&&(e[t]=y[t])}),e.codes={Z_OK:y.Z_OK,Z_STREAM_END:y.Z_STREAM_END,Z_NEED_DICT:y.Z_NEED_DICT,Z_ERRNO:y.Z_ERRNO,Z_STREAM_ERROR:y.Z_STREAM_ERROR,Z_DATA_ERROR:y.Z_DATA_ERROR,Z_MEM_ERROR:y.Z_MEM_ERROR,Z_BUF_ERROR:y.Z_BUF_ERROR,Z_VERSION_ERROR:y.Z_VERSION_ERROR},Object.keys(e.codes).forEach(function(t){e.codes[e.codes[t]]=t}),e.Deflate=o,e.Inflate=s,e.Gzip=u,e.Gunzip=c,e.DeflateRaw=f,e.InflateRaw=l,e.Unzip=h,e.createDeflate=function(t){return new o(t)},e.createInflate=function(t){return new s(t)},e.createDeflateRaw=function(t){return new f(t)},e.createInflateRaw=function(t){return new l(t)},e.createGzip=function(t){return new u(t)},e.createGunzip=function(t){return new c(t)},e.createUnzip=function(t){return new h(t)},e.deflate=function(t,e,r){return"function"==typeof e&&(r=e,e={}),i(new o(e),t,r)},e.deflateSync=function(t,e){return a(new o(e),t)},e.gzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),i(new u(e),t,r)},e.gzipSync=function(t,e){return a(new u(e),t)},e.deflateRaw=function(t,e,r){return"function"==typeof e&&(r=e,e={}),i(new f(e),t,r)},e.deflateRawSync=function(t,e){return a(new f(e),t)},e.unzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),i(new h(e),t,r)},e.unzipSync=function(t,e){return a(new h(e),t)},e.inflate=function(t,e,r){return"function"==typeof e&&(r=e,e={}),i(new s(e),t,r)},e.inflateSync=function(t,e){return a(new s(e),t)},e.gunzip=function(t,e,r){return"function"==typeof e&&(r=e,e={}),i(new c(e),t,r)},e.gunzipSync=function(t,e){return a(new c(e),t)},e.inflateRaw=function(t,e,r){return"function"==typeof e&&(r=e,e={}),i(new l(e),t,r)},e.inflateRawSync=function(t,e){return a(new l(e),t)},g.inherits(p,d),p.prototype.params=function(t,r,i){if(t<e.Z_MIN_LEVEL||t>e.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+t);if(r!=e.Z_FILTERED&&r!=e.Z_HUFFMAN_ONLY&&r!=e.Z_RLE&&r!=e.Z_FIXED&&r!=e.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==t||this._strategy!==r){var a=this;this.flush(y.Z_SYNC_FLUSH,function(){a._binding.params(t,r),a._hadError||(a._level=t,a._strategy=r,i&&i())})}else n.nextTick(i)},p.prototype.reset=function(){return this._binding.reset()},p.prototype._flush=function(e){this._transform(new t(0),"",e)},p.prototype.flush=function(e,r){var i=this._writableState;if(("function"==typeof e||void 0===e&&!r)&&(r=e,e=y.Z_FULL_FLUSH),i.ended)r&&n.nextTick(r);else if(i.ending)r&&this.once("end",r);else if(i.needDrain){var a=this;this.once("drain",function(){a.flush(r)})}else this._flushFlag=e,this.write(new t(0),"",r)},p.prototype.close=function(t){if(t&&n.nextTick(t),!this._closed){this._closed=!0,this._binding.close();var e=this;n.nextTick(function(){e.emit("close")})}},p.prototype._transform=function(e,r,n){var i,a=this._writableState,o=a.ending||a.ended,s=o&&(!e||a.length===e.length);if(null===!e&&!t.isBuffer(e))return n(new Error("invalid input"));s?i=y.Z_FINISH:(i=this._flushFlag,e.length>=a.length&&(this._flushFlag=this._opts.flush||y.Z_NO_FLUSH));this._processChunk(e,i,n)},p.prototype._processChunk=function(e,r,n){function i(f,p){if(!u._hadError){var d=o-p;if(v(d>=0,"have should not go down"),d>0){var y=u._buffer.slice(u._offset,u._offset+d);u._offset+=d,c?u.push(y):(l.push(y),h+=y.length)}if((0===p||u._offset>=u._chunkSize)&&(o=u._chunkSize,u._offset=0,u._buffer=new t(u._chunkSize)),0===p){if(s+=a-f,a=f,!c)return!0;var g=u._binding.write(r,e,s,a,u._buffer,u._offset,u._chunkSize);return g.callback=i,void(g.buffer=e)}return!!c&&void n()}}var a=e&&e.length,o=this._chunkSize-this._offset,s=0,u=this,c="function"==typeof n;if(!c){var f,l=[],h=0;this.on("error",function(t){f=t});do var p=this._binding.writeSync(r,e,s,a,this._buffer,this._offset,o);while(!this._hadError&&i(p[0],p[1]));if(this._hadError)throw f;var d=t.concat(l,h);return this.close(),d}var y=this._binding.write(r,e,s,a,this._buffer,this._offset,o);y.buffer=e,y.callback=i},g.inherits(o,p),g.inherits(s,p),g.inherits(u,p),g.inherits(c,p),g.inherits(f,p),g.inherits(l,p),g.inherits(h,p)}).call(e,r(1).Buffer,r(20))},function(t,e,r){t.exports=r(120)},function(t,e,r){function n(t,e){this.afterTransform=function(t,r){return i(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,u.isNullOrUndefined(r)||t.push(r),i&&i(e);var a=t._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&t._read(a.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);s.call(this,t),this._transformState=new n(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){u.isFunction(this._flush)?this._flush(function(t){o(e,t)}):o(e)})}function o(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}t.exports=a;var s=r(121),u=r(122);u.inherits=r(123),u.inherits(a,s),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,r){throw new Error("not implemented")},a.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;u.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},function(t,e,r){(function(e){function n(t){return this instanceof n?(u.call(this,t),c.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new n(t)}function i(){this.allowHalfOpen||this._writableState.ended||e.nextTick(this.end.bind(this))}function a(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}t.exports=n;var o=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e},s=r(122);s.inherits=r(123);var u=r(124),c=r(129);s.inherits(n,u),a(o(c.prototype),function(t){n.prototype[t]||(n.prototype[t]=c.prototype[t])})}).call(e,r(20))},function(t,e,r){(function(t){function r(t){return Array.isArray?Array.isArray(t):"[object Array]"===g(t)}function n(t){return"boolean"==typeof t}function i(t){return null===t}function a(t){return null==t}function o(t){return"number"==typeof t}function s(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function c(t){return void 0===t}function f(t){return"[object RegExp]"===g(t)}function l(t){return"object"==typeof t&&null!==t}function h(t){return"[object Date]"===g(t)}function p(t){return"[object Error]"===g(t)||t instanceof Error}function d(t){return"function"==typeof t}function y(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function g(t){return Object.prototype.toString.call(t)}e.isArray=r,e.isBoolean=n,e.isNull=i,e.isNullOrUndefined=a,e.isNumber=o,e.isString=s,e.isSymbol=u,e.isUndefined=c,e.isRegExp=f,e.isObject=l,e.isDate=h,e.isError=p,e.isFunction=d,e.isPrimitive=y,e.isBuffer=t.isBuffer}).call(e,r(1).Buffer)},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){(function(e){function n(t,e){var n=r(121);t=t||{};var i=t.highWaterMark,a=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:a,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,e instanceof n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(I||(I=r(135).StringDecoder),this.decoder=new I(t.encoding),this.encoding=t.encoding)}function i(t){r(121);return this instanceof i?(this._readableState=new n(t,this),this.readable=!0,void T.call(this)):new i(t)}function a(t,e,r,n,i){var a=c(e,r);if(a)t.emit("error",a);else if(B.isNullOrUndefined(r))e.reading=!1,e.ended||f(t,e);else if(e.objectMode||r&&r.length>0)if(e.ended&&!i){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&i){var s=new Error("stream.unshift() after end event");t.emit("error",s)}else!e.decoder||i||n||(r=e.decoder.write(r)),i||(e.reading=!1),e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&l(t)),p(t,e);else i||(e.reading=!1);return o(e)}function o(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function s(t){if(t>=R)t=R;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||B.isNull(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=s(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function c(t,e){var r=null;return B.isBuffer(e)||B.isString(e)||B.isNullOrUndefined(e)||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function f(t,e){if(e.decoder&&!e.ended){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,l(t)}function l(t){var r=t._readableState;r.needReadable=!1,r.emittedReadable||(k("emitReadable",r.flowing),r.emittedReadable=!0,r.sync?e.nextTick(function(){h(t)}):h(t))}function h(t){k("emit readable"),t.emit("readable"),m(t)}function p(t,r){r.readingMore||(r.readingMore=!0,e.nextTick(function(){d(t,r)}))}function d(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(k("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function y(t){return function(){var e=t._readableState;k("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&A.listenerCount(t,"data")&&(e.flowing=!0,m(t))}}function g(t,r){r.resumeScheduled||(r.resumeScheduled=!0,e.nextTick(function(){v(t,r)}))}function v(t,e){e.resumeScheduled=!1,t.emit("resume"),m(t),e.flowing&&!e.reading&&t.read(0)}function m(t){var e=t._readableState;if(k("flow",e.flowing),e.flowing)do var r=t.read();while(null!==r&&e.flowing)}function b(t,e){var r,n=e.buffer,i=e.length,a=!!e.decoder,o=!!e.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!t||t>=i)r=a?n.join(""):S.concat(n,i),n.length=0;else if(t<n[0].length){var s=n[0];r=s.slice(0,t),n[0]=s.slice(t)}else if(t===n[0].length)r=n.shift();else{r=a?"":new S(t);for(var u=0,c=0,f=n.length;c<f&&u<t;c++){var s=n[0],l=Math.min(t-u,s.length);a?r+=s.slice(0,l):s.copy(r,u,0,l),l<s.length?n[0]=s.slice(l):n.shift(),u+=l}}return r}function E(t){var r=t._readableState;if(r.length>0)throw new Error("endReadable called on non-empty stream");r.endEmitted||(r.ended=!0,e.nextTick(function(){r.endEmitted||0!==r.length||(r.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function w(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}function _(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}t.exports=i;var C=r(125),S=r(1).Buffer;i.ReadableState=n;var A=r(126).EventEmitter;A.listenerCount||(A.listenerCount=function(t,e){return t.listeners(e).length});var T=r(127),B=r(122);B.inherits=r(123);var I,k=r(134);k=k&&k.debuglog?k.debuglog("stream"):function(){},B.inherits(i,T),i.prototype.push=function(t,e){var r=this._readableState;return B.isString(t)&&!r.objectMode&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=new S(t,e),e="")),a(this,r,t,e,!1)},i.prototype.unshift=function(t){var e=this._readableState;return a(this,e,t,"",!0)},i.prototype.setEncoding=function(t){return I||(I=r(135).StringDecoder),this._readableState.decoder=new I(t),this._readableState.encoding=t,this};var R=8388608;i.prototype.read=function(t){k("read",t);var e=this._readableState,r=t;if((!B.isNumber(t)||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return k("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?E(this):l(this),null;if(t=u(t,e),0===t&&e.ended)return 0===e.length&&E(this),null;var n=e.needReadable;k("need readable",n),(0===e.length||e.length-t<e.highWaterMark)&&(n=!0,k("length less than watermark",n)),(e.ended||e.reading)&&(n=!1,k("reading or ended",n)),n&&(k("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),n&&!e.reading&&(t=u(r,e));var i;return i=t>0?b(t,e):null,B.isNull(i)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),r!==t&&e.ended&&0===e.length&&E(this),B.isNull(i)||this.emit("data",i),i},i.prototype._read=function(t){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(t,r){function n(t){k("onunpipe"),t===l&&a()}function i(){k("onend"),t.end()}function a(){k("cleanup"),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("drain",g),t.removeListener("error",s),t.removeListener("unpipe",n),l.removeListener("end",i),l.removeListener("end",a),l.removeListener("data",o),!h.awaitDrain||t._writableState&&!t._writableState.needDrain||g()}function o(e){k("ondata");var r=t.write(e);!1===r&&(k("false write response, pause",l._readableState.awaitDrain),l._readableState.awaitDrain++,l.pause())}function s(e){k("onerror",e),f(),t.removeListener("error",s),0===A.listenerCount(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",c),f()}function c(){k("onfinish"),t.removeListener("close",u),f()}function f(){k("unpipe"),l.unpipe(t)}var l=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1,k("pipe count=%d opts=%j",h.pipesCount,r);var p=(!r||r.end!==!1)&&t!==e.stdout&&t!==e.stderr,d=p?i:a;h.endEmitted?e.nextTick(d):l.once("end",d),t.on("unpipe",n);var g=y(l);return t.on("drain",g),l.on("data",o),t._events&&t._events.error?C(t._events.error)?t._events.error.unshift(s):t._events.error=[s,t._events.error]:t.on("error",s),t.once("close",u),t.once("finish",c),t.emit("pipe",l),h.flowing||(k("pipe resume"),l.resume()),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var i=_(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,r){var n=T.prototype.on.call(this,t,r);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&l(this,i);else{var a=this;e.nextTick(function(){k("readable nexttick read 0"),a.read(0)})}}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var t=this._readableState;return t.flowing||(k("resume"),t.flowing=!0,t.reading||(k("resume read 0"),this.read(0)),g(this,t)),this},i.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(t){var e=this._readableState,r=!1,n=this;t.on("end",function(){if(k("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&n.push(t)}n.push(null)}),t.on("data",function(i){if(k("wrapped data"),e.decoder&&(i=e.decoder.write(i)),i&&(e.objectMode||i.length)){var a=n.push(i);a||(r=!0,t.pause())}});for(var i in t)B.isFunction(t[i])&&B.isUndefined(this[i])&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));var a=["error","close","destroy","pause","resume"];return w(a,function(e){t.on(e,n.emit.bind(n,e))}),n._read=function(e){k("wrapped _read",e),r&&(r=!1,t.resume())},n},i._fromList=b}).call(e,r(20))},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,s,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(r=this._events[t],o(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(a(r))for(s=Array.prototype.slice.call(arguments,1),c=r.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,s);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(i=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,o,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],o=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(r)){for(s=o;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){i=s;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){function n(){i.call(this)}t.exports=n;var i=r(126).EventEmitter,a=r(123);a(n,i),n.Readable=r(128),n.Writable=r(131),n.Duplex=r(132),n.Transform=r(119),n.PassThrough=r(133),n.Stream=n,n.prototype.pipe=function(t,e){function r(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function n(){c.readable&&c.resume&&c.resume()}function a(){f||(f=!0,t.end())}function o(){f||(f=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){c.removeListener("data",r),t.removeListener("drain",n),c.removeListener("end",a),c.removeListener("close",o),c.removeListener("error",s),t.removeListener("error",s),c.removeListener("end",u),c.removeListener("close",u),t.removeListener("close",u)}var c=this;c.on("data",r),t.on("drain",n),t._isStdio||e&&e.end===!1||(c.on("end",a),c.on("close",o));var f=!1;return c.on("error",s),t.on("error",s),c.on("end",u),c.on("close",u),t.on("close",u),t.emit("pipe",c),t}},function(t,e,r){(function(n){e=t.exports=r(124),e.Stream=r(127),e.Readable=e,e.Writable=r(129),e.Duplex=r(121),e.Transform=r(120),e.PassThrough=r(130),n.browser||"disable"!==n.env.READABLE_STREAM||(t.exports=r(127))}).call(e,r(20))},function(t,e,r){(function(e){function n(t,e,r){this.chunk=t,this.encoding=e,this.callback=r}function i(t,e){var n=r(121);t=t||{};var i=t.highWaterMark,a=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:a,this.objectMode=!!t.objectMode,e instanceof n&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var o=t.decodeStrings===!1;this.decodeStrings=!o,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){p(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function a(t){var e=r(121);return this instanceof a||this instanceof e?(this._writableState=new i(t,this),this.writable=!0,void C.call(this)):new a(t)}function o(t,r,n){var i=new Error("write after end");t.emit("error",i),e.nextTick(function(){n(i)})}function s(t,r,n,i){var a=!0;if(!(_.isBuffer(n)||_.isString(n)||_.isNullOrUndefined(n)||r.objectMode)){var o=new TypeError("Invalid non-string/buffer chunk");t.emit("error",o),e.nextTick(function(){i(o)}),a=!1}return a}function u(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&_.isString(e)&&(e=new w(e,r)),e}function c(t,e,r,i,a){r=u(e,r,i),_.isBuffer(r)&&(i="buffer");var o=e.objectMode?1:r.length;e.length+=o;var s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked?e.buffer.push(new n(r,i,a)):f(t,e,!1,o,r,i,a),s}function f(t,e,r,n,i,a,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,a,e.onwrite),e.sync=!1}function l(t,r,n,i,a){n?e.nextTick(function(){r.pendingcb--,a(i)}):(r.pendingcb--,a(i)),t._writableState.errorEmitted=!0,t.emit("error",i)}function h(t){t.writing=!1,t.writecb=null,
t.length-=t.writelen,t.writelen=0}function p(t,r){var n=t._writableState,i=n.sync,a=n.writecb;if(h(n),r)l(t,n,i,r,a);else{var o=v(t,n);o||n.corked||n.bufferProcessing||!n.buffer.length||g(t,n),i?e.nextTick(function(){d(t,n,o,a)}):d(t,n,o,a)}}function d(t,e,r,n){r||y(t,e),e.pendingcb--,n(),b(t,e)}function y(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function g(t,e){if(e.bufferProcessing=!0,t._writev&&e.buffer.length>1){for(var r=[],n=0;n<e.buffer.length;n++)r.push(e.buffer[n].callback);e.pendingcb++,f(t,e,!0,e.length,e.buffer,"",function(t){for(var n=0;n<r.length;n++)e.pendingcb--,r[n](t)}),e.buffer=[]}else{for(var n=0;n<e.buffer.length;n++){var i=e.buffer[n],a=i.chunk,o=i.encoding,s=i.callback,u=e.objectMode?1:a.length;if(f(t,e,!1,u,a,o,s),e.writing){n++;break}}n<e.buffer.length?e.buffer=e.buffer.slice(n):e.buffer.length=0}e.bufferProcessing=!1}function v(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function m(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function b(t,e){var r=v(t,e);return r&&(0===e.pendingcb?(m(t,e),e.finished=!0,t.emit("finish")):m(t,e)),r}function E(t,r,n){r.ending=!0,b(t,r),n&&(r.finished?e.nextTick(n):t.once("finish",n)),r.ended=!0}t.exports=a;var w=r(1).Buffer;a.WritableState=i;var _=r(122);_.inherits=r(123);var C=r(127);_.inherits(a,C),a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},a.prototype.write=function(t,e,r){var n=this._writableState,i=!1;return _.isFunction(e)&&(r=e,e=null),_.isBuffer(t)?e="buffer":e||(e=n.defaultEncoding),_.isFunction(r)||(r=function(){}),n.ended?o(this,n,r):s(this,n,t,r)&&(n.pendingcb++,i=c(this,n,t,e,r)),i},a.prototype.cork=function(){var t=this._writableState;t.corked++},a.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.buffer.length||g(this,t))},a.prototype._write=function(t,e,r){r(new Error("not implemented"))},a.prototype._writev=null,a.prototype.end=function(t,e,r){var n=this._writableState;_.isFunction(t)?(r=t,t=null,e=null):_.isFunction(e)&&(r=e,e=null),_.isNullOrUndefined(t)||this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||E(this,n,r)}}).call(e,r(20))},function(t,e,r){function n(t){return this instanceof n?void i.call(this,t):new n(t)}t.exports=n;var i=r(120),a=r(122);a.inherits=r(123),a.inherits(n,i),n.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){t.exports=r(129)},function(t,e,r){t.exports=r(121)},function(t,e,r){t.exports=r(130)},function(t,e){},function(t,e,r){function n(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function a(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function o(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var s=r(1).Buffer,u=s.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=e.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),n(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=o;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";t=t.slice(r,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=e.charCodeAt(e.length-1);if(!(n>=55296&&n<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,n=e.charCodeAt(i);if(n>=55296&&n<=56319){var a=this.surrogateSize;return this.charLength+=a,this.charReceived+=a,this.charBuffer.copy(this.charBuffer,a,0,a),t.copy(this.charBuffer,0,0,a),e.substring(0,i)}return e},c.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var r=t[t.length-e];if(1==e&&r>>5==6){this.charLength=2;break}if(e<=2&&r>>4==14){this.charLength=3;break}if(e<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=e},c.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e}},function(t,e,r){(function(t,n){function i(t){if(t<e.DEFLATE||t>e.UNZIP)throw new TypeError("Bad argument");this.mode=t,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function a(t,e){for(var r=0;r<t.length;r++)this[e+r]=t[r]}var o=r(137),s=r(138),u=r(139),c=r(144),f=r(147);for(var l in f)e[l]=f[l];e.NONE=0,e.DEFLATE=1,e.INFLATE=2,e.GZIP=3,e.GUNZIP=4,e.DEFLATERAW=5,e.INFLATERAW=6,e.UNZIP=7,i.prototype.init=function(t,r,n,i,a){switch(this.windowBits=t,this.level=r,this.memLevel=n,this.strategy=i,this.mode!==e.GZIP&&this.mode!==e.GUNZIP||(this.windowBits+=16),this.mode===e.UNZIP&&(this.windowBits+=32),this.mode!==e.DEFLATERAW&&this.mode!==e.INFLATERAW||(this.windowBits=-this.windowBits),this.strm=new s,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:var o=u.deflateInit2(this.strm,this.level,e.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:case e.UNZIP:var o=c.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}return o!==e.Z_OK?void this._error(o):(this.write_in_progress=!1,void(this.init_done=!0))},i.prototype.params=function(){throw new Error("deflateParams Not supported")},i.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===e.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},i.prototype.write=function(e,r,n,i,a,o,s){this._writeCheck(),this.write_in_progress=!0;var u=this;return t.nextTick(function(){u.write_in_progress=!1;var t=u._write(e,r,n,i,a,o,s);u.callback(t[0],t[1]),u.pending_close&&u.close()}),this},i.prototype.writeSync=function(t,e,r,n,i,a,o){return this._writeCheck(),this._write(t,e,r,n,i,a,o)},i.prototype._write=function(t,r,i,o,s,f,l){if(this.write_in_progress=!0,t!==e.Z_NO_FLUSH&&t!==e.Z_PARTIAL_FLUSH&&t!==e.Z_SYNC_FLUSH&&t!==e.Z_FULL_FLUSH&&t!==e.Z_FINISH&&t!==e.Z_BLOCK)throw new Error("Invalid flush value");null==r&&(r=new n(0),o=0,i=0),s._set?s.set=s._set:s.set=a;var h=this.strm;switch(h.avail_in=o,h.input=r,h.next_in=i,h.avail_out=l,h.output=s,h.next_out=f,this.mode){case e.DEFLATE:case e.GZIP:case e.DEFLATERAW:var p=u.deflate(h,t);break;case e.UNZIP:case e.INFLATE:case e.GUNZIP:case e.INFLATERAW:var p=c.inflate(h,t);break;default:throw new Error("Unknown mode "+this.mode)}return p!==e.Z_STREAM_END&&p!==e.Z_OK&&this._error(p),this.write_in_progress=!1,[h.avail_in,h.avail_out]},i.prototype.close=function(){return this.write_in_progress?void(this.pending_close=!0):(this.pending_close=!1,this.mode===e.DEFLATE||this.mode===e.GZIP||this.mode===e.DEFLATERAW?u.deflateEnd(this.strm):c.inflateEnd(this.strm),void(this.mode=e.NONE))},i.prototype.reset=function(){switch(this.mode){case e.DEFLATE:case e.DEFLATERAW:var t=u.deflateReset(this.strm);break;case e.INFLATE:case e.INFLATERAW:var t=c.inflateReset(this.strm)}t!==e.Z_OK&&this._error(t)},i.prototype._error=function(t){this.onerror(o[t]+": "+this.strm.msg,t),this.write_in_progress=!1,this.pending_close&&this.close()},e.Zlib=i}).call(e,r(20),r(1).Buffer)},function(t,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},function(t,e,r){"use strict";function n(t,e){return t.msg=O[e],e}function i(t){return(t<<1)-(t>4?9:0)}function a(t){for(var e=t.length;--e>=0;)t[e]=0}function o(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(R.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function s(t,e){N._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,o(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function f(t,e,r,n){var i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,R.arraySet(e,t.input,t.next_in,i,r),1===t.state.wrap?t.adler=F(t.adler,e,i,r):2===t.state.wrap&&(t.adler=P(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)}function l(t,e){var r,n,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-lt?t.strstart-(t.w_size-lt):0,c=t.window,f=t.w_mask,l=t.prev,h=t.strstart+ft,p=c[a+o-1],d=c[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do if(r=e,c[r+o]===d&&c[r+o-1]===p&&c[r]===c[a]&&c[++r]===c[a+1]){a+=2,r++;do;while(c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&c[++a]===c[++r]&&a<h);if(n=ft-(h-a),a=h-ft,n>o){if(t.match_start=e,o=n,n>=s)break;p=c[a+o-1],d=c[a+o]}}while((e=l[e&f])>u&&0!==--i);return o<=t.lookahead?o:t.lookahead}function h(t){var e,r,n,i,a,o=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=o+(o-lt)){R.arraySet(t.window,t.window,o,o,0),t.match_start-=o,t.strstart-=o,t.block_start-=o,r=t.hash_size,e=r;do n=t.head[--e],t.head[e]=n>=o?n-o:0;while(--r);r=o,e=r;do n=t.prev[--e],t.prev[e]=n>=o?n-o:0;while(--r);i+=o}if(0===t.strm.avail_in)break;if(r=f(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=r,t.lookahead+t.insert>=ct)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+ct-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<ct)););}while(t.lookahead<lt&&0!==t.strm.avail_in)}function p(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(h(t),0===t.lookahead&&e===L)return Et;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,s(t,!1),0===t.strm.avail_out))return Et;if(t.strstart-t.block_start>=t.w_size-lt&&(s(t,!1),0===t.strm.avail_out))return Et}return t.insert=0,e===U?(s(t,!0),0===t.strm.avail_out?_t:Ct):t.strstart>t.block_start&&(s(t,!1),0===t.strm.avail_out)?Et:Et}function d(t,e){for(var r,n;;){if(t.lookahead<lt){if(h(t),t.lookahead<lt&&e===L)return Et;if(0===t.lookahead)break}if(r=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-lt&&(t.match_length=l(t,r)),t.match_length>=ct)if(n=N._tr_tally(t,t.strstart-t.match_start,t.match_length-ct),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ct){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=N._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(s(t,!1),0===t.strm.avail_out))return Et}return t.insert=t.strstart<ct-1?t.strstart:ct-1,e===U?(s(t,!0),0===t.strm.avail_out?_t:Ct):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?Et:wt}function y(t,e){for(var r,n,i;;){if(t.lookahead<lt){if(h(t),t.lookahead<lt&&e===L)return Et;if(0===t.lookahead)break}if(r=0,t.lookahead>=ct&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ct-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-lt&&(t.match_length=l(t,r),t.match_length<=5&&(t.strategy===G||t.match_length===ct&&t.strstart-t.match_start>4096)&&(t.match_length=ct-1)),t.prev_length>=ct&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-ct,n=N._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ct),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ct-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ct-1,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return Et}else if(t.match_available){if(n=N._tr_tally(t,0,t.window[t.strstart-1]),n&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return Et}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=N._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ct-1?t.strstart:ct-1,e===U?(s(t,!0),0===t.strm.avail_out?_t:Ct):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?Et:wt}function g(t,e){for(var r,n,i,a,o=t.window;;){if(t.lookahead<=ft){if(h(t),t.lookahead<=ft&&e===L)return Et;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ct&&t.strstart>0&&(i=t.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){a=t.strstart+ft;do;while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);t.match_length=ft-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ct?(r=N._tr_tally(t,1,t.match_length-ct),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=N._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(s(t,!1),0===t.strm.avail_out))return Et}return t.insert=0,e===U?(s(t,!0),0===t.strm.avail_out?_t:Ct):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?Et:wt}function v(t,e){for(var r;;){if(0===t.lookahead&&(h(t),0===t.lookahead)){if(e===L)return Et;break}if(t.match_length=0,r=N._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(s(t,!1),0===t.strm.avail_out))return Et}return t.insert=0,e===U?(s(t,!0),0===t.strm.avail_out?_t:Ct):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?Et:wt}function m(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function b(t){t.window_size=2*t.w_size,a(t.head),t.max_lazy_match=k[t.level].max_lazy,t.good_match=k[t.level].good_length,t.nice_match=k[t.level].nice_length,t.max_chain_length=k[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ct-1,t.match_available=0,t.ins_h=0}function E(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=$,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(2*st),this.dyn_dtree=new R.Buf16(2*(2*at+1)),this.bl_tree=new R.Buf16(2*(2*ot+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(ut+1),this.heap=new R.Buf16(2*it+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*it+1),a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=J,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?pt:mt,t.adler=2===e.wrap?0:1,e.last_flush=L,N._tr_init(e),M):n(t,V)}function _(t){var e=w(t);return e===M&&b(t.state),e}function C(t,e){return t&&t.state?2!==t.state.wrap?V:(t.state.gzhead=e,M):V}function S(t,e,r,i,a,o){if(!t)return V;var s=1;if(e===z&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>X||r!==$||i<8||i>15||e<0||e>9||o<0||o>Q)return n(t,V);8===i&&(i=9);var u=new E;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+ct-1)/ct),u.window=new R.Buf8(2*u.w_size),u.head=new R.Buf16(u.hash_size),u.prev=new R.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new R.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=o,u.method=r,_(t)}function A(t,e){return S(t,e,$,tt,et,Y)}function T(t,e){var r,s,f,l;if(!t||!t.state||e>j||e<0)return t?n(t,V):V;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===bt&&e!==U)return n(t,0===t.avail_out?q:V);if(s.strm=t,r=s.last_flush,s.last_flush=e,s.status===pt)if(2===s.wrap)t.adler=0,u(s,31),u(s,139),u(s,8),s.gzhead?(u(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),u(s,255&s.gzhead.time),u(s,s.gzhead.time>>8&255),u(s,s.gzhead.time>>16&255),u(s,s.gzhead.time>>24&255),u(s,9===s.level?2:s.strategy>=W||s.level<2?4:0),u(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(u(s,255&s.gzhead.extra.length),u(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=P(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=dt):(u(s,0),u(s,0),u(s,0),u(s,0),u(s,0),u(s,9===s.level?2:s.strategy>=W||s.level<2?4:0),u(s,St),s.status=mt);else{var h=$+(s.w_bits-8<<4)<<8,p=-1;p=s.strategy>=W||s.level<2?0:s.level<6?1:6===s.level?2:3,h|=p<<6,0!==s.strstart&&(h|=ht),h+=31-h%31,s.status=mt,c(s,h),0!==s.strstart&&(c(s,t.adler>>>16),c(s,65535&t.adler)),t.adler=1}if(s.status===dt)if(s.gzhead.extra){for(f=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>f&&(t.adler=P(t.adler,s.pending_buf,s.pending-f,f)),o(t),f=s.pending,s.pending!==s.pending_buf_size));)u(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>f&&(t.adler=P(t.adler,s.pending_buf,s.pending-f,f)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=yt)}else s.status=yt;if(s.status===yt)if(s.gzhead.name){f=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>f&&(t.adler=P(t.adler,s.pending_buf,s.pending-f,f)),o(t),f=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,u(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>f&&(t.adler=P(t.adler,s.pending_buf,s.pending-f,f)),0===l&&(s.gzindex=0,s.status=gt)}else s.status=gt;if(s.status===gt)if(s.gzhead.comment){f=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>f&&(t.adler=P(t.adler,s.pending_buf,s.pending-f,f)),o(t),f=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,u(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>f&&(t.adler=P(t.adler,s.pending_buf,s.pending-f,f)),0===l&&(s.status=vt)}else s.status=vt;if(s.status===vt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&o(t),s.pending+2<=s.pending_buf_size&&(u(s,255&t.adler),u(s,t.adler>>8&255),t.adler=0,s.status=mt)):s.status=mt),0!==s.pending){if(o(t),0===t.avail_out)return s.last_flush=-1,M}else if(0===t.avail_in&&i(e)<=i(r)&&e!==U)return n(t,q);if(s.status===bt&&0!==t.avail_in)return n(t,q);if(0!==t.avail_in||0!==s.lookahead||e!==L&&s.status!==bt){var d=s.strategy===W?v(s,e):s.strategy===Z?g(s,e):k[s.level].func(s,e);if(d!==_t&&d!==Ct||(s.status=bt),d===Et||d===_t)return 0===t.avail_out&&(s.last_flush=-1),M;if(d===wt&&(e===x?N._tr_align(s):e!==j&&(N._tr_stored_block(s,0,0,!1),e===D&&(a(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),o(t),0===t.avail_out))return s.last_flush=-1,M}return e!==U?M:s.wrap<=0?K:(2===s.wrap?(u(s,255&t.adler),u(s,t.adler>>8&255),u(s,t.adler>>16&255),u(s,t.adler>>24&255),u(s,255&t.total_in),u(s,t.total_in>>8&255),u(s,t.total_in>>16&255),u(s,t.total_in>>24&255)):(c(s,t.adler>>>16),c(s,65535&t.adler)),o(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?M:K)}function B(t){var e;return t&&t.state?(e=t.state.status,e!==pt&&e!==dt&&e!==yt&&e!==gt&&e!==vt&&e!==mt&&e!==bt?n(t,V):(t.state=null,e===mt?n(t,H):M)):V}function I(t,e){var r,n,i,o,s,u,c,f,l=e.length;if(!t||!t.state)return V;if(r=t.state,o=r.wrap,2===o||1===o&&r.status!==pt||r.lookahead)return V;for(1===o&&(t.adler=F(t.adler,e,l,0)),r.wrap=0,l>=r.w_size&&(0===o&&(a(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new R.Buf8(r.w_size),R.arraySet(f,e,l-r.w_size,r.w_size,0),e=f,l=r.w_size),s=t.avail_in,u=t.next_in,c=t.input,t.avail_in=l,t.next_in=0,t.input=e,h(r);r.lookahead>=ct;){n=r.strstart,i=r.lookahead-(ct-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+ct-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--i);r.strstart=n,r.lookahead=ct-1,h(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ct-1,r.match_available=0,t.next_in=u,t.input=c,t.avail_in=s,r.wrap=o,M}var k,R=r(140),N=r(141),F=r(142),P=r(143),O=r(137),L=0,x=1,D=3,U=4,j=5,M=0,K=1,V=-2,H=-3,q=-5,z=-1,G=1,W=2,Z=3,Q=4,Y=0,J=2,$=8,X=9,tt=15,et=8,rt=29,nt=256,it=nt+1+rt,at=30,ot=19,st=2*it+1,ut=15,ct=3,ft=258,lt=ft+ct+1,ht=32,pt=42,dt=69,yt=73,gt=91,vt=103,mt=113,bt=666,Et=1,wt=2,_t=3,Ct=4,St=3;k=[new m(0,0,0,0,p),new m(4,4,8,4,d),new m(4,5,16,8,d),new m(4,6,32,32,d),new m(4,4,16,16,y),new m(8,16,32,32,y),new m(8,16,128,128,y),new m(8,32,128,256,y),new m(32,128,258,1024,y),new m(32,258,258,4096,y)],e.deflateInit=A,e.deflateInit2=S,e.deflateReset=_,e.deflateResetKeep=w,e.deflateSetHeader=C,e.deflate=T,e.deflateEnd=B,e.deflateSetDictionary=I,e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)return void t.set(e.subarray(r,r+n),i);for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){var e,r,n,i,a,o;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(o=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)a=t[e],o.set(a,i),i+=a.length;return o}},i={arraySet:function(t,e,r,n,i){for(var a=0;a<n;a++)t[i+a]=e[r+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,n)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(r)},function(t,e,r){"use strict";function n(t){for(var e=t.length;--e>=0;)t[e]=0}function i(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function a(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function o(t){return t<256?ut[t]:ut[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,r){t.bi_valid>Q-r?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>Q-t.bi_valid,t.bi_valid+=r-Q):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function c(t,e,r){u(t,r[2*e],r[2*e+1])}function f(t,e){var r=0;do r|=1&t,t>>>=1,r<<=1;while(--e>0);return r>>>1}function l(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function h(t,e){var r,n,i,a,o,s,u=e.dyn_tree,c=e.max_code,f=e.stat_desc.static_tree,l=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,y=0;for(a=0;a<=Z;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<W;r++)n=t.heap[r],a=u[2*u[2*n+1]+1]+1,a>d&&(a=d,y++),u[2*n+1]=a,n>c||(t.bl_count[a]++,o=0,n>=p&&(o=h[n-p]),s=u[2*n],t.opt_len+=s*(a+o),l&&(t.static_len+=s*(f[2*n+1]+o)));if(0!==y){do{for(a=d-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[d]--,y-=2}while(y>0);for(a=d;0!==a;a--)for(n=t.bl_count[a];0!==n;)i=t.heap[--r],i>c||(u[2*i+1]!==a&&(t.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),n--)}}function p(t,e,r){var n,i,a=new Array(Z+1),o=0;for(n=1;n<=Z;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=f(a[s]++,s))}}function d(){var t,e,r,n,a,o=new Array(Z+1);for(r=0,n=0;n<V-1;n++)for(ft[n]=r,t=0;t<1<<et[n];t++)ct[r++]=n;for(ct[r-1]=n,a=0,n=0;n<16;n++)for(lt[n]=a,t=0;t<1<<rt[n];t++)ut[a++]=n;for(a>>=7;n<z;n++)for(lt[n]=a<<7,t=0;t<1<<rt[n]-7;t++)ut[256+a++]=n;for(e=0;e<=Z;e++)o[e]=0;for(t=0;t<=143;)ot[2*t+1]=8,t++,o[8]++;for(;t<=255;)ot[2*t+1]=9,t++,o[9]++;for(;t<=279;)ot[2*t+1]=7,t++,o[7]++;for(;t<=287;)ot[2*t+1]=8,t++,o[8]++;for(p(ot,q+1,o),t=0;t<z;t++)st[2*t+1]=5,st[2*t]=f(t,5);ht=new i(ot,et,H+1,q,Z),pt=new i(st,rt,0,z,Z),dt=new i(new Array(0),nt,0,G,Y)}function y(t){var e;for(e=0;e<q;e++)t.dyn_ltree[2*e]=0;for(e=0;e<z;e++)t.dyn_dtree[2*e]=0;for(e=0;e<G;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*J]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function g(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function v(t,e,r,n){g(t),n&&(s(t,r),s(t,~r)),F.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}function m(t,e,r,n){var i=2*e,a=2*r;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]}function b(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&m(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!m(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function E(t,e,r){var n,i,a,s,f=0;if(0!==t.last_lit)do n=t.pending_buf[t.d_buf+2*f]<<8|t.pending_buf[t.d_buf+2*f+1],i=t.pending_buf[t.l_buf+f],f++,0===n?c(t,i,e):(a=ct[i],c(t,a+H+1,e),s=et[a],0!==s&&(i-=ft[a],u(t,i,s)),n--,a=o(n),c(t,a,r),s=rt[a],0!==s&&(n-=lt[a],u(t,n,s)));while(f<t.last_lit);c(t,J,e)}function w(t,e){var r,n,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=W,r=0;r<u;r++)0!==a[2*r]?(t.heap[++t.heap_len]=c=r,t.depth[r]=0):a[2*r+1]=0;for(;t.heap_len<2;)i=t.heap[++t.heap_len]=c<2?++c:0,a[2*i]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=c,r=t.heap_len>>1;r>=1;r--)b(t,a,r);i=u;do r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],b(t,a,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,a[2*i]=a[2*r]+a[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,a[2*r+1]=a[2*n+1]=i,t.heap[1]=i++,b(t,a,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],h(t,e),p(a,c,t.bl_count)}function _(t,e,r){var n,i,a=-1,o=e[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=e[2*(n+1)+1],++s<u&&i===o||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[2*$]++):s<=10?t.bl_tree[2*X]++:t.bl_tree[2*tt]++,s=0,a=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4))}function C(t,e,r){var n,i,a=-1,o=e[1],s=0,f=7,l=4;for(0===o&&(f=138,l=3),n=0;n<=r;n++)if(i=o,o=e[2*(n+1)+1],!(++s<f&&i===o)){if(s<l){do c(t,i,t.bl_tree);while(0!==--s)}else 0!==i?(i!==a&&(c(t,i,t.bl_tree),s--),c(t,$,t.bl_tree),u(t,s-3,2)):s<=10?(c(t,X,t.bl_tree),u(t,s-3,3)):(c(t,tt,t.bl_tree),u(t,s-11,7));s=0,a=i,0===o?(f=138,l=3):i===o?(f=6,l=3):(f=7,l=4)}}function S(t){var e;for(_(t,t.dyn_ltree,t.l_desc.max_code),_(t,t.dyn_dtree,t.d_desc.max_code),w(t,t.bl_desc),e=G-1;e>=3&&0===t.bl_tree[2*it[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function A(t,e,r,n){var i;for(u(t,e-257,5),u(t,r-1,5),u(t,n-4,4),i=0;i<n;i++)u(t,t.bl_tree[2*it[i]+1],3);C(t,t.dyn_ltree,e-1),C(t,t.dyn_dtree,r-1)}function T(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return O;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return L;for(e=32;e<H;e++)if(0!==t.dyn_ltree[2*e])return L;return O}function B(t){yt||(d(),yt=!0),t.l_desc=new a(t.dyn_ltree,ht),t.d_desc=new a(t.dyn_dtree,pt),t.bl_desc=new a(t.bl_tree,dt),t.bi_buf=0,t.bi_valid=0,y(t)}function I(t,e,r,n){u(t,(D<<1)+(n?1:0),3),v(t,e,r,!0)}function k(t){u(t,U<<1,3),c(t,J,ot),l(t)}function R(t,e,r,n){var i,a,o=0;t.level>0?(t.strm.data_type===x&&(t.strm.data_type=T(t)),w(t,t.l_desc),w(t,t.d_desc),o=S(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&e!==-1?I(t,e,r,n):t.strategy===P||a===i?(u(t,(U<<1)+(n?1:0),3),E(t,ot,st)):(u(t,(j<<1)+(n?1:0),3),A(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),E(t,t.dyn_ltree,t.dyn_dtree)),y(t),n&&g(t)}function N(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(ct[r]+H+1)]++,t.dyn_dtree[2*o(e)]++),t.last_lit===t.lit_bufsize-1}var F=r(140),P=4,O=0,L=1,x=2,D=0,U=1,j=2,M=3,K=258,V=29,H=256,q=H+1+V,z=30,G=19,W=2*q+1,Z=15,Q=16,Y=7,J=256,$=16,X=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],rt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],it=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],at=512,ot=new Array(2*(q+2));n(ot);var st=new Array(2*z);n(st);var ut=new Array(at);n(ut);var ct=new Array(K-M+1);n(ct);var ft=new Array(V);n(ft);var lt=new Array(z);n(lt);var ht,pt,dt,yt=!1;e._tr_init=B,e._tr_stored_block=I,e._tr_flush_block=R,e._tr_tally=N,e._tr_align=k},function(t,e){"use strict";function r(t,e,r,n){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==r;){o=r>2e3?2e3:r,r-=o;do i=i+e[n++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0}t.exports=r},function(t,e){"use strict";function r(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}function n(t,e,r,n){var a=i,o=n+r;t^=-1;for(var s=n;s<o;s++)t=t>>>8^a[255&(t^e[s])];return t^-1}var i=r();t.exports=n},function(t,e,r){"use strict";function n(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=D,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new m.Buf32(yt),
e.distcode=e.distdyn=new m.Buf32(gt),e.sane=1,e.back=-1,k):F}function o(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,a(t)):F}function s(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?F:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,o(t))):F}function u(t,e){var r,n;return t?(n=new i,t.state=n,n.window=null,r=s(t,e),r!==k&&(t.state=null),r):F}function c(t){return u(t,mt)}function f(t){if(bt){var e;for(g=new m.Buf32(512),v=new m.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_(S,t.lens,0,288,g,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_(A,t.lens,0,32,v,0,t.work,{bits:5}),bt=!1}t.lencode=g,t.lenbits=9,t.distcode=v,t.distbits=5}function l(t,e,r,n){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new m.Buf8(a.wsize)),n>=a.wsize?(m.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),m.arraySet(a.window,e,r-n,i,a.wnext),n-=i,n?(m.arraySet(a.window,e,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function h(t,e){var r,i,a,o,s,u,c,h,p,d,y,g,v,yt,gt,vt,mt,bt,Et,wt,_t,Ct,St,At,Tt=0,Bt=new m.Buf8(4),It=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return F;r=t.state,r.mode===Z&&(r.mode=Q),s=t.next_out,a=t.output,c=t.avail_out,o=t.next_in,i=t.input,u=t.avail_in,h=r.hold,p=r.bits,d=u,y=c,Ct=k;t:for(;;)switch(r.mode){case D:if(0===r.wrap){r.mode=Q;break}for(;p<16;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}if(2&r.wrap&&35615===h){r.check=0,Bt[0]=255&h,Bt[1]=h>>>8&255,r.check=E(r.check,Bt,2,0),h=0,p=0,r.mode=U;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&h)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=ht;break}if((15&h)!==x){t.msg="unknown compression method",r.mode=ht;break}if(h>>>=4,p-=4,_t=(15&h)+8,0===r.wbits)r.wbits=_t;else if(_t>r.wbits){t.msg="invalid window size",r.mode=ht;break}r.dmax=1<<_t,t.adler=r.check=1,r.mode=512&h?G:Z,h=0,p=0;break;case U:for(;p<16;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}if(r.flags=h,(255&r.flags)!==x){t.msg="unknown compression method",r.mode=ht;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=ht;break}r.head&&(r.head.text=h>>8&1),512&r.flags&&(Bt[0]=255&h,Bt[1]=h>>>8&255,r.check=E(r.check,Bt,2,0)),h=0,p=0,r.mode=j;case j:for(;p<32;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}r.head&&(r.head.time=h),512&r.flags&&(Bt[0]=255&h,Bt[1]=h>>>8&255,Bt[2]=h>>>16&255,Bt[3]=h>>>24&255,r.check=E(r.check,Bt,4,0)),h=0,p=0,r.mode=M;case M:for(;p<16;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}r.head&&(r.head.xflags=255&h,r.head.os=h>>8),512&r.flags&&(Bt[0]=255&h,Bt[1]=h>>>8&255,r.check=E(r.check,Bt,2,0)),h=0,p=0,r.mode=K;case K:if(1024&r.flags){for(;p<16;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}r.length=h,r.head&&(r.head.extra_len=h),512&r.flags&&(Bt[0]=255&h,Bt[1]=h>>>8&255,r.check=E(r.check,Bt,2,0)),h=0,p=0}else r.head&&(r.head.extra=null);r.mode=V;case V:if(1024&r.flags&&(g=r.length,g>u&&(g=u),g&&(r.head&&(_t=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),m.arraySet(r.head.extra,i,o,g,_t)),512&r.flags&&(r.check=E(r.check,i,g,o)),u-=g,o+=g,r.length-=g),r.length))break t;r.length=0,r.mode=H;case H:if(2048&r.flags){if(0===u)break t;g=0;do _t=i[o+g++],r.head&&_t&&r.length<65536&&(r.head.name+=String.fromCharCode(_t));while(_t&&g<u);if(512&r.flags&&(r.check=E(r.check,i,g,o)),u-=g,o+=g,_t)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=q;case q:if(4096&r.flags){if(0===u)break t;g=0;do _t=i[o+g++],r.head&&_t&&r.length<65536&&(r.head.comment+=String.fromCharCode(_t));while(_t&&g<u);if(512&r.flags&&(r.check=E(r.check,i,g,o)),u-=g,o+=g,_t)break t}else r.head&&(r.head.comment=null);r.mode=z;case z:if(512&r.flags){for(;p<16;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}if(h!==(65535&r.check)){t.msg="header crc mismatch",r.mode=ht;break}h=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Z;break;case G:for(;p<32;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}t.adler=r.check=n(h),h=0,p=0,r.mode=W;case W:if(0===r.havedict)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=u,r.hold=h,r.bits=p,N;t.adler=r.check=1,r.mode=Z;case Z:if(e===B||e===I)break t;case Q:if(r.last){h>>>=7&p,p-=7&p,r.mode=ct;break}for(;p<3;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}switch(r.last=1&h,h>>>=1,p-=1,3&h){case 0:r.mode=Y;break;case 1:if(f(r),r.mode=rt,e===I){h>>>=2,p-=2;break t}break;case 2:r.mode=X;break;case 3:t.msg="invalid block type",r.mode=ht}h>>>=2,p-=2;break;case Y:for(h>>>=7&p,p-=7&p;p<32;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}if((65535&h)!==(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=ht;break}if(r.length=65535&h,h=0,p=0,r.mode=J,e===I)break t;case J:r.mode=$;case $:if(g=r.length){if(g>u&&(g=u),g>c&&(g=c),0===g)break t;m.arraySet(a,i,o,g,s),u-=g,o+=g,c-=g,s+=g,r.length-=g;break}r.mode=Z;break;case X:for(;p<14;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}if(r.nlen=(31&h)+257,h>>>=5,p-=5,r.ndist=(31&h)+1,h>>>=5,p-=5,r.ncode=(15&h)+4,h>>>=4,p-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=ht;break}r.have=0,r.mode=tt;case tt:for(;r.have<r.ncode;){for(;p<3;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}r.lens[It[r.have++]]=7&h,h>>>=3,p-=3}for(;r.have<19;)r.lens[It[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,St={bits:r.lenbits},Ct=_(C,r.lens,0,19,r.lencode,0,r.work,St),r.lenbits=St.bits,Ct){t.msg="invalid code lengths set",r.mode=ht;break}r.have=0,r.mode=et;case et:for(;r.have<r.nlen+r.ndist;){for(;Tt=r.lencode[h&(1<<r.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,mt=65535&Tt,!(gt<=p);){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}if(mt<16)h>>>=gt,p-=gt,r.lens[r.have++]=mt;else{if(16===mt){for(At=gt+2;p<At;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}if(h>>>=gt,p-=gt,0===r.have){t.msg="invalid bit length repeat",r.mode=ht;break}_t=r.lens[r.have-1],g=3+(3&h),h>>>=2,p-=2}else if(17===mt){for(At=gt+3;p<At;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}h>>>=gt,p-=gt,_t=0,g=3+(7&h),h>>>=3,p-=3}else{for(At=gt+7;p<At;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}h>>>=gt,p-=gt,_t=0,g=11+(127&h),h>>>=7,p-=7}if(r.have+g>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=ht;break}for(;g--;)r.lens[r.have++]=_t}}if(r.mode===ht)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=ht;break}if(r.lenbits=9,St={bits:r.lenbits},Ct=_(S,r.lens,0,r.nlen,r.lencode,0,r.work,St),r.lenbits=St.bits,Ct){t.msg="invalid literal/lengths set",r.mode=ht;break}if(r.distbits=6,r.distcode=r.distdyn,St={bits:r.distbits},Ct=_(A,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,St),r.distbits=St.bits,Ct){t.msg="invalid distances set",r.mode=ht;break}if(r.mode=rt,e===I)break t;case rt:r.mode=nt;case nt:if(u>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=u,r.hold=h,r.bits=p,w(t,y),s=t.next_out,a=t.output,c=t.avail_out,o=t.next_in,i=t.input,u=t.avail_in,h=r.hold,p=r.bits,r.mode===Z&&(r.back=-1);break}for(r.back=0;Tt=r.lencode[h&(1<<r.lenbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,mt=65535&Tt,!(gt<=p);){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}if(vt&&0===(240&vt)){for(bt=gt,Et=vt,wt=mt;Tt=r.lencode[wt+((h&(1<<bt+Et)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,mt=65535&Tt,!(bt+gt<=p);){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}h>>>=bt,p-=bt,r.back+=bt}if(h>>>=gt,p-=gt,r.back+=gt,r.length=mt,0===vt){r.mode=ut;break}if(32&vt){r.back=-1,r.mode=Z;break}if(64&vt){t.msg="invalid literal/length code",r.mode=ht;break}r.extra=15&vt,r.mode=it;case it:if(r.extra){for(At=r.extra;p<At;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=at;case at:for(;Tt=r.distcode[h&(1<<r.distbits)-1],gt=Tt>>>24,vt=Tt>>>16&255,mt=65535&Tt,!(gt<=p);){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}if(0===(240&vt)){for(bt=gt,Et=vt,wt=mt;Tt=r.distcode[wt+((h&(1<<bt+Et)-1)>>bt)],gt=Tt>>>24,vt=Tt>>>16&255,mt=65535&Tt,!(bt+gt<=p);){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}h>>>=bt,p-=bt,r.back+=bt}if(h>>>=gt,p-=gt,r.back+=gt,64&vt){t.msg="invalid distance code",r.mode=ht;break}r.offset=mt,r.extra=15&vt,r.mode=ot;case ot:if(r.extra){for(At=r.extra;p<At;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=ht;break}r.mode=st;case st:if(0===c)break t;if(g=y-c,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=ht;break}g>r.wnext?(g-=r.wnext,v=r.wsize-g):v=r.wnext-g,g>r.length&&(g=r.length),yt=r.window}else yt=a,v=s-r.offset,g=r.length;g>c&&(g=c),c-=g,r.length-=g;do a[s++]=yt[v++];while(--g);0===r.length&&(r.mode=nt);break;case ut:if(0===c)break t;a[s++]=r.length,c--,r.mode=nt;break;case ct:if(r.wrap){for(;p<32;){if(0===u)break t;u--,h|=i[o++]<<p,p+=8}if(y-=c,t.total_out+=y,r.total+=y,y&&(t.adler=r.check=r.flags?E(r.check,a,y,s-y):b(r.check,a,y,s-y)),y=c,(r.flags?h:n(h))!==r.check){t.msg="incorrect data check",r.mode=ht;break}h=0,p=0}r.mode=ft;case ft:if(r.wrap&&r.flags){for(;p<32;){if(0===u)break t;u--,h+=i[o++]<<p,p+=8}if(h!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=ht;break}h=0,p=0}r.mode=lt;case lt:Ct=R;break t;case ht:Ct=P;break t;case pt:return O;case dt:default:return F}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=u,r.hold=h,r.bits=p,(r.wsize||y!==t.avail_out&&r.mode<ht&&(r.mode<ct||e!==T))&&l(t,t.output,t.next_out,y-t.avail_out)?(r.mode=pt,O):(d-=t.avail_in,y-=t.avail_out,t.total_in+=d,t.total_out+=y,r.total+=y,r.wrap&&y&&(t.adler=r.check=r.flags?E(r.check,a,y,t.next_out-y):b(r.check,a,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Z?128:0)+(r.mode===rt||r.mode===J?256:0),(0===d&&0===y||e===T)&&Ct===k&&(Ct=L),Ct)}function p(t){if(!t||!t.state)return F;var e=t.state;return e.window&&(e.window=null),t.state=null,k}function d(t,e){var r;return t&&t.state?(r=t.state,0===(2&r.wrap)?F:(r.head=e,e.done=!1,k)):F}function y(t,e){var r,n,i,a=e.length;return t&&t.state?(r=t.state,0!==r.wrap&&r.mode!==W?F:r.mode===W&&(n=1,n=b(n,e,a,0),n!==r.check)?P:(i=l(t,e,a,a))?(r.mode=pt,O):(r.havedict=1,k)):F}var g,v,m=r(140),b=r(142),E=r(143),w=r(145),_=r(146),C=0,S=1,A=2,T=4,B=5,I=6,k=0,R=1,N=2,F=-2,P=-3,O=-4,L=-5,x=8,D=1,U=2,j=3,M=4,K=5,V=6,H=7,q=8,z=9,G=10,W=11,Z=12,Q=13,Y=14,J=15,$=16,X=17,tt=18,et=19,rt=20,nt=21,it=22,at=23,ot=24,st=25,ut=26,ct=27,ft=28,lt=29,ht=30,pt=31,dt=32,yt=852,gt=592,vt=15,mt=vt,bt=!0;e.inflateReset=o,e.inflateReset2=s,e.inflateResetKeep=a,e.inflateInit=c,e.inflateInit2=u,e.inflate=h,e.inflateEnd=p,e.inflateGetHeader=d,e.inflateSetDictionary=y,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e){"use strict";var r=30,n=12;t.exports=function(t,e){var i,a,o,s,u,c,f,l,h,p,d,y,g,v,m,b,E,w,_,C,S,A,T,B,I;i=t.state,a=t.next_in,B=t.input,o=a+(t.avail_in-5),s=t.next_out,I=t.output,u=s-(e-t.avail_out),c=s+(t.avail_out-257),f=i.dmax,l=i.wsize,h=i.whave,p=i.wnext,d=i.window,y=i.hold,g=i.bits,v=i.lencode,m=i.distcode,b=(1<<i.lenbits)-1,E=(1<<i.distbits)-1;t:do{g<15&&(y+=B[a++]<<g,g+=8,y+=B[a++]<<g,g+=8),w=v[y&b];e:for(;;){if(_=w>>>24,y>>>=_,g-=_,_=w>>>16&255,0===_)I[s++]=65535&w;else{if(!(16&_)){if(0===(64&_)){w=v[(65535&w)+(y&(1<<_)-1)];continue e}if(32&_){i.mode=n;break t}t.msg="invalid literal/length code",i.mode=r;break t}C=65535&w,_&=15,_&&(g<_&&(y+=B[a++]<<g,g+=8),C+=y&(1<<_)-1,y>>>=_,g-=_),g<15&&(y+=B[a++]<<g,g+=8,y+=B[a++]<<g,g+=8),w=m[y&E];r:for(;;){if(_=w>>>24,y>>>=_,g-=_,_=w>>>16&255,!(16&_)){if(0===(64&_)){w=m[(65535&w)+(y&(1<<_)-1)];continue r}t.msg="invalid distance code",i.mode=r;break t}if(S=65535&w,_&=15,g<_&&(y+=B[a++]<<g,g+=8,g<_&&(y+=B[a++]<<g,g+=8)),S+=y&(1<<_)-1,S>f){t.msg="invalid distance too far back",i.mode=r;break t}if(y>>>=_,g-=_,_=s-u,S>_){if(_=S-_,_>h&&i.sane){t.msg="invalid distance too far back",i.mode=r;break t}if(A=0,T=d,0===p){if(A+=l-_,_<C){C-=_;do I[s++]=d[A++];while(--_);A=s-S,T=I}}else if(p<_){if(A+=l+p-_,_-=p,_<C){C-=_;do I[s++]=d[A++];while(--_);if(A=0,p<C){_=p,C-=_;do I[s++]=d[A++];while(--_);A=s-S,T=I}}}else if(A+=p-_,_<C){C-=_;do I[s++]=d[A++];while(--_);A=s-S,T=I}for(;C>2;)I[s++]=T[A++],I[s++]=T[A++],I[s++]=T[A++],C-=3;C&&(I[s++]=T[A++],C>1&&(I[s++]=T[A++]))}else{A=s-S;do I[s++]=I[A++],I[s++]=I[A++],I[s++]=I[A++],C-=3;while(C>2);C&&(I[s++]=I[A++],C>1&&(I[s++]=I[A++]))}break}}break}}while(a<o&&s<c);C=g>>3,a-=C,g-=C<<3,y&=(1<<g)-1,t.next_in=a,t.next_out=s,t.avail_in=a<o?5+(o-a):5-(a-o),t.avail_out=s<c?257+(c-s):257-(s-c),i.hold=y,i.bits=g}},function(t,e,r){"use strict";var n=r(140),i=15,a=852,o=592,s=0,u=1,c=2,f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],p=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,d,y,g,v,m){var b,E,w,_,C,S,A,T,B,I=m.bits,k=0,R=0,N=0,F=0,P=0,O=0,L=0,x=0,D=0,U=0,j=null,M=0,K=new n.Buf16(i+1),V=new n.Buf16(i+1),H=null,q=0;for(k=0;k<=i;k++)K[k]=0;for(R=0;R<d;R++)K[e[r+R]]++;for(P=I,F=i;F>=1&&0===K[F];F--);if(P>F&&(P=F),0===F)return y[g++]=20971520,y[g++]=20971520,m.bits=1,0;for(N=1;N<F&&0===K[N];N++);for(P<N&&(P=N),x=1,k=1;k<=i;k++)if(x<<=1,x-=K[k],x<0)return-1;if(x>0&&(t===s||1!==F))return-1;for(V[1]=0,k=1;k<i;k++)V[k+1]=V[k]+K[k];for(R=0;R<d;R++)0!==e[r+R]&&(v[V[e[r+R]]++]=R);if(t===s?(j=H=v,S=19):t===u?(j=f,M-=257,H=l,q-=257,S=256):(j=h,H=p,S=-1),U=0,R=0,k=N,C=g,O=P,L=0,w=-1,D=1<<P,_=D-1,t===u&&D>a||t===c&&D>o)return 1;for(var z=0;;){z++,A=k-L,v[R]<S?(T=0,B=v[R]):v[R]>S?(T=H[q+v[R]],B=j[M+v[R]]):(T=96,B=0),b=1<<k-L,E=1<<O,N=E;do E-=b,y[C+(U>>L)+E]=A<<24|T<<16|B|0;while(0!==E);for(b=1<<k-1;U&b;)b>>=1;if(0!==b?(U&=b-1,U+=b):U=0,R++,0===--K[k]){if(k===F)break;k=e[r+v[R]]}if(k>P&&(U&_)!==w){for(0===L&&(L=P),C+=N,O=k-L,x=1<<O;O+L<F&&(x-=K[O+L],!(x<=0));)O++,x<<=1;if(D+=1<<O,t===u&&D>a||t===c&&D>o)return 1;w=U&_,y[w]=P<<24|O<<16|C-g|0}}return 0!==U&&(y[C+U]=k-L<<24|64<<16|0),m.bits=P,0}},function(t,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,r){(function(t,n){function i(t,r){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(r)?n.showHidden=r:r&&e._extend(n,r),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),u(n,t,n.depth)}function a(t,e){var r=i.styles[e];return r?"["+i.colors[r][0]+"m"+t+"["+i.colors[r][1]+"m":t}function o(t,e){return t}function s(t){var e={};return t.forEach(function(t,r){e[t]=!0}),e}function u(t,r,n){if(t.customInspect&&r&&T(r.inspect)&&r.inspect!==e.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,t);return b(i)||(i=u(t,i,n)),i}var a=c(t,r);if(a)return a;var o=Object.keys(r),y=s(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(r)),A(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return f(r);if(0===o.length){if(T(r)){var g=r.name?": "+r.name:"";return t.stylize("[Function"+g+"]","special")}if(_(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return t.stylize(Date.prototype.toString.call(r),"date");if(A(r))return f(r)}var v="",m=!1,E=["{","}"];if(d(r)&&(m=!0,E=["[","]"]),T(r)){var w=r.name?": "+r.name:"";v=" [Function"+w+"]"}if(_(r)&&(v=" "+RegExp.prototype.toString.call(r)),S(r)&&(v=" "+Date.prototype.toUTCString.call(r)),A(r)&&(v=" "+f(r)),0===o.length&&(!m||0==r.length))return E[0]+v+E[1];if(n<0)return _(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special");t.seen.push(r);var C;return C=m?l(t,r,n,y,o):o.map(function(e){return h(t,r,n,y,e,m)}),t.seen.pop(),p(C,v,E)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}return m(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):g(e)?t.stylize("null","null"):void 0}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function l(t,e,r,n,i){for(var a=[],o=0,s=e.length;o<s;++o)N(e,String(o))?a.push(h(t,e,r,n,String(o),!0)):a.push("");return i.forEach(function(i){i.match(/^\d+$/)||a.push(h(t,e,r,n,i,!0))}),a}function h(t,e,r,n,i,a){var o,s,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?s=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(s=t.stylize("[Setter]","special")),N(n,i)||(o="["+i+"]"),s||(t.seen.indexOf(c.value)<0?(s=g(r)?u(t,c.value,null):u(t,c.value,r-1),s.indexOf("\n")>-1&&(s=a?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(o)){if(a&&i.match(/^\d+$/))return s;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function p(t,e,r){var n=0,i=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}function d(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function g(t){return null===t}function v(t){return null==t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function E(t){return"symbol"==typeof t}function w(t){return void 0===t}function _(t){return C(t)&&"[object RegExp]"===I(t)}function C(t){return"object"==typeof t&&null!==t}function S(t){return C(t)&&"[object Date]"===I(t)}function A(t){return C(t)&&("[object Error]"===I(t)||t instanceof Error)}function T(t){return"function"==typeof t}function B(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function I(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}function R(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),L[t.getMonth()],e].join(" ")}function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var F=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(i(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,a=n.length,o=String(t).replace(F,function(t){if("%%"===t)return"%";if(r>=a)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return t}}),s=n[r];r<a;s=n[++r])o+=g(s)||!C(s)?" "+s:" "+i(s);return o},e.deprecate=function(r,i){function a(){if(!o){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),o=!0}return r.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(r,i).apply(this,arguments)};if(n.noDeprecation===!0)return r;var o=!1;return a};var P,O={};e.debuglog=function(t){if(w(P)&&(P=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!O[t])if(new RegExp("\\b"+t+"\\b","i").test(P)){var r=n.pid;O[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,r,n)}}else O[t]=function(){};return O[t]},e.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=y,e.isNull=g,e.isNullOrUndefined=v,e.isNumber=m,e.isString=b,e.isSymbol=E,e.isUndefined=w,e.isRegExp=_,e.isObject=C,e.isDate=S,e.isError=A,e.isFunction=T,e.isPrimitive=B,e.isBuffer=r(149);var L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",R(),e.format.apply(e,arguments))},e.inherits=r(123),e._extend=function(t,e){if(!e||!C(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(e,function(){return this}(),r(20))},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,r){(function(e){"use strict";/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
function n(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i<a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function i(t){return e.Buffer&&"function"==typeof e.Buffer.isBuffer?e.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}function a(t){return Object.prototype.toString.call(t)}function o(t){return!i(t)&&("function"==typeof e.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&&(t instanceof DataView||!!(t.buffer&&t.buffer instanceof ArrayBuffer))))}function s(t){if(E.isFunction(t)){if(C)return t.name;var e=t.toString(),r=e.match(A);return r&&r[1]}}function u(t,e){return"string"==typeof t?t.length<e?t:t.slice(0,e):t}function c(t){if(C||!E.isFunction(t))return E.inspect(t);var e=s(t),r=e?": "+e:"";return"[Function"+r+"]"}function f(t){return u(c(t.actual),128)+" "+t.operator+" "+u(c(t.expected),128)}function l(t,e,r,n,i){throw new S.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function h(t,e){t||l(t,!0,e,"==",S.ok)}function p(t,e,r,s){if(t===e)return!0;if(i(t)&&i(e))return 0===n(t,e);if(E.isDate(t)&&E.isDate(e))return t.getTime()===e.getTime();if(E.isRegExp(t)&&E.isRegExp(e))return t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase;if(null!==t&&"object"==typeof t||null!==e&&"object"==typeof e){if(o(t)&&o(e)&&a(t)===a(e)&&!(t instanceof Float32Array||t instanceof Float64Array))return 0===n(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(i(t)!==i(e))return!1;s=s||{actual:[],expected:[]};var u=s.actual.indexOf(t);return u!==-1&&u===s.expected.indexOf(e)||(s.actual.push(t),s.expected.push(e),y(t,e,r,s))}return r?t===e:t==e}function d(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function y(t,e,r,n){if(null===t||void 0===t||null===e||void 0===e)return!1;if(E.isPrimitive(t)||E.isPrimitive(e))return t===e;if(r&&Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=d(t),a=d(e);if(i&&!a||!i&&a)return!1;if(i)return t=_.call(t),e=_.call(e),p(t,e,r);var o,s,u=T(t),c=T(e);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),s=u.length-1;s>=0;s--)if(u[s]!==c[s])return!1;for(s=u.length-1;s>=0;s--)if(o=u[s],!p(t[o],e[o],r,n))return!1;return!0}function g(t,e,r){p(t,e,!0)&&l(t,e,r,"notDeepStrictEqual",g)}function v(t,e){if(!t||!e)return!1;if("[object RegExp]"==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(r){}return!Error.isPrototypeOf(e)&&e.call({},t)===!0}function m(t){var e;try{t()}catch(r){e=r}return e}function b(t,e,r,n){var i;if("function"!=typeof e)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=m(e),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),t&&!i&&l(i,r,"Missing expected exception"+n);var a="string"==typeof n,o=!t&&E.isError(i),s=!t&&i&&!r;if((o&&a&&v(i,r)||s)&&l(i,r,"Got unwanted exception"+n),t&&i&&r&&!v(i,r)||!t&&i)throw i}var E=r(148),w=Object.prototype.hasOwnProperty,_=Array.prototype.slice,C=function(){return"foo"===function(){}.name}(),S=t.exports=h,A=/\s*function\s+([^\(\s]*)\s*/;S.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=f(this),this.generatedMessage=!0);var e=t.stackStartFunction||l;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=s(e),a=n.indexOf("\n"+i);if(a>=0){var o=n.indexOf("\n",a+1);n=n.substring(o+1)}this.stack=n}}},E.inherits(S.AssertionError,Error),S.fail=l,S.ok=h,S.equal=function(t,e,r){t!=e&&l(t,e,r,"==",S.equal)},S.notEqual=function(t,e,r){t==e&&l(t,e,r,"!=",S.notEqual)},S.deepEqual=function(t,e,r){p(t,e,!1)||l(t,e,r,"deepEqual",S.deepEqual)},S.deepStrictEqual=function(t,e,r){p(t,e,!0)||l(t,e,r,"deepStrictEqual",S.deepStrictEqual)},S.notDeepEqual=function(t,e,r){p(t,e,!1)&&l(t,e,r,"notDeepEqual",S.notDeepEqual)},S.notDeepStrictEqual=g,S.strictEqual=function(t,e,r){t!==e&&l(t,e,r,"===",S.strictEqual)},S.notStrictEqual=function(t,e,r){t===e&&l(t,e,r,"!==",S.notStrictEqual)},S["throws"]=function(t,e,r){b(!0,t,e,r)},S.doesNotThrow=function(t,e,r){b(!1,t,e,r)},S.ifError=function(t){if(t)throw t};var T=Object.keys||function(t){var e=[];for(var r in t)w.call(t,r)&&e.push(r);return e}}).call(e,function(){return this}())},function(t,e){/*!
	 * jwe/defaults.js - Defaults for JWEs
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";var r={zip:!1,format:"general",contentAlg:"A128CBC-HS256",protect:"*"};t.exports=r},function(t,e,r){(function(e){/*!
	 * jwe/decrypt.js - Decrypt from a JWE
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t,r){var n,i;if(o.isKey(t))n=t,i=n.keystore;else{if(!o.isKeyStore(t))throw new TypeError("Keystore must be provided");i=t}r=s({},r),Object.defineProperty(this,"decrypt",{value:function(t,c){c=s({},r,c||{});var f=c.handlers||{},l=Object.keys(f);if("string"==typeof t)t=t.split("."),t={"protected":t[0],recipients:[{encrypted_key:t[1]}],iv:t[2],ciphertext:t[3],tag:t[4]};else if(!t||"object"!=typeof t)throw new Error("invalid input");"encrypted_key"in t&&(t.recipients=[{encrypted_key:t.encrypted_key}]);var h,p=t.recipients||[{}];h=Promise.resolve(p);var d,y;h.then(function(e){if(t["protected"]){y=a.decode(t["protected"],"utf8"),y=JSON.parse(y);var r=y.crit;if(r){if(!Array.isArray(r))return Promise.reject(new Error("Invalid 'crit' header"));for(var n=0;r.length>n;n++)if(-1===l.indexOf(r[n]))return Promise.reject(new Error("Critical extension is not supported: "+r[n]))}d=y,y=Object.keys(y)}else d={},y=[];return d=s(t.unprotected||{},d),e=e.map(function(t){var e=Promise.resolve(),r=t.header||{};return r=s(r,d),t.header=r,t["protected"]=y,r.epk&&(e=e.then(function(){return o.asKey(r.epk)}),e=e.then(function(t){r.epk=t.toObject(!1)})),e.then(function(){return t})}),Promise.all(e)});var g,v,m;return h=h.then(function(t){var e={};return new Promise(function(r,s){var u=function(){var c=t.shift();if(!c)return void s(new Error("no key found"));var f=Promise.resolve(c);f=f.then(function(t){var e=m=t.encrypted_key||"";return e=a.decode(e),g=n||i.get({use:"enc",alg:t.header.alg,kid:t.header.kid}),g?g.unwrap(t.header.alg,e,t.header):Promise.reject()}),f=f.then(function(t){v={kty:"oct",k:a.encode(t)},v=o.asKey(v),e.key=g,e.header=c.header,e["protected"]=c["protected"],r(e)}),f["catch"](u)};u()})}),h=h.then(function(e){return e.iv=t.iv,e.tag=t.tag,e.ciphertext=t.ciphertext,e}),h=h.then(function(t){var e=[];return l.forEach(function(r){r=f[r];var n;"function"==typeof r?n=r(t):"object"==typeof r&&"function"==typeof r.prepare&&(n=r.prepare(t)),n&&e.push(Promise.resolve(n))}),Promise.all(e).then(function(){return t})}),h=h.then(function(t){return e.isBuffer(t.ciphertext)||(t.ciphertext=a.decode(t.ciphertext)),t}),h=h.then(function(e){var r=t["protected"];"aad"in t&&null!=t.aad&&(r+="."+t.aad);var n={iv:e.iv,adata:r,tag:e.tag,kdata:m,epu:e.epu,epv:e.epv},i=e.ciphertext;return delete e.iv,delete e.tag,delete e.ciphertext,v.then(function(t){return t.decrypt(e.header.enc,i,n).then(function(t){return e.payload=e.plaintext=t,e})})}),h=h.then(function(t){return"DEF"===t.header.zip?new Promise(function(r,n){u.inflateRaw(new e(t.plaintext),function(e,i){e?n(e):(t.payload=t.plaintext=i,r(t))})}):t}),h=h.then(function(t){var e=[];return l.forEach(function(r){r=f[r];var n;"object"==typeof r&&"function"==typeof r.complete&&(n=r.complete(t)),n&&e.push(Promise.resolve(n))}),Promise.all(e).then(function(){return t})})}})}function i(t,e){var r=new n(t,e);return r}var a=r(66),o=r(105),s=r(85),u=r(118);t.exports={decrypter:n,createDecrypt:i}}).call(e,r(1).Buffer)},function(t,e,r){/*!
	 * jws/index.js - JSON Web Signature (JWS) Entry Point
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";var n={createSign:r(154).createSign,createVerify:r(157).createVerify};t.exports=n},function(t,e,r){(function(e){/*!
	 * jws/sign.js - Sign to JWS
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t,e){var r=t,n=1,s=e;if(0===arguments.length)throw new Error("at least one signatory must be provided");1===arguments.length?(s=t,n=0,r={}):u.isKey(t)||t&&"kty"in t||t&&"key"in t&&(u.isKey(t.key)||"kty"in t.key)?(s=t,n=0,r={}):r=i(t),Array.isArray(s)||(s=c(arguments,n)),r=a(i(f),r);var h=r.fields||{},p=r.format;if(p||(p=r.compact?"compact":"general"),("compact"===p||"flattened"===p)&&1<s.length)throw new Error("too many signatories for compact or flattened JSON serialization");var d="*"===r.protect;r.compact&&(d=!0),s=s.map(function(t,e){var r;return t&&"kty"in t?(r=u.asKey(t),r=r.then(function(t){return{key:t}})):t?(r=u.asKey(t.key),r=r.then(function(e){return{header:t.header,reference:t.reference,protect:t.protect,key:e}})):r=Promise.reject(new Error("missing key for signatory "+e)),r=r.then(function(t){var e=t.key,r=t.header||{};r=a(a({},h),r),t.header=r,r.alg||(r.alg=e.algorithms(u.MODE_SIGN)[0]||"");var n=t.reference;delete t.reference,void 0===n?(n=["kid","jku","x5c","x5t","x5u"].some(function(t){return t in r}),n=n?null:"kid"):"boolean"==typeof n&&(n=n?"kid":null);var i;n&&(i=e.toJSON(),"jwk"===n?r.jwk=i:n in i&&(r[n]=i[n]));var s=t.protect;if(d||"*"===s)s=Object.keys(r);else if("string"===s)s=[s];else if(Array.isArray(s))s=s.concat();else{if(s)return Promise.reject(new Error("protect must be a list of fields"));s=[]}return s=o(s),t["protected"]=s,t=Object.freeze(t)})});var y={format:p};return new l(y,s)}var i=r(84),a=r(85),o=r(110),s=r(70),u=r(105),c=r(155).slice,f=r(156),l=function(t,r){var n=!1,a=t.format||"general",o=new e(0);Object.defineProperty(this,"compact",{get:function(){return"compact"===a},enumerable:!0}),Object.defineProperty(this,"format",{get:function(){return a},enumerable:!0}),Object.defineProperty(this,"update",{value:function(t,r){if(n)throw new Error("already final");return null!=t&&(t=s.asBuffer(t,r),o=o.length?e.concat([o,t],o.length+t.length):t),this}}),Object.defineProperty(this,"final",{value:function(t,u){if(n)return Promise.reject(new Error("already final"));this.update(t,u),n=!0;var c;switch(c=Promise.all(r),c=c.then(function(t){return o=s.base64url.encode(o),t=t.map(function(t){var r={},n=0,a=i(t.header),u=Object.keys(a).length;t["protected"].forEach(function(t){t in a&&(r[t]=a[t],n++,delete a[t],u--)}),n>0?(r=JSON.stringify(r),r=s.base64url.encode(r)):r="";var c=new e(r+"."+o,"ascii");return t=t.key.sign(t.header.alg,c,t.header),t=t.then(function(t){var e={};return 0<n&&(e["protected"]=r),0<u&&(e.header=a),e.signature=s.base64url.encode(t.mac),e})}),t=[Promise.resolve(o)].concat(t),Promise.all(t)}),c=c.then(function(t){var e=t[0];return{payload:e,signatures:t.slice(1)}}),a){case"compact":c=c.then(function(t){var e=[t.signatures[0]["protected"],t.payload,t.signatures[0].signature];return e=e.join(".")});break;case"flattened":c=c.then(function(t){var e={};e.payload=t.payload;var r=t.signatures[0];return r["protected"]&&(e["protected"]=r["protected"]),r.header&&(e.header=r.header),e.signature=r.signature,e})}return c}})};t.exports={signer:l,createSign:n}}).call(e,r(1).Buffer)},function(t,e){/*!
	 * jws/helpers.js - JWS Internal Helper Functions
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";t.exports={slice:function(t,e){return Array.prototype.slice.call(t,e||0)}}},function(t,e){/*!
	 * jws/defaults.js - Defaults for JWSs
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";var r={compact:!1,protect:"*"};t.exports=r},function(t,e,r){(function(e){/*!
	 * jws/verify.js - Verifies from a JWS
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t){var e=new u(t);return e}var i=r(84),a=r(85),o=r(66),s=r(105),u=function(t,r){var n,u;s.isKey(t)?(n=t,u=n.keystore):u=s.isKeyStore(t)?t:s.createKeyStore(),r=a({},r),Object.defineProperty(this,"defaultKey",{value:n||void 0,enumerable:!0}),Object.defineProperty(this,"keystore",{value:u,enumerable:!0}),Object.defineProperty(this,"verify",{value:function(t,c){c=a({},r,c||{});var f=c.handlers||{},l=Object.keys(f);if("string"==typeof t)t=t.split("."),t={payload:t[1],signatures:[{"protected":t[0],signature:t[2]}]};else if(!t||"object"===t)throw new Error("invalid input");t.signature&&(t.signatures=[{"protected":t["protected"]||void 0,header:t.header||void 0,signature:t.signature}]);var h=t.signatures||[{}];h=h.map(function(t){var e=i(t.header||{}),r=t["protected"]?JSON.parse(o.decode(t["protected"],"utf8")):{};e=a(e,r);var n=o.decode(t.signature),s=r.crit;if(s){if(!Array.isArray(s))return Promise.reject(new Error("Invalid 'crit' header"));for(var u=0;s.length>u;u++)if(-1===l.indexOf(s[u]))return Promise.reject(new Error("Critical extension is not supported: "+s[u]))}return r=Object.keys(r),{"protected":r,aad:t["protected"]||"",header:e,signature:n}});var p=new Promise(function(r,i){var c=function(){var p=h.shift();if(!p)return void i(new Error("no key found"));p=a({},p,{payload:t.payload});var d=Promise.resolve(p);d=d.then(function(t){var r;return t.header.jwk?r=s.asKey(t.header.jwk):t.header.x5c?(r=t.header.x5c[0],r=new e(r,"base64"),r=s.asKey(r,"pkix")):r=Promise.resolve(n||u.get({use:"sig",alg:t.header.alg,kid:t.header.kid})),r.then(function(e){return e?(t.key=e,t):Promise.reject(new Error("key does not match"))})}),d=d.then(function(t){var e=[];return l.forEach(function(r){r=f[r];var n;"function"==typeof r?n=r(t):"object"==typeof r&&"function"==typeof r.prepare&&(n=r.prepare(t)),n&&e.push(Promise.resolve(n))}),Promise.all(e).then(function(){return t})}),d=d.then(function(t){var r=t.aad||"",n=t.payload||"",i=new e(1+r.length+n.length),a=0;return i.write(r,a,"ascii"),a+=r.length,i.write(".",a,"ascii"),a++,e.isBuffer(n)?n.copy(i,a):i.write(n,a,"binary"),t.content=i,t}),d=d.then(function(t){return t.key.verify(t.header.alg,t.content,t.signature)}),d=d.then(function(t){var e=p.payload;return e=o.decode(e),{"protected":p["protected"],header:p.header,payload:e,signature:t.mac,key:p.key}}),d=d.then(function(t){var e=[];return l.forEach(function(r){r=f[r];var n;"object"==typeof r&&"function"==typeof r.complete&&(n=r.complete(t)),n&&e.push(Promise.resolve(n))}),Promise.all(e).then(function(){return t})}),d.then(r,c)};c()});return p}})};t.exports={verifier:u,createVerify:n}}).call(e,r(1).Buffer)},function(t,e,r){(function(e){/*!
	 * parse/index.js - JOSE Parser Entry Point
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";var n=r(159),i=r(160),a=t.exports=function(t){if(e.isBuffer(t))return n(t.toString("ascii"));if("string"==typeof t)return n(t);if(t)return i(t);throw new TypeError("invalid input")};a.compact=n,a.json=i}).call(e,r(1).Buffer)},function(t,e,r){/*!
	 * parse/compact.js - JOSE Compact Serialization Parser
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t){var e,r,n=t.split(".");if(3===n.length)e="JWS",r=function(e){return i.JWS.createVerify(e).verify(t)};else{if(5!==n.length)throw new TypeError("invalid jose serialization");e="JWE",r=function(e){return i.JWE.createDecrypt(e).decrypt(t)}}var a;return a=i.util.base64url.decode(n[0],"utf8"),a=JSON.parse(a),{type:e,format:"compact",input:t,header:a,perform:r}}var i={JWE:r(101),JWS:r(153),util:r(70)};t.exports=n},function(t,e,r){/*!
	 * parse/compact.js - JOSE JSON Serialization Parser
	 *
	 * Copyright (c) 2015 Cisco Systems, Inc. See LICENSE file.
	 */
"use strict";function n(t){var e,r,n;if("signatures"in t||"signature"in t)e="JWS",r=function(e){return a.JWS.createVerify(e).verify(t)},n=t.signatures||[{"protected":t["protected"],header:t.header,signature:t.signature}],n=n.map(function(t){var e={};t.header&&(e=i(e,t.header));var r;return t["protected"]&&(r=t["protected"],r=a.util.base64url.decode(r,"utf8"),r=JSON.parse(r),e=i(e,r)),e});else if("ciphertext"in t){e="JWE",r=function(e){return a.JWE.createDecrypt(e).decrypt(t)};var o={};t["protected"]&&(o["protected"]=t["protected"],o["protected"]=a.util.base64url.decode(o["protected"],"utf8"),o["protected"]=JSON.parse(o["protected"])),t.unprotected&&(o.unprotected=t.unprotected),n=t.recipients||[{}],n=n.map(function(t){var e={};return t.header&&(e=i(e,t.header)),o.unprotected&&(e=i(e,o.unprotected)),o["protected"]&&(e=i(e,o["protected"])),e})}return{type:e,format:"json",input:t,all:n,perform:r}}var i=r(85),a={JWE:r(101),JWS:r(153),util:r(70)};t.exports=n}]);
//# sourceMappingURL=node-scr.min.js.map