{"version":3,"sources":["lyra.js"],"names":["Lyra","WebexPlugin","extend","namespace","children","space","Space","device","Device","getAdvertisedEndpoint","token","webex","request","method","api","resource","qs","then","res","body"],"mappings":";;;;;;AAIA;;AACA;;;;AACA;;;;;;AAEA,IAAMA,OAAOC,uBAAYC,MAAZ,CAAmB;AAC9B;;;;;;;;;;;;;;;;;AAiBAC,aAAW,MAlBmB;AAmB9BC,YAAU;AACRC,WAAOC,eADC;AAERC,YAAQC;AAFA,GAnBoB;;AAwB9B;;;;;AAKAC,uBA7B8B,iCA6BRC,KA7BQ,EA6BD;AAC3B,WAAO,KAAKC,KAAL,CAAWC,OAAX,CAAmB;AACxBC,cAAQ,KADgB;AAExBC,WAAK,WAFmB;AAGxBC,gBAAU,4BAHc;AAIxBC,UAAI;AACFN;AADE;AAJoB,KAAnB,EAQJO,IARI,CAQC,UAACC,GAAD;AAAA,aAASA,IAAIC,IAAb;AAAA,KARD,CAAP;AASD,GAvC6B;AAAA;AAAA,CAAnB,CAAb,C,CARA;;;;kBAmDenB,I","file":"lyra.js","sourcesContent":["/*!\n * Copyright (c) 2015-2019 Cisco Systems, Inc. See LICENSE file.\n */\n\nimport {WebexPlugin} from '@webex/webex-core';\nimport Space from './space';\nimport Device from './device';\n\nconst Lyra = WebexPlugin.extend({\n  /**\n   * @typedef {Object} Endpoint\n   * @property {Object} advertiser\n   * @property {string} advertiser.id\n   * @property {string} advertiser.displayName\n   * @property {string} advertiser.orgId\n   * @property {Object} links\n   * @property {Object} links.addMeToSpace\n   * @property {string} links.addMeToSpace.href\n   * @property {string} links.addMeToSpace.method\n   * @property {Object} links.lyra_space\n   * @property {string} links.lyra_space.href\n   * @property {string} links.lyra_space.method\n   * @property {string} proof\n   * @property {Object} token\n   * @property {string} token.value\n   */\n  namespace: 'Lyra',\n  children: {\n    space: Space,\n    device: Device\n  },\n\n  /**\n   * Get the endpoint information\n   * @param {string} token - ultrasound token decoded\n   * @returns {Promise<Endpoint>}\n   */\n  getAdvertisedEndpoint(token) {\n    return this.webex.request({\n      method: 'GET',\n      api: 'proximity',\n      resource: '/ultrasound/advertisements',\n      qs: {\n        token\n      }\n    })\n      .then((res) => res.body);\n  }\n});\n\n\nexport default Lyra;\n"]}