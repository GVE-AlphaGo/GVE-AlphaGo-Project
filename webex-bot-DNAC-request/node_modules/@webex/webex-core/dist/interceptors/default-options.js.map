{"version":3,"sources":["default-options.js"],"names":["DefaultOptionsInterceptor","options","defaultOptions","webex","config","defaultRequestOptions","forEach","key","includes","Interceptor"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA;;;;AAGA;;;;;;;;;;;;;;;;;;;IAmBqBA,yB;;;;;;;;;;;;AAQnB;;;;;8BAKUC,O,EAAS;AAAA,UACaC,cADb,GAC+B,KAAKC,KAAL,CAAWC,MAD1C,CACVC,qBADU;;;AAGjB,UAAI,CAACH,cAAL,EAAqB;AACnB,eAAOD,OAAP;AACD;;AAED,0BAAYC,cAAZ,EAA4BI,OAA5B,CAAoC,UAACC,GAAD,EAAS;AAC3C;AACA,YAAI,CAAC,oBAAYN,OAAZ,EAAqBO,QAArB,CAA8BD,GAA9B,CAAL,EAAyC;AACvCN,kBAAQM,GAAR,IAAeL,eAAeK,GAAf,CAAf;AACD;AACF,OALD;;AAOA,aAAON,OAAP;AACD;;;;AA3BD;;;6BAGgB;AACd,aAAO,IAAID,yBAAJ,CAA8B,EAACG,OAAO,IAAR,EAA9B,CAAP;AACD;;;EANoDM,qB,GA1BvD;;;;kBA0BqBT,yB","file":"default-options.js","sourcesContent":["/*!\n * Copyright (c) 2015-2019 Cisco Systems, Inc. See LICENSE file.\n */\n\nimport {Interceptor} from '@webex/http-core';\n\n\n/**\n * Allows the user of the SDK to set default options that apply every http request made by the SDK\n * For example a default timeout could be set for all requests like this :\n *\n *   webex = WebexSdk.init({\n *     credentials: {\n *       supertoken: superToken\n *     },\n *     config: {\n *       credentials: {\n *         client_id,\n *         client_secret\n *       },\n *       defaultRequestOptions: {\n *         timeout: 15000\n *       }\n *     }\n *   });\n */\nexport default class DefaultOptionsInterceptor extends Interceptor {\n  /**\n   * @returns {DefaultOptionsInterceptor}\n   */\n  static create() {\n    return new DefaultOptionsInterceptor({webex: this});\n  }\n\n  /**\n   * @see Interceptor#onRequest\n   * @param {Object} options\n   * @returns {Object}\n   */\n  onRequest(options) {\n    const {defaultRequestOptions: defaultOptions} = this.webex.config;\n\n    if (!defaultOptions) {\n      return options;\n    }\n\n    Object.keys(defaultOptions).forEach((key) => {\n      // don't override any existing option properties\n      if (!Object.keys(options).includes(key)) {\n        options[key] = defaultOptions[key];\n      }\n    });\n\n    return options;\n  }\n}\n"]}