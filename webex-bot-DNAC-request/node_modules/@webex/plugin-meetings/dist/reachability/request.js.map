{"version":3,"sources":["request.js"],"names":["RechabilityRequest","getClusters","request","method","HTTP_VERBS","GET","shouldRefreshAccessToken","api","API","CALLIOPEDISCOVERY","resource","RESOURCE","CLUSTERS","then","res","clusters","body","LoggerProxy","logger","info","remoteSDPForClusters","localSDPList","POST","REACHABILITY","offers","StatelessWebexPlugin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;;;AACA;;;;AAMA;;;IAGMA,kB;;;;;;;;;;;;;;oOAKNC,W,GAAc;AAAA,aAAM,MAAKC,OAAL,CAAa;AAC/BC,gBAAQC,sBAAWC,GADY;AAE/BC,kCAA0B,KAFK;AAG/BC,aAAKC,eAAIC,iBAHsB;AAI/BC,kBAAUC,oBAASC;AAJY,OAAb,EAMjBC,IANiB,CAMZ,UAACC,GAAD,EAAS;AAAA,YACNC,QADM,GACMD,IAAIE,IADV,CACND,QADM;;;AAGbE,8BAAYC,MAAZ,CAAmBC,IAAnB,+DAAoF,yBAAeJ,QAAf,CAApF;;AAEA,eAAO,oBAAYA,QAAZ,CAAP;AACD,OAZiB,CAAN;AAAA,K,QAmBdK,oB,GAAuB,UAACC,YAAD;AAAA,aAAkB,MAAKnB,OAAL,CAAa;AACpDC,gBAAQC,sBAAWkB,IADiC;AAEpDhB,kCAA0B,KAF0B;AAGpDC,aAAKC,eAAIC,iBAH2C;AAIpDC,kBAAUC,oBAASY,YAJiC;AAKpDP,cAAM,EAACQ,QAAQH,YAAT;AAL8C,OAAb,EAOtCR,IAPsC,CAOjC,UAACC,GAAD,EAAS;AACbG,8BAAYC,MAAZ,CAAmBC,IAAnB,CAAwB,yEAAxB;;AAEA,eAAOL,IAAIE,IAAX;AACD,OAXsC,CAAlB;AAAA,K;;AAvBrB;;;;;;AAkBF;;;;;;;;EAnBiCS,+B;;kBAsClBzB,kB","file":"request.js","sourcesContent":["import {StatelessWebexPlugin} from '@webex/webex-core';\n\nimport LoggerProxy from '../common/logs/logger-proxy';\nimport {\n  HTTP_VERBS,\n  RESOURCE,\n  API\n} from '../constants';\n\n/**\n * @class RechabilityRequest\n */\nclass RechabilityRequest extends StatelessWebexPlugin {\n  /**\n   * gets the cluster information\n   * @returns {Promise}\n   */\ngetClusters = () => this.request({\n  method: HTTP_VERBS.GET,\n  shouldRefreshAccessToken: false,\n  api: API.CALLIOPEDISCOVERY,\n  resource: RESOURCE.CLUSTERS\n})\n  .then((res) => {\n    const {clusters} = res.body;\n\n    LoggerProxy.logger.info(`ReachabilityRequest->getClusters#get clusters successful:${JSON.stringify(clusters)}`);\n\n    return Object.keys(clusters);\n  });\n\n/**\n   * gets remote SDP For Clusters\n   * @param {Object} localSDPList localSDPs for the cluster\n   * @returns {Object}\n   */\nremoteSDPForClusters = (localSDPList) => this.request({\n  method: HTTP_VERBS.POST,\n  shouldRefreshAccessToken: false,\n  api: API.CALLIOPEDISCOVERY,\n  resource: RESOURCE.REACHABILITY,\n  body: {offers: localSDPList}\n})\n  .then((res) => {\n    LoggerProxy.logger.info('ReachabilityRequest->remoteSDPForClusters#Remote SDPs got succcessfully');\n\n    return res.body;\n  });\n}\n\nexport default RechabilityRequest;\n"]}