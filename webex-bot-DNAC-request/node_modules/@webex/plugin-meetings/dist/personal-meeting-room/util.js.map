{"version":3,"sources":["util.js"],"names":["PersonalMeetingRoomUtil","getClaimPmrLink","pmrLink","validator","VALID_PMR_ADDRESS","test","match","VALID_PMR_LINK","WEBEX_DOT_COM","getClaimPmrPin","hostPin","VALID_PIN","getClaimedRequestParams","link","pin","options","method","HTTP_VERBS","POST","api","HECATE","resource","CMR_MEETINGS","CLAIM","body","userId","passcode","preferred","meetingAddress"],"mappings":";;;;;;AAAA;;AAWA,IAAMA,0BAA0B,EAAhC;;AAEAA,wBAAwBC,eAAxB,GAA0C,UAACC,OAAD,EAAa;AACrD,MAAIC,YAAYC,6BAAkBC,IAAlB,CAAuBH,OAAvB,CAAhB;;AAEA,MAAIC,SAAJ,EAAe;AACb,WAAOD,OAAP;AACD;AACDC,cAAYD,QAAQI,KAAR,CAAcC,yBAAd,CAAZ;AACA,MAAIJ,SAAJ,EAAe;AACb;AACA,WAAUA,UAAU,CAAV,CAAV,SAA0BA,UAAU,CAAV,CAA1B,SAA0CK,wBAA1C;AACD;;AAED,SAAO,IAAP;AACD,CAbD;;AAeAR,wBAAwBS,cAAxB,GAAyC,UAACC,OAAD,EAAa;AACpD,MAAIC,qBAAUN,IAAV,CAAeK,OAAf,CAAJ,EAA6B;AAC3B,WAAOA,OAAP;AACD;;AAED,SAAO,IAAP;AACD,CAND;;AAQAV,wBAAwBY,uBAAxB,GAAkD,UAACC,IAAD,EAAOC,GAAP,EAAYC,OAAZ;AAAA,SAAyB;AACzEC,YAAQC,sBAAWC,IADsD;AAEzEC,SAAKC,iBAFoE;AAGzEC,oBAAcC,uBAAd,SAA8BC,gBAH2C;AAIzEC,UAAM;AACJC,cAAQV,QAAQU,MADZ;AAEJC,gBAAUZ,GAFN;AAGJa,iBAAWZ,QAAQY,SAHf;AAIJC,sBAAgBf;AAJZ;AAJmE,GAAzB;AAAA,CAAlD;;kBAYeb,uB","file":"util.js","sourcesContent":["import {\n  HTTP_VERBS,\n  VALID_PIN,\n  VALID_PMR_ADDRESS,\n  VALID_PMR_LINK,\n  CMR_MEETINGS,\n  CLAIM,\n  HECATE,\n  WEBEX_DOT_COM\n} from '../constants';\n\nconst PersonalMeetingRoomUtil = {};\n\nPersonalMeetingRoomUtil.getClaimPmrLink = (pmrLink) => {\n  let validator = VALID_PMR_ADDRESS.test(pmrLink);\n\n  if (validator) {\n    return pmrLink;\n  }\n  validator = pmrLink.match(VALID_PMR_LINK);\n  if (validator) {\n    // userId + '@' + site + '.webex.com'\n    return `${validator[4]}@${validator[2]}.${WEBEX_DOT_COM}`;\n  }\n\n  return null;\n};\n\nPersonalMeetingRoomUtil.getClaimPmrPin = (hostPin) => {\n  if (VALID_PIN.test(hostPin)) {\n    return hostPin;\n  }\n\n  return null;\n};\n\nPersonalMeetingRoomUtil.getClaimedRequestParams = (link, pin, options) => ({\n  method: HTTP_VERBS.POST,\n  api: HECATE,\n  resource: `/${CMR_MEETINGS}/${CLAIM}`,\n  body: {\n    userId: options.userId,\n    passcode: pin,\n    preferred: options.preferred,\n    meetingAddress: link\n  }\n});\n\nexport default PersonalMeetingRoomUtil;\n"]}